import{array as b,function as f}from"https://esm.sh/fp-ts";import{anyPass as Qt}from"https://esm.sh/fp-ts-std/Predicate";import{array as q,eq as Ct,string as Bt,record as Kt,semigroup as te,function as E}from"https://esm.sh/fp-ts";import{guard as Nt,memoize as Dt}from"https://esm.sh/fp-ts-std/Function";var Y=e=>Nt(e);var x=e=>async t=>e(await t),tt=e=>t=>r=>r[e]===t;var I=e=>t=>E.flow(q.chunksOf(e),q.map(t),r=>Promise.all(r),x(q.flatten));var et=e=>E.pipe(e,E.tupled,Dt(Ct.contramap(JSON.stringify)(Bt.Eq)),E.untupled);import{array as Ht,function as j}from"https://esm.sh/fp-ts";var it={before:{start:j.constant({before:"start"}),fromUri:e=>({before:{uri:e}}),fromUid:e=>({before:{uid:e}})},after:{end:j.constant({after:"end"}),fromUri:e=>({after:{uri:e}}),fromUid:e=>({after:{uid:e}})}};var st=(e,t=1e3,r=document.body,s)=>new Promise(i=>{let n=o=>{a.disconnect(),i(o)},a=new MutationObserver(()=>{let o=document.querySelector(e);if(o&&(!s||o!==s))return n(o)});a.observe(r,{childList:!0,subtree:!0}),t&&setTimeout(()=>n(null),t)});var U=e=>new Promise(t=>setTimeout(t,e));var Q=e=>Spicetify.Platform.LibraryAPI.contains(...e),rt=(e,t)=>Spicetify.Platform.LibraryAPI[t?"add":"remove"](...e),nt=async e=>{let t=await Q(e);return await j.pipe(e,Ht.reduceWithIndex([[],[]],(r,s,i)=>(s[Number(t[r])].push(i),s)),([r,s])=>{let i=[];return r.length&&i.push(rt(r,!0)),s.length&&i.push(rt(s,!1)),Promise.all(i)})};var at=async(e,t=0,r=487)=>(await Spicetify.GraphQL.Request(Spicetify.GraphQL.Definitions.getAlbum,{uri:e,locale:Spicetify.Locale.getLocale(),offset:t,limit:r})).data.albumUnion;var ot=async(e,t)=>Spicetify.CosmosAsync.del(`https://api.spotify.com/v1/playlists/${e}/tracks`,{tracks:t.map(r=>({uri:r}))}),ue=I(50)(async e=>(await Spicetify.CosmosAsync.get(`https://api.spotify.com/v1/artists?ids=${e.join(",")}`)).artists),de=I(1)(async([e])=>[await Spicetify.CosmosAsync.get(`https://api.spotify.com/v1/playlists/${e}`)]),me=I(50)(async e=>(await Spicetify.CosmosAsync.get(`https://api.spotify.com/v1/albums?ids=${e.join(",")}`)).albums),ye=I(50)(async e=>(await Spicetify.CosmosAsync.get(`https://api.spotify.com/v1/tracks?ids=${e.join(",")}`)).tracks);var lt=async(e,t=0,r=100)=>(await Spicetify.Platform.LibraryAPI.getTracks({uri:e,offset:t,limit:r})).items,C=async e=>(await Spicetify.Platform.PlaylistAPI.getContents(e)).items,pt=async(e,t={})=>await Spicetify.Platform.RootlistAPI.createFolder(e,t);var ct=async(e,t={})=>await Spicetify.Platform.RootlistAPI.createPlaylist(e,t);var ut=async(e,t)=>await Spicetify.Platform.PlaylistPermissionsAPI.setBasePermission(e,t?"VIEWER":"BLOCKED");var dt=async e=>await Spicetify.Platform.RootlistAPI.getContents({folderUri:e});var mt=async(e,t,r={})=>await Spicetify.Platform.PlaylistAPI.add(e,t,r);var Mt=async(e,t,r,s="")=>{let i=new URL("https://ws.audioscrobbler.com/2.0/");return i.searchParams.append("method","track.getInfo"),i.searchParams.append("api_key",e),i.searchParams.append("artist",t),i.searchParams.append("track",r),i.searchParams.append("format","json"),i.searchParams.append("username",s),await fetch(i).then(n=>n.json())},ge=et(Mt);import{array as d,readonlyArray as T,record as $t,function as A,nonEmptyArray as qt}from"https://esm.sh/fp-ts";import{task as Ft}from"https://esm.sh/fp-ts";import{task as yt}from"https://esm.sh/fp-ts";import{constVoid as B}from"https://esm.sh/fp-ts/function";var{React:p,ReactDOM:Ot}=Spicetify,N=class e{constructor(t,r,s={}){this.name=t;this.sectionId=r;this.sectionFields=s;this.setRerender=null;this.pushSettings=async()=>{for(;!Spicetify?.Platform?.History?.listen;)await U(100);this.stopHistoryListener&&this.stopHistoryListener(),this.stopHistoryListener=Spicetify.Platform.History.listen(({pathname:t=""})=>{t==="/preferences"&&this.render()}),Spicetify.Platform.History.location.pathname==="/preferences"&&await this.render()};this.toObject=()=>new Proxy({},{get:(t,r)=>e.getFieldValue(this.getId(r.toString()))});this.rerender=()=>{this.setRerender&&this.setRerender(Math.random())};this.render=async()=>{for(;!document.getElementById("desktop.settings.selectLanguage");){if(Spicetify.Platform.History.location.pathname!=="/preferences")return;await U(100)}let t=document.querySelector(".x-settings-container"),r=Array.from(t.children).find(({id:s})=>s===this.sectionId);r||(r=document.createElement("div"),r.id=this.sectionId,r.className="settingsContainer",t.appendChild(r)),Ot.render(p.createElement(this.FieldsContainer,null),r)};this.addButton=(t,r,s,i=B,n={})=>{let a=this.getId(t);return n.onClick=i,this.sectionFields[t]={id:a,type:"button",description:r,text:s,events:n},this};this.addToggle=(t,r,s=yt.of(!0),i=B,n={})=>{let a=this.getId(t);return e.setDefaultFieldValue(a,s),n.onChange=i,this.sectionFields[t]={id:a,type:"toggle",description:r,events:n},this};this.addInput=(t,r,s,i=B,n="text",a={})=>{let o=this.getId(t);return e.setDefaultFieldValue(o,s),a.onChange=i,this.sectionFields[t]={id:o,type:"input",description:r,inputType:n,events:a},this};this.addDropDown=(t,r,s,i=yt.of(0),n=B,a={})=>{let o=this.getId(t);return e.setDefaultFieldValue(o,i),a.onChange=n,this.sectionFields[t]={id:o,type:"dropdown",description:r,options:s,events:a},this};this.addHidden=(t,r)=>{let s=this.getId(t);return e.setDefaultFieldValue(s,r),this.sectionFields[t]={id:s,type:"hidden",description:""},this};this.getId=t=>`extensions:${this.sectionId}:${t}`;this.useStateFor=t=>{let[r,s]=p.useState(e.getFieldValue(t));return[r,i=>{i!==void 0&&(s(i),e.setFieldValue(t,i))}]};this.FieldsContainer=()=>{let[t,r]=p.useState(0);return this.setRerender=r,p.createElement("div",{className:"x-settings-section",key:t},p.createElement("h2",{className:"Type__TypeElement-sc-goli3j-0 TypeElement-cello-textBase-type"},this.name),Object.entries(this.sectionFields).map(([s,i])=>p.createElement(this.Field,{field:i})))};this.Field=({field:t})=>{let r=tt("type");return p.createElement("div",{className:"x-settings-row"},p.createElement(this.SettingDescription,{id:t.id,description:t.description}),p.createElement("div",{className:"x-settings-secondColumn"},Y([[r("input"),this.SettingInputField],[r("button"),this.SettingButtonField],[r("toggle"),this.SettingToggleField],[r("dropdown"),this.SettingDropdownField]])(this.SettingHidden)(t)))};this.SettingDescription=({id:t,description:r})=>p.createElement("div",{className:"x-settings-firstColumn"},p.createElement("label",{className:"Type__TypeElement-sc-goli3j-0 TypeElement-viola-textSubdued-type",htmlFor:t},r));this.SettingButtonField=t=>p.createElement("span",{className:""},p.createElement("button",{id:t.id,className:"Button-sc-y0gtbx-0 Button-sm-buttonSecondary-useBrowserDefaultFocusStyle x-settings-button",...t.events,type:t.type},t.text));this.SettingToggleField=t=>{let[r,s]=this.useStateFor(t.id);return p.createElement("label",{className:"x-settings-secondColumn x-toggle-wrapper"},p.createElement("input",{id:t.id,className:"x-toggle-input",type:"checkbox",checked:e.getFieldValue(t.id),...t.events,onChange:i=>{s(i.currentTarget.checked),t.events.onChange?.(i)}}),p.createElement("span",{className:"x-toggle-indicatorWrapper"},p.createElement("span",{className:"x-toggle-indicator"})))};this.SettingInputField=t=>{let[r,s]=this.useStateFor(t.id);return p.createElement("input",{className:"x-settings-input",id:t.id,dir:"ltr",value:e.getFieldValue(t.id),type:t.inputType,...t.events,onChange:i=>{s(i.currentTarget.value),t.events.onChange?.(i)}})};this.SettingDropdownField=t=>{let[r,s]=this.useStateFor(t.id);return p.createElement("select",{className:"main-dropDown-dropDown",id:t.id,...t.events,onChange:i=>{s(i.currentTarget.selectedIndex),t.events.onChange?.(i)}},t.options.map((i,n)=>p.createElement("option",{selected:n===e.getFieldValue(t.id),value:n+1},i)))};this.SettingHidden=()=>p.createElement(p.Fragment,null)}static{this.waitForReact=async()=>{for(;!(Spicetify.React&&Spicetify.ReactDOM);)U(100);return this}}static{this.getFieldValue=t=>JSON.parse(Spicetify.LocalStorage.get(t)??"null")}static{this.setFieldValue=(t,r)=>{Spicetify.LocalStorage.set(t,JSON.stringify(r))}}static{this.setDefaultFieldValue=async(t,r)=>{e.getFieldValue(t)===null&&e.setFieldValue(t,await r())}}};import{array as _t,function as V}from"https://esm.sh/fp-ts";import{array as R,nonEmptyArray as ft,function as D}from"https://esm.sh/fp-ts";var{URI:gt}=Spicetify,Gt=(e,t,r)=>{let s="http://www.w3.org/2000/svg",i=document.createElementNS(s,"svg"),n=`${e}-${t}`;i.id=n,i.style.minHeight=`${r}px`,i.style.minWidth=`${r}px`,i.setAttributeNS(null,"width",`${r}px`),i.setAttributeNS(null,"height",`${r}px`),i.setAttributeNS(null,"viewBox","0 0 32 32");let a=document.createElementNS(s,"defs");i.append(a);let o=document.createElementNS(s,"linearGradient");a.append(o),o.id=`${n}-gradient`;let u=document.createElementNS(s,"stop");o.append(u),u.id=`${n}-gradient-left`,u.setAttributeNS(null,"offset","50%"),u.setAttributeNS(null,"stop-color","var(--spice-button-disabled)");let l=document.createElementNS(s,"stop");o.append(l),l.id=`${n}-gradient-right`,l.setAttributeNS(null,"offset","50%"),l.setAttributeNS(null,"stop-color","var(--spice-button-disabled)");let g=document.createElementNS(s,"path");return i.append(g),g.setAttributeNS(null,"fill",`url(#${o.id})`),g.setAttributeNS(null,"d","M20.388,10.918L32,12.118l-8.735,7.749L25.914,31.4l-9.893-6.088L6.127,31.4l2.695-11.533L0,12.118l11.547-1.2L16.026,0.6L20.388,10.918z"),[i,[u,l]]},H=(e,t)=>{let r=`stars-${e}`,s=document.createElement("span");s.className="stars",s.id=r,s.style.whiteSpace="nowrap",s.style.alignItems="center",s.style.display="flex";let i=ft.range(1,5).map(n=>Gt(r,n,t));return D.pipe(i,R.unzip,([n])=>n,R.map(n=>s.append(n))),[s,i]},S=e=>t=>{let r=s=>i=>t[Math.floor(i/2)][i%2].setAttributeNS(null,"stop-color",`var(--spice-button${s?"":"-disabled"})`);D.pipe(ft.range(0,9),R.spanLeft(s=>s<e),({init:s,rest:i})=>{s.map(r(!0)),i.map(r(!1))})},W=(e,t)=>r=>{let s=e.getBoundingClientRect(),i=r.clientX-s.left,n=c.halfStarRatings&&i<At;return 2*(t+1)-Number(n)},St=(e,t,r)=>async s=>{let i=r(),n=m[i],a=W(t,e)(s),o=M(c.heartThreshold);if(o){let l=a>=o,[g]=await Q([i]);g!==l&&nt([i])}if(n===a&&(a=0),n&&D.pipe(P.slice(0,n+1),R.filter(Boolean),R.map(l=>gt.from(l).id),R.map(l=>ot(l,[i]))),m[i]=a,a){let l=P[a];l||(l=await ct(O(a),it.after.fromUri(c.ratingsFolderUri)),ut(l,!1),P[a]=l),mt(l,[i])}_();let u=h(`${gt.fromString(i).id}`);u&&(D.pipe(u,G(a)),u.style.visibility=a?"visible":"hidden")};var ht="Ratings",L=16,At=L/2,M=e=>Number(e)*2,O=e=>(e/2).toFixed(1),bt=e=>Array.from(e.children),Vt=e=>Array.from(e.firstChild.firstChild.childNodes),xt=V.flow(bt,_t.map(Vt)),G=e=>V.flow(xt,S(e)),h=e=>document.getElementById(`stars-${e}`),Be=V.flow(h,bt),Rt=V.flow(h,xt),Pt=()=>Array.from(document.querySelectorAll(".main-trackList-indexable")),It=e=>e.querySelector(".main-trackList-trackListHeader")?.firstChild,Lt=e=>Array.from(e.querySelectorAll("div.main-trackList-trackListRow")),Tt=e=>{let t=e.querySelector("div.main-trackList-rowSectionEnd");return[Number(t.getAttribute("aria-colindex")),t]},vt=e=>e.querySelector(".Button-sm-16-buttonTertiary-iconOnly-useBrowserDefaultFocusStyle, .Button-textBrightAccent-sm-16-buttonTertiary-iconOnly-useBrowserDefaultFocusStyle"),wt=e=>(e=Object.values(e)[0].child.child.child.child,e.pendingProps.uri??e.child.pendingProps.uri);var kt=new N("Star Ratings","star-ratings").addToggle("hideHearts","Hide Hearts").addToggle("halfStarRatings","Half star ratings").addToggle("showInTrackLists","Show in tracklists").addToggle("nowPlayingStarsOnRight","Place the stars for now playing track on the right").addInput("heartThreshold","Threshold for liking trakcs",Ft.of("3.5")).addInput("skipThreshold","Threshold for skipping trakcs",Ft.of("1.5")).addInput("ratingsFolderUri","Ratings folder uri",async()=>(await pt(ht)).uri,$);kt.pushSettings();var c=kt.toObject();var jt=e=>Math.exp(e),Et=e=>A.pipe(e,d.map(t=>m[t]),d.filter(Boolean),d.map(t=>[t,jt(t)]),T.unzip,([t,r])=>T.reduceWithIndex(0,(s,i,n)=>i+n*r[s])(t)/T.reduce(0,(s,i)=>s+i)(r)||0),z=([e,t],r)=>{let[s,i]=A.pipe(t,T.unzip);e.addEventListener("mouseout",()=>S(m[r()]??0)(i)),A.pipe(s,T.mapWithIndex((n,a)=>{a.addEventListener("mousemove",A.flow(W(a,n),A.flip(S)(i))),a.addEventListener("click",St(n,s[n],r))}))},$=async()=>{let e=await dt(c.ratingsFolderUri),t=A.pipe(qt.range(0,10),d.map(r=>[O(r),r]),$t.fromEntries);P=A.pipe(e.items,d.map(r=>[r.type,r.uri,t[r.name]]),d.reduce([],(r,[s,i,n])=>(s==="playlist"&&n&&(r[n]=i),r))),globalThis.tracksRatings=m=await A.pipe(P,d.map(C),r=>Promise.all(r),x(d.map(r=>r??[])),x(d.map(d.map(r=>r.uri))),x(d.flatMap((r,s)=>r.map(i=>[i,s]))),x(d.reduce({},(r,[s,i])=>Object.assign(r,{[s]:Math.max(i,r[s]??0)}))))},P=[],m={};var{URI:y}=Spicetify,Wt=[null,null,null,null,"[index] 16px [first] 4fr [var1] 2fr [var2] 1fr [last] minmax(120px,1fr)","[index] 16px [first] 6fr [var1] 4fr [var2] 3fr [var3] 2fr [last] minmax(120px,1fr)","[index] 16px [first] 6fr [var1] 4fr [var2] 3fr [var3] minmax(120px,2fr) [var3] 2fr [last] minmax(120px,1fr)"];$();var zt=f.flow(Pt,b.map(e=>{let t=Lt(e);if(t.length===0)return;let r=o=>o.getElementsByClassName("stars").length>0,s=y.fromString(Spicetify.Platform.History.location.pathname),i=y.isArtist(s)?t[0]:It(e)??t[0],[n]=Tt(i),a=Wt[n-f.pipe(i,r,Number)];a&&(i.style.gridTemplateColumns=a,f.pipe(t,b.map(o=>{let u=vt(o);if(u&&(u.style.display=c.hideHearts?"none":"flex"),r(o))return;let l=o.querySelector(".starRatings");if(!l){let F=o.querySelector(".main-trackList-rowSectionEnd"),k=Number(F?.getAttribute("aria-colindex"));l=document.createElement("div"),l.setAttribute("aria-colindex",String(k)),F?.setAttribute("aria-colindex",String(k+1)),l.role="gridcell",l.style.display="flex",l.classList.add("main-trackList-rowSectionVariable"),l.classList.add("starRatings"),o.insertBefore(l,F),o.style.gridTemplateColumns=a}let g=wt(o),X=y.fromString(g);if(!y.isTrack(X))return;let[w,Z]=H(X.id,L);l.appendChild(w),f.pipe(Z,b.unzip,([F,k])=>k,S(m[g]??0)),z([w,Z],()=>g);let K=()=>w.style.visibility=m[g]?"visible":"hidden";o.addEventListener("mouseover",()=>w.style.visibility="visible"),o.addEventListener("mouseout",K),K()})))})),v,Ut=new MutationObserver(()=>c.showInTrackLists?zt():void 0);new MutationObserver(()=>{let e=v;v=document.querySelector("main"),v&&!v.isEqualNode(e)&&(e&&Ut.disconnect(),Ut.observe(v,{childList:!0,subtree:!0}))}).observe(document.body,{childList:!0,subtree:!0});var Jt=async(e,t)=>{let r=y.fromString(e);t||(t=Rt("collection"));let s;if(y.isAlbum(r))s=f.pipe(await at(`${r}`),i=>i.tracks.items,b.map(i=>i.track.uri));else if(y.isArtist(r))s=f.pipe(await lt(`${r}`),b.map(i=>i.uri));else if(y.isPlaylistV1OrV2(r))s=f.pipe(await C(`${r}`),b.map(i=>i.uri));else throw"me out the window";S(Et(s))(t)},J;Spicetify.Platform.History.listen(async({pathname:e})=>{if(!Qt([y.isAlbum,y.isArtist,y.isPlaylistV1OrV2])(e))return;J=await st(".main-actionBar-ActionBar .main-playButton-PlayButton",0,document.body,J);let[r,s]=H("collection",L*2);h("collection")?.remove(),J.after(r);let i=f.pipe(s,b.unzip,([n,a])=>a);Jt(e,i)});var Xt=()=>{if(document.querySelectorAll(".stars-now-playing").length!==0)return;let e=c.nowPlayingStarsOnRight?".main-nowPlayingBar-extraControls":".main-nowPlayingWidget-trackInfo",t=document.querySelector(e);if(!t)return;let[r,s]=H("now-playing",L);r.style.display="none",r.style.marginLeft="8px",r.style.marginRight="8px",c.nowPlayingStarsOnRight?t.prepend(r):t.after(r),z([r,s],()=>Spicetify.Player.data.track?.uri)};Xt();var _=()=>{let e=Spicetify.Player.data.track?.uri,t=h("now-playing");t.style.display=Spicetify.URI.isTrack(e)?"flex":"none",f.pipe(t,G(m[e]??0))};Spicetify.Player.addEventListener("songchange",()=>{let e=Spicetify.Player.data.item.uri;if(Number(c.skipThreshold)&&(m[e]||Number.MAX_SAFE_INTEGER)<=M(c.skipThreshold))return Spicetify.Player.next();_()});_();export{_ as updateNowPlayingStars};
//! Does location actually point to document.body?
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vZXh0ZW5zaW9ucy9zdGFyLXJhdGluZ3MvYXBwLnRzIiwgIi4uLy4uL3NoYXJlZC9mcC50cyIsICIuLi8uLi9zaGFyZWQvdXRpbC50cyIsICIuLi8uLi9zaGFyZWQvYXBpLnRzIiwgIi4uLy4uL2V4dGVuc2lvbnMvc3Rhci1yYXRpbmdzL3JhdGluZ3MudHMiLCAiLi4vLi4vZXh0ZW5zaW9ucy9zdGFyLXJhdGluZ3Mvc2V0dGluZ3MudHMiLCAiLi4vLi4vc2hhcmVkL3NldHRpbmdzLnRzeCIsICIuLi8uLi9leHRlbnNpb25zL3N0YXItcmF0aW5ncy91dGlsLnRzIiwgIi4uLy4uL2V4dGVuc2lvbnMvc3Rhci1yYXRpbmdzL3N0YXJzLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgeyBhcnJheSBhcyBhciwgZnVuY3Rpb24gYXMgZiB9IGZyb20gXCJodHRwczovL2VzbS5zaC9mcC10c1wiXHJcbmltcG9ydCB7IGFueVBhc3MgfSBmcm9tIFwiaHR0cHM6Ly9lc20uc2gvZnAtdHMtc3RkL1ByZWRpY2F0ZVwiXHJcbmltcG9ydCB7IGZldGNoR1FMQWxidW0sIGZldGNoUGxhdEFydGlzdExpa2VkVHJhY2tzLCBmZXRjaFBsYXRQbGF5bGlzdENvbnRlbnRzIH0gZnJvbSBcIi4uLy4uL3NoYXJlZC9hcGkudHNcIlxyXG5pbXBvcnQgeyBTcG90aWZ5VVJJLCB3YWl0Rm9yRWxlbWVudCB9IGZyb20gXCIuLi8uLi9zaGFyZWQvdXRpbC50c1wiXHJcbmltcG9ydCB7IGFkZFJhdGluZ3NMaXN0ZW5lcnNUb1N0YXJzLCBhZ2dyZWdhdGVSYXRpbmdzLCBsb2FkUmF0aW5ncywgdHJhY2tzUmF0aW5ncyB9IGZyb20gXCIuL3JhdGluZ3MudHNcIlxyXG5pbXBvcnQgeyBDT05GSUcgfSBmcm9tIFwiLi9zZXR0aW5ncy50c1wiXHJcbmltcG9ydCB7IFN0YXJTdG9wcywgY3JlYXRlU3RhcnMsIHNldFN0YXJzR3JhZGllbnRCeVJhdGluZyB9IGZyb20gXCIuL3N0YXJzLnRzXCJcclxuaW1wb3J0IHtcclxuICAgIFNUQVJfU0laRSxcclxuICAgIGdldEZpcnN0UGx1cyxcclxuICAgIGdldExhc3RDb2xJbmRleCxcclxuICAgIGdldFN0YXJzQ29udGFpbmVyLFxyXG4gICAgZ2V0U3RhcnNTdG9wcyxcclxuICAgIGdldFRyYWNrTGlzdEhlYWRlcixcclxuICAgIGdldFRyYWNrTGlzdFRyYWNrVXJpLFxyXG4gICAgZ2V0VHJhY2tMaXN0VHJhY2tzLFxyXG4gICAgZ2V0VHJhY2tMaXN0cyxcclxuICAgIHNldFN0YXJzR3JhZGllbnRGcm9tQ29udGFpbmVyQnlSYXRpbmcsXHJcbiAgICBzdGFyc1MyTixcclxufSBmcm9tIFwiLi91dGlsLnRzXCJcclxuXHJcbmNvbnN0IHsgVVJJIH0gPSBTcGljZXRpZnlcclxuXHJcbmNvbnN0IGN1c3RvbVRyYWNrTGlzdENvbENzcyA9IFtcclxuICAgIG51bGwsXHJcbiAgICBudWxsLFxyXG4gICAgbnVsbCxcclxuICAgIG51bGwsXHJcbiAgICBcIltpbmRleF0gMTZweCBbZmlyc3RdIDRmciBbdmFyMV0gMmZyIFt2YXIyXSAxZnIgW2xhc3RdIG1pbm1heCgxMjBweCwxZnIpXCIsXHJcbiAgICBcIltpbmRleF0gMTZweCBbZmlyc3RdIDZmciBbdmFyMV0gNGZyIFt2YXIyXSAzZnIgW3ZhcjNdIDJmciBbbGFzdF0gbWlubWF4KDEyMHB4LDFmcilcIixcclxuICAgIFwiW2luZGV4XSAxNnB4IFtmaXJzdF0gNmZyIFt2YXIxXSA0ZnIgW3ZhcjJdIDNmciBbdmFyM10gbWlubWF4KDEyMHB4LDJmcikgW3ZhcjNdIDJmciBbbGFzdF0gbWlubWF4KDEyMHB4LDFmcilcIixcclxuXVxyXG5cclxubG9hZFJhdGluZ3MoKVxyXG5cclxuLy8gVFJBQ0tMSVNUU1xyXG5cclxuY29uc3QgdXBkYXRlVHJhY2tMaXN0U3RhcnMgPSBmLmZsb3coXHJcbiAgICBnZXRUcmFja0xpc3RzLFxyXG4gICAgYXIubWFwKHRyYWNrTGlzdCA9PiB7XHJcbiAgICAgICAgY29uc3QgdHJhY2tMaXN0VHJhY2tzID0gZ2V0VHJhY2tMaXN0VHJhY2tzKHRyYWNrTGlzdClcclxuICAgICAgICBpZiAodHJhY2tMaXN0VHJhY2tzLmxlbmd0aCA9PT0gMCkgcmV0dXJuXHJcblxyXG4gICAgICAgIGNvbnN0IGhhc1N0YXJzID0gKHBhcmVudDogSFRNTEVsZW1lbnQpID0+IHBhcmVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwic3RhcnNcIikubGVuZ3RoID4gMFxyXG4gICAgICAgIGNvbnN0IGxvY2F0aW9uVXJpID0gVVJJLmZyb21TdHJpbmcoU3BpY2V0aWZ5LlBsYXRmb3JtLkhpc3RvcnkubG9jYXRpb24ucGF0aG5hbWUpXHJcblxyXG4gICAgICAgIGNvbnN0IGZpcnN0RWxlbWVudCA9IFVSSS5pc0FydGlzdChsb2NhdGlvblVyaSEpXHJcbiAgICAgICAgICAgID8gdHJhY2tMaXN0VHJhY2tzWzBdXHJcbiAgICAgICAgICAgIDogZ2V0VHJhY2tMaXN0SGVhZGVyKHRyYWNrTGlzdCkgPz8gdHJhY2tMaXN0VHJhY2tzWzBdXHJcblxyXG4gICAgICAgIGNvbnN0IFtsYXN0Q29sSW5kZXhdID0gZ2V0TGFzdENvbEluZGV4KGZpcnN0RWxlbWVudClcclxuICAgICAgICBjb25zdCBuZXdUcmFja0xpc3RDb2xDc3MgPSBjdXN0b21UcmFja0xpc3RDb2xDc3NbbGFzdENvbEluZGV4IC0gZi5waXBlKGZpcnN0RWxlbWVudCwgaGFzU3RhcnMsIE51bWJlcildXHJcblxyXG4gICAgICAgIGlmICghbmV3VHJhY2tMaXN0Q29sQ3NzKSByZXR1cm5cclxuICAgICAgICBmaXJzdEVsZW1lbnQuc3R5bGUuZ3JpZFRlbXBsYXRlQ29sdW1ucyA9IG5ld1RyYWNrTGlzdENvbENzc1xyXG5cclxuICAgICAgICBmLnBpcGUoXHJcbiAgICAgICAgICAgIHRyYWNrTGlzdFRyYWNrcyxcclxuICAgICAgICAgICAgYXIubWFwKHRyYWNrID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGhlYXJ0ID0gZ2V0Rmlyc3RQbHVzKHRyYWNrKVxyXG4gICAgICAgICAgICAgICAgaWYgKGhlYXJ0KSBoZWFydC5zdHlsZS5kaXNwbGF5ID0gQ09ORklHLmhpZGVIZWFydHMgPyBcIm5vbmVcIiA6IFwiZmxleFwiXHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGhhc1N0YXJzKHRyYWNrKSkgcmV0dXJuXHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHJhdGluZ0NvbHVtbjogSFRNTERpdkVsZW1lbnQgfCBudWxsID0gdHJhY2sucXVlcnlTZWxlY3RvcihcIi5zdGFyUmF0aW5nc1wiKVxyXG4gICAgICAgICAgICAgICAgaWYgKCFyYXRpbmdDb2x1bW4pIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0Q29sdW1uID0gdHJhY2sucXVlcnlTZWxlY3RvcihcIi5tYWluLXRyYWNrTGlzdC1yb3dTZWN0aW9uRW5kXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sSW5kZXggPSBOdW1iZXIobGFzdENvbHVtbj8uZ2V0QXR0cmlidXRlKFwiYXJpYS1jb2xpbmRleFwiKSlcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmF0aW5nQ29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHJhdGluZ0NvbHVtbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWNvbGluZGV4XCIsIFN0cmluZyhjb2xJbmRleCkpXHJcbiAgICAgICAgICAgICAgICAgICAgbGFzdENvbHVtbj8uc2V0QXR0cmlidXRlKFwiYXJpYS1jb2xpbmRleFwiLCBTdHJpbmcoY29sSW5kZXggKyAxKSlcclxuICAgICAgICAgICAgICAgICAgICByYXRpbmdDb2x1bW4ucm9sZSA9IFwiZ3JpZGNlbGxcIlxyXG4gICAgICAgICAgICAgICAgICAgIHJhdGluZ0NvbHVtbi5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCJcclxuICAgICAgICAgICAgICAgICAgICByYXRpbmdDb2x1bW4uY2xhc3NMaXN0LmFkZChcIm1haW4tdHJhY2tMaXN0LXJvd1NlY3Rpb25WYXJpYWJsZVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHJhdGluZ0NvbHVtbi5jbGFzc0xpc3QuYWRkKFwic3RhclJhdGluZ3NcIilcclxuICAgICAgICAgICAgICAgICAgICB0cmFjay5pbnNlcnRCZWZvcmUocmF0aW5nQ29sdW1uLCBsYXN0Q29sdW1uKVxyXG4gICAgICAgICAgICAgICAgICAgIHRyYWNrLnN0eWxlLmdyaWRUZW1wbGF0ZUNvbHVtbnMgPSBuZXdUcmFja0xpc3RDb2xDc3MhXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgdHJhY2tVcmkgPSBnZXRUcmFja0xpc3RUcmFja1VyaSh0cmFjaylcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVyaSA9IFVSSS5mcm9tU3RyaW5nKHRyYWNrVXJpKVxyXG5cclxuICAgICAgICAgICAgICAgIC8vVE9ETzogTG9jYWwgVHJhY2tzIHN1cHBvcnRcclxuICAgICAgICAgICAgICAgIGlmICghVVJJLmlzVHJhY2sodXJpISkpIHJldHVyblxyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IFtzdGFyc0NvbnRhaW5lciwgc3RhcnNDb25zdHJ1Y3RzXSA9IGNyZWF0ZVN0YXJzKHVyaSEuaWQhLCBTVEFSX1NJWkUpXHJcbiAgICAgICAgICAgICAgICByYXRpbmdDb2x1bW4uYXBwZW5kQ2hpbGQoc3RhcnNDb250YWluZXIpXHJcbiAgICAgICAgICAgICAgICBmLnBpcGUoXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhcnNDb25zdHJ1Y3RzLFxyXG4gICAgICAgICAgICAgICAgICAgIGFyLnVuemlwLFxyXG4gICAgICAgICAgICAgICAgICAgIChbXywgc3RhcnNTdG9wc10pID0+IHN0YXJzU3RvcHMsXHJcbiAgICAgICAgICAgICAgICAgICAgc2V0U3RhcnNHcmFkaWVudEJ5UmF0aW5nKHRyYWNrc1JhdGluZ3NbdHJhY2tVcmldID8/IDApLFxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgYWRkUmF0aW5nc0xpc3RlbmVyc1RvU3RhcnMoW3N0YXJzQ29udGFpbmVyLCBzdGFyc0NvbnN0cnVjdHNdLCAoKSA9PiB0cmFja1VyaSlcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZXRWaXNpYmxlQ29uZCA9ICgpID0+XHJcbiAgICAgICAgICAgICAgICAgICAgKHN0YXJzQ29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSB0cmFja3NSYXRpbmdzW3RyYWNrVXJpXSA/IFwidmlzaWJsZVwiIDogXCJoaWRkZW5cIilcclxuXHJcbiAgICAgICAgICAgICAgICB0cmFjay5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsICgpID0+IChzdGFyc0NvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCIpKVxyXG4gICAgICAgICAgICAgICAgdHJhY2suYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsIHNldFZpc2libGVDb25kKVxyXG4gICAgICAgICAgICAgICAgc2V0VmlzaWJsZUNvbmQoKVxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICApXHJcbiAgICB9KSxcclxuKVxyXG5cclxubGV0IG1haW5FbGVtZW50OiBIVE1MRWxlbWVudFxyXG5jb25zdCBtYWluRWxlbWVudE9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKCkgPT4gKENPTkZJRy5zaG93SW5UcmFja0xpc3RzID8gdXBkYXRlVHJhY2tMaXN0U3RhcnMoKSA6IHVuZGVmaW5lZCkpXHJcblxyXG5uZXcgTXV0YXRpb25PYnNlcnZlcigoKSA9PiB7XHJcbiAgICBjb25zdCBvbGRNYWluRWxlbWVudCA9IG1haW5FbGVtZW50XHJcbiAgICBtYWluRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTEVsZW1lbnQ+KFwibWFpblwiKSFcclxuICAgIGlmIChtYWluRWxlbWVudCAmJiAhbWFpbkVsZW1lbnQuaXNFcXVhbE5vZGUob2xkTWFpbkVsZW1lbnQpKSB7XHJcbiAgICAgICAgaWYgKG9sZE1haW5FbGVtZW50KSBtYWluRWxlbWVudE9ic2VydmVyLmRpc2Nvbm5lY3QoKVxyXG4gICAgICAgIG1haW5FbGVtZW50T2JzZXJ2ZXIub2JzZXJ2ZShtYWluRWxlbWVudCwge1xyXG4gICAgICAgICAgICBjaGlsZExpc3Q6IHRydWUsXHJcbiAgICAgICAgICAgIHN1YnRyZWU6IHRydWUsXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufSkub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCB7XHJcbiAgICBjaGlsZExpc3Q6IHRydWUsXHJcbiAgICBzdWJ0cmVlOiB0cnVlLFxyXG59KVxyXG5cclxuLy8gQ09MTEVDVElPTlxyXG5cclxuY29uc3QgdXBkYXRlQ29sbGVjdGlvblN0YXJzID0gYXN5bmMgKHBhdGhuYW1lOiBTcG90aWZ5VVJJLCBzdGFyc1N0b3BzPzogU3RhclN0b3BzW10pID0+IHtcclxuICAgIGNvbnN0IHVyaSA9IFVSSS5mcm9tU3RyaW5nKHBhdGhuYW1lKSBhcyBSZXF1aXJlZDxTcGljZXRpZnkuVVJJPlxyXG5cclxuICAgIGlmICghc3RhcnNTdG9wcykgc3RhcnNTdG9wcyA9IGdldFN0YXJzU3RvcHMoXCJjb2xsZWN0aW9uXCIpXHJcblxyXG4gICAgbGV0IHVyaXNcclxuICAgIGlmIChVUkkuaXNBbGJ1bSh1cmkpKVxyXG4gICAgICAgIHVyaXMgPSBmLnBpcGUoXHJcbiAgICAgICAgICAgIGF3YWl0IGZldGNoR1FMQWxidW0oYCR7dXJpfWApLFxyXG4gICAgICAgICAgICB4ID0+IHgudHJhY2tzLml0ZW1zLFxyXG4gICAgICAgICAgICBhci5tYXAoeCA9PiB4LnRyYWNrLnVyaSksXHJcbiAgICAgICAgKVxyXG4gICAgZWxzZSBpZiAoVVJJLmlzQXJ0aXN0KHVyaSkpXHJcbiAgICAgICAgdXJpcyA9IGYucGlwZShcclxuICAgICAgICAgICAgYXdhaXQgZmV0Y2hQbGF0QXJ0aXN0TGlrZWRUcmFja3MoYCR7dXJpfWApLFxyXG4gICAgICAgICAgICBhci5tYXAoeCA9PiB4LnVyaSksXHJcbiAgICAgICAgKVxyXG4gICAgZWxzZSBpZiAoVVJJLmlzUGxheWxpc3RWMU9yVjIodXJpKSlcclxuICAgICAgICB1cmlzID0gZi5waXBlKFxyXG4gICAgICAgICAgICBhd2FpdCBmZXRjaFBsYXRQbGF5bGlzdENvbnRlbnRzKGAke3VyaX1gKSxcclxuICAgICAgICAgICAgYXIubWFwKHggPT4geC51cmkpLFxyXG4gICAgICAgIClcclxuICAgIGVsc2UgdGhyb3cgXCJtZSBvdXQgdGhlIHdpbmRvd1wiXHJcblxyXG4gICAgc2V0U3RhcnNHcmFkaWVudEJ5UmF0aW5nKGFnZ3JlZ2F0ZVJhdGluZ3ModXJpcykpKHN0YXJzU3RvcHMpXHJcbn1cclxuXHJcbmxldCBsYXN0Q29sbGVjdGlvblBsYXlCdXR0b246IEVsZW1lbnRcclxuU3BpY2V0aWZ5LlBsYXRmb3JtLkhpc3RvcnkubGlzdGVuKGFzeW5jICh7IHBhdGhuYW1lIH06IHsgcGF0aG5hbWU6IHN0cmluZyB9KSA9PiB7XHJcbiAgICBjb25zdCBwYWdlSGFzSGVhcnQgPSBhbnlQYXNzKFtVUkkuaXNBbGJ1bSwgVVJJLmlzQXJ0aXN0LCBVUkkuaXNQbGF5bGlzdFYxT3JWMl0pXHJcbiAgICBpZiAoIXBhZ2VIYXNIZWFydChwYXRobmFtZSkpIHJldHVyblxyXG5cclxuICAgIGxhc3RDb2xsZWN0aW9uUGxheUJ1dHRvbiA9IChhd2FpdCB3YWl0Rm9yRWxlbWVudChcclxuICAgICAgICBcIi5tYWluLWFjdGlvbkJhci1BY3Rpb25CYXIgLm1haW4tcGxheUJ1dHRvbi1QbGF5QnV0dG9uXCIsXHJcbiAgICAgICAgMCxcclxuICAgICAgICBkb2N1bWVudC5ib2R5LFxyXG4gICAgICAgIGxhc3RDb2xsZWN0aW9uUGxheUJ1dHRvbixcclxuICAgICkpIVxyXG5cclxuICAgIGNvbnN0IFtjb2xsZWN0aW9uU3RhcnNDb250YWluZXIsIGNvbGxlY3Rpb25TdGFyc0NvbnN0cnVjdHNdID0gY3JlYXRlU3RhcnMoXCJjb2xsZWN0aW9uXCIsIFNUQVJfU0laRSAqIDIpXHJcbiAgICBnZXRTdGFyc0NvbnRhaW5lcihcImNvbGxlY3Rpb25cIik/LnJlbW92ZSgpXHJcbiAgICBsYXN0Q29sbGVjdGlvblBsYXlCdXR0b24hLmFmdGVyKGNvbGxlY3Rpb25TdGFyc0NvbnRhaW5lcilcclxuXHJcbiAgICBjb25zdCBjb2xsZWN0aW9uU3RhcnNTdG9wcyA9IGYucGlwZShjb2xsZWN0aW9uU3RhcnNDb25zdHJ1Y3RzLCBhci51bnppcCwgKFtfLCBzdGFyc1N0b3BzXSkgPT4gc3RhcnNTdG9wcylcclxuXHJcbiAgICB1cGRhdGVDb2xsZWN0aW9uU3RhcnMocGF0aG5hbWUsIGNvbGxlY3Rpb25TdGFyc1N0b3BzKVxyXG59KVxyXG5cclxuLy8gTk9XIFBMQVlJTkdcclxuXHJcbmNvbnN0IGNyZWF0ZU5vd1BsYXlpbmdTdGFycyA9ICgpID0+IHtcclxuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnN0YXJzLW5vdy1wbGF5aW5nXCIpLmxlbmd0aCAhPT0gMCkgcmV0dXJuXHJcblxyXG4gICAgY29uc3Qgbm93UGxheWluZ0VsZW1lbnRTZWxlY3RvciA9IENPTkZJRy5ub3dQbGF5aW5nU3RhcnNPblJpZ2h0XHJcbiAgICAgICAgPyBcIi5tYWluLW5vd1BsYXlpbmdCYXItZXh0cmFDb250cm9sc1wiXHJcbiAgICAgICAgOiBcIi5tYWluLW5vd1BsYXlpbmdXaWRnZXQtdHJhY2tJbmZvXCJcclxuICAgIGNvbnN0IG5vd1BsYXlpbmdFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihub3dQbGF5aW5nRWxlbWVudFNlbGVjdG9yKVxyXG4gICAgaWYgKCFub3dQbGF5aW5nRWxlbWVudCkgcmV0dXJuXHJcblxyXG4gICAgY29uc3QgW25vd1BsYXlpbmdTdGFyc0NvbnRhaW5lciwgbm93UGxheWluZ1N0YXJDb25zdHJ1Y3RdID0gY3JlYXRlU3RhcnMoXCJub3ctcGxheWluZ1wiLCBTVEFSX1NJWkUpXHJcbiAgICBub3dQbGF5aW5nU3RhcnNDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXHJcbiAgICBub3dQbGF5aW5nU3RhcnNDb250YWluZXIuc3R5bGUubWFyZ2luTGVmdCA9IFwiOHB4XCJcclxuICAgIG5vd1BsYXlpbmdTdGFyc0NvbnRhaW5lci5zdHlsZS5tYXJnaW5SaWdodCA9IFwiOHB4XCJcclxuXHJcbiAgICBpZiAoIUNPTkZJRy5ub3dQbGF5aW5nU3RhcnNPblJpZ2h0KSBub3dQbGF5aW5nRWxlbWVudC5hZnRlcihub3dQbGF5aW5nU3RhcnNDb250YWluZXIpXHJcbiAgICBlbHNlIG5vd1BsYXlpbmdFbGVtZW50LnByZXBlbmQobm93UGxheWluZ1N0YXJzQ29udGFpbmVyKVxyXG5cclxuICAgIGFkZFJhdGluZ3NMaXN0ZW5lcnNUb1N0YXJzKFxyXG4gICAgICAgIFtub3dQbGF5aW5nU3RhcnNDb250YWluZXIsIG5vd1BsYXlpbmdTdGFyQ29uc3RydWN0XSxcclxuICAgICAgICAoKSA9PiBTcGljZXRpZnkuUGxheWVyLmRhdGEudHJhY2s/LnVyaSEsXHJcbiAgICApXHJcbn1cclxuXHJcbmNyZWF0ZU5vd1BsYXlpbmdTdGFycygpXHJcblxyXG5leHBvcnQgY29uc3QgdXBkYXRlTm93UGxheWluZ1N0YXJzID0gKCkgPT4ge1xyXG4gICAgY29uc3QgdHJhY2tVcmkgPSBTcGljZXRpZnkuUGxheWVyLmRhdGEudHJhY2s/LnVyaSFcclxuICAgIGNvbnN0IG5vd1BsYXlpbmdTdGFyc0NvbnRhaW5lciA9IGdldFN0YXJzQ29udGFpbmVyKFwibm93LXBsYXlpbmdcIilcclxuXHJcbiAgICBub3dQbGF5aW5nU3RhcnNDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IFNwaWNldGlmeS5VUkkuaXNUcmFjayh0cmFja1VyaSkgPyBcImZsZXhcIiA6IFwibm9uZVwiXHJcblxyXG4gICAgZi5waXBlKG5vd1BsYXlpbmdTdGFyc0NvbnRhaW5lciwgc2V0U3RhcnNHcmFkaWVudEZyb21Db250YWluZXJCeVJhdGluZyh0cmFja3NSYXRpbmdzW3RyYWNrVXJpXSA/PyAwKSlcclxufVxyXG5cclxuU3BpY2V0aWZ5LlBsYXllci5hZGRFdmVudExpc3RlbmVyKFwic29uZ2NoYW5nZVwiLCAoKSA9PiB7XHJcbiAgICBjb25zdCB0cmFja1VyaSA9IFNwaWNldGlmeS5QbGF5ZXIuZGF0YS5pdGVtLnVyaSFcclxuICAgIGlmIChcclxuICAgICAgICBOdW1iZXIoQ09ORklHLnNraXBUaHJlc2hvbGQpICYmXHJcbiAgICAgICAgKHRyYWNrc1JhdGluZ3NbdHJhY2tVcmldIHx8IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKSA8PSBzdGFyc1MyTihDT05GSUcuc2tpcFRocmVzaG9sZClcclxuICAgIClcclxuICAgICAgICByZXR1cm4gU3BpY2V0aWZ5LlBsYXllci5uZXh0KClcclxuXHJcbiAgICB1cGRhdGVOb3dQbGF5aW5nU3RhcnMoKVxyXG59KVxyXG51cGRhdGVOb3dQbGF5aW5nU3RhcnMoKVxyXG4iLCAiaW1wb3J0IHtcclxuICAgIGFycmF5IGFzIGFyLFxyXG4gICAgZXEsXHJcbiAgICBzdHJpbmcgYXMgc3RyLFxyXG4gICAgcmVjb3JkIGFzIHJlYyxcclxuICAgIHJlZmluZW1lbnQgYXMgcmVmLFxyXG4gICAgc2VtaWdyb3VwIGFzIHNnLFxyXG4gICAgZnVuY3Rpb24gYXMgZixcclxufSBmcm9tIFwiaHR0cHM6Ly9lc20uc2gvZnAtdHNcIlxyXG5pbXBvcnQgeyBndWFyZCwgbWVtb2l6ZSB9IGZyb20gXCJodHRwczovL2VzbS5zaC9mcC10cy1zdGQvRnVuY3Rpb25cIlxyXG5cclxudHlwZSByZWZpbmVCcmFuY2g8QSwgQiBleHRlbmRzIEEsIFI+ID0gW3JlZi5SZWZpbmVtZW50PEEsIEI+LCAoeDogQikgPT4gUl1cclxuZXhwb3J0IGNvbnN0IGd1YXJkMiA9IDxBLCBBMSBleHRlbmRzIEEsIEEyIGV4dGVuZHMgQSwgUj4oYnJhbmNoZXM6IFtyZWZpbmVCcmFuY2g8QSwgQTEsIFI+LCByZWZpbmVCcmFuY2g8QSwgQTIsIFI+XSkgPT5cclxuICAgIGd1YXJkKGJyYW5jaGVzIGFzIHVua25vd24gYXMgW3JlZmluZUJyYW5jaDxBLCBBLCBSPiwgcmVmaW5lQnJhbmNoPEEsIEEsIFI+XSlcclxuZXhwb3J0IGNvbnN0IGd1YXJkMyA9IDxBLCBBMSBleHRlbmRzIEEsIEEyIGV4dGVuZHMgQSwgQTMgZXh0ZW5kcyBBLCBSPihcclxuICAgIGJyYW5jaGVzOiBbcmVmaW5lQnJhbmNoPEEsIEExLCBSPiwgcmVmaW5lQnJhbmNoPEEsIEEyLCBSPiwgcmVmaW5lQnJhbmNoPEEsIEEzLCBSPl0sXHJcbikgPT4gZ3VhcmQoYnJhbmNoZXMgYXMgdW5rbm93biBhcyBbcmVmaW5lQnJhbmNoPEEsIEEsIFI+LCByZWZpbmVCcmFuY2g8QSwgQSwgUj4sIHJlZmluZUJyYW5jaDxBLCBBLCBSPl0pXHJcbmV4cG9ydCBjb25zdCBndWFyZDQgPSA8QSwgQTEgZXh0ZW5kcyBBLCBBMiBleHRlbmRzIEEsIEEzIGV4dGVuZHMgQSwgQTQgZXh0ZW5kcyBBLCBSPihcclxuICAgIGJyYW5jaGVzOiBbcmVmaW5lQnJhbmNoPEEsIEExLCBSPiwgcmVmaW5lQnJhbmNoPEEsIEEyLCBSPiwgcmVmaW5lQnJhbmNoPEEsIEEzLCBSPiwgcmVmaW5lQnJhbmNoPEEsIEE0LCBSPl0sXHJcbikgPT5cclxuICAgIGd1YXJkKFxyXG4gICAgICAgIGJyYW5jaGVzIGFzIHVua25vd24gYXMgW1xyXG4gICAgICAgICAgICByZWZpbmVCcmFuY2g8QSwgQSwgUj4sXHJcbiAgICAgICAgICAgIHJlZmluZUJyYW5jaDxBLCBBLCBSPixcclxuICAgICAgICAgICAgcmVmaW5lQnJhbmNoPEEsIEEsIFI+LFxyXG4gICAgICAgICAgICByZWZpbmVCcmFuY2g8QSwgQSwgUj4sXHJcbiAgICAgICAgXSxcclxuICAgIClcclxuZXhwb3J0IGNvbnN0IGd1YXJkNSA9IDxBLCBBMSBleHRlbmRzIEEsIEEyIGV4dGVuZHMgQSwgQTMgZXh0ZW5kcyBBLCBBNCBleHRlbmRzIEEsIEE1IGV4dGVuZHMgQSwgUj4oXHJcbiAgICBicmFuY2hlczogW1xyXG4gICAgICAgIHJlZmluZUJyYW5jaDxBLCBBMSwgUj4sXHJcbiAgICAgICAgcmVmaW5lQnJhbmNoPEEsIEEyLCBSPixcclxuICAgICAgICByZWZpbmVCcmFuY2g8QSwgQTMsIFI+LFxyXG4gICAgICAgIHJlZmluZUJyYW5jaDxBLCBBNCwgUj4sXHJcbiAgICAgICAgcmVmaW5lQnJhbmNoPEEsIEE1LCBSPixcclxuICAgIF0sXHJcbikgPT5cclxuICAgIGd1YXJkKFxyXG4gICAgICAgIGJyYW5jaGVzIGFzIHVua25vd24gYXMgW1xyXG4gICAgICAgICAgICByZWZpbmVCcmFuY2g8QSwgQSwgUj4sXHJcbiAgICAgICAgICAgIHJlZmluZUJyYW5jaDxBLCBBLCBSPixcclxuICAgICAgICAgICAgcmVmaW5lQnJhbmNoPEEsIEEsIFI+LFxyXG4gICAgICAgICAgICByZWZpbmVCcmFuY2g8QSwgQSwgUj4sXHJcbiAgICAgICAgICAgIHJlZmluZUJyYW5jaDxBLCBBLCBSPixcclxuICAgICAgICBdLFxyXG4gICAgKVxyXG5cclxuZXhwb3J0IGNvbnN0IG9iakNvbmNhdDIgPSA8QTEsIEEyPigpID0+IHJlYy5nZXRVbmlvblNlbWlncm91cChzZy5maXJzdDxhbnk+KCkpLmNvbmNhdCBhcyAoeDogQTEsIHk6IEEyKSA9PiBBMSAmIEEyXHJcbmV4cG9ydCBjb25zdCBvYmpDb25jYXQgPSA8QT4oKSA9PiBhci5yZWR1Y2Uoe30gYXMgQSwgb2JqQ29uY2F0MjxBLCBBPigpKVxyXG5cclxudHlwZSBhc3luYyA9IHtcclxuICAgIDxBLCBCPihmOiAoYTogQSkgPT4gUHJvbWlzZTxCPik6IChmYTogUHJvbWlzZTxBPikgPT4gUHJvbWlzZTxCPlxyXG4gICAgPEEsIEI+KGY6IChhOiBBKSA9PiBCKTogKGZhOiBQcm9taXNlPEE+KSA9PiBQcm9taXNlPEI+XHJcbn1cclxuZXhwb3J0IGNvbnN0IHBNY2hhaW46IGFzeW5jID1cclxuICAgIDxBLCBSPihmOiAoYTogQSkgPT4gUikgPT5cclxuICAgIGFzeW5jIChmYTogQSkgPT5cclxuICAgICAgICBmKGF3YWl0IGZhKVxyXG5cclxuZXhwb3J0IGNvbnN0IGlzID1cclxuICAgIDxBPihjOiBrZXlvZiBBKSA9PlxyXG4gICAgPEIgZXh0ZW5kcyBBPihhOiBBW3R5cGVvZiBjXSkgPT5cclxuICAgIChmaWVsZDogQSk6IGZpZWxkIGlzIEIgPT5cclxuICAgICAgICBmaWVsZFtjXSA9PT0gYVxyXG5cclxuZXhwb3J0IGNvbnN0IHRhcEFueSA9XHJcbiAgICA8QT4oZjogKGE6IEEpID0+IHZvaWQpID0+XHJcbiAgICAoZmE6IEEpID0+IHtcclxuICAgICAgICBmKGZhKVxyXG4gICAgICAgIHJldHVybiBmYVxyXG4gICAgfVxyXG5cclxuZXhwb3J0IGNvbnN0IGNodW5ja2lmeSA9XHJcbiAgICAobjogbnVtYmVyKSA9PlxyXG4gICAgPEEsIFI+KGc6IChhOiBBW10pID0+IFByb21pc2U8UltdPikgPT5cclxuICAgICAgICBmLmZsb3coYXIuY2h1bmtzT2Yobik8QT4sIGFyLm1hcChnKSwgcHMgPT4gUHJvbWlzZS5hbGwocHMpLCBwTWNoYWluKGFyLmZsYXR0ZW4pKVxyXG5cclxuZXhwb3J0IGNvbnN0IHdpdGhQcm9ncmVzcyA9XHJcbiAgICA8RiBleHRlbmRzIChmOiAoLi4uYTogYW55KSA9PiBhbnkpID0+IChmYTogYW55KSA9PiBhbnk+KG1hcDogRikgPT5cclxuICAgIChmOiBQYXJhbWV0ZXJzPEY+WzBdKSA9PlxyXG4gICAgKGZhOiBQYXJhbWV0ZXJzPFJldHVyblR5cGU8Rj4+WzBdKTogUmV0dXJuVHlwZTxSZXR1cm5UeXBlPEY+PiA9PiB7XHJcbiAgICAgICAgbGV0IGkgPSAwXHJcbiAgICAgICAgcmV0dXJuIG1hcChhc3luYyAoLi4uYTogUGFyYW1ldGVyczxQYXJhbWV0ZXJzPEY+WzBdPikgPT4ge1xyXG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiBGdWNrIG1lXHJcbiAgICAgICAgICAgIGNvbnN0IHJldCA9IGF3YWl0IGYoLi4uYSlcclxuICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3MgPSBNYXRoLnJvdW5kKChpKysgLyBPYmplY3QudmFsdWVzKGZhKS5sZW5ndGgpICogMTAwKVxyXG4gICAgICAgICAgICBTcGljZXRpZnkuc2hvd05vdGlmaWNhdGlvbihgTG9hZGluZzogJHtwcm9ncmVzc30lYCwgZmFsc2UsIDIwMClcclxuICAgICAgICAgICAgcmV0dXJuIHJldFxyXG4gICAgICAgIH0pKGZhKVxyXG4gICAgfVxyXG5cclxuZXhwb3J0IGNvbnN0IG1lbW9pemUyID0gPEEgZXh0ZW5kcyBhbnlbXSwgUj4oZm46ICguLi5hcmdzOiBBKSA9PiBSKSA9PlxyXG4gICAgZi5waXBlKGZuLCBmLnR1cGxlZCwgbWVtb2l6ZTxBPihlcS5jb250cmFtYXAoSlNPTi5zdHJpbmdpZnkpKHN0ci5FcSkpLCBmLnVudHVwbGVkKVxyXG4iLCAiLy8gZXhwb3J0IGludGVyZmFjZSBTcG90aWZ5SURcclxuLy8gICAgIGV4dGVuZHMgTmV3dHlwZTx7IHJlYWRvbmx5IFNwb3RpZnlJRDogdW5pcXVlIHN5bWJvbCB9LCBzdHJpbmc+IHt9XHJcbi8vIGV4cG9ydCBpbnRlcmZhY2UgU3BvdGlmeVVSSVxyXG4vLyAgICAgZXh0ZW5kcyBOZXd0eXBlPHsgcmVhZG9ubHkgU3BvdGlmeVVSSTogdW5pcXVlIHN5bWJvbCB9LCBzdHJpbmc+IHt9XHJcblxyXG5pbXBvcnQgeyBhcnJheSBhcyBhLCBmdW5jdGlvbiBhcyBmIH0gZnJvbSBcImh0dHBzOi8vZXNtLnNoL2ZwLXRzXCJcclxuXHJcbmV4cG9ydCB0eXBlIFNwb3RpZnlJRCA9IHN0cmluZ1xyXG5leHBvcnQgdHlwZSBTcG90aWZ5VVJJID0gc3RyaW5nXHJcblxyXG5leHBvcnQgdHlwZSBTcG90aWZ5TG9jT2JqID0ge1xyXG4gICAgYmVmb3JlPzogXCJzdGFydFwiIHwgeyB1cmk6IFNwb3RpZnlVUkkgfSB8IHsgdWlkOiBzdHJpbmcgfVxyXG4gICAgYWZ0ZXI/OiBcImVuZFwiIHwgeyB1cmk6IFNwb3RpZnlVUkkgfSB8IHsgdWlkOiBzdHJpbmcgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgU3BvdGlmeUxvYyA9IHtcclxuICAgIGJlZm9yZToge1xyXG4gICAgICAgIHN0YXJ0OiBmLmNvbnN0YW50KHsgYmVmb3JlOiBcInN0YXJ0XCIgfSBhcyBTcG90aWZ5TG9jT2JqKSxcclxuICAgICAgICBmcm9tVXJpOiAodXJpOiBTcG90aWZ5VVJJKSA9PiAoeyBiZWZvcmU6IHsgdXJpIH0gfSksXHJcbiAgICAgICAgZnJvbVVpZDogKHVpZDogc3RyaW5nKSA9PiAoeyBiZWZvcmU6IHsgdWlkIH0gfSksXHJcbiAgICB9LFxyXG4gICAgYWZ0ZXI6IHtcclxuICAgICAgICBlbmQ6IGYuY29uc3RhbnQoeyBhZnRlcjogXCJlbmRcIiB9IGFzIFNwb3RpZnlMb2NPYmopLFxyXG4gICAgICAgIGZyb21Vcmk6ICh1cmk6IFNwb3RpZnlVUkkpID0+ICh7IGFmdGVyOiB7IHVyaSB9IH0pLFxyXG4gICAgICAgIGZyb21VaWQ6ICh1aWQ6IHN0cmluZykgPT4gKHsgYWZ0ZXI6IHsgdWlkIH0gfSksXHJcbiAgICB9LFxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZXNjYXBlUmVnZXggPSAoc3RyOiBzdHJpbmcpID0+IHN0ci5yZXBsYWNlKC9bLiorP14ke30oKXxbXFxdXFxcXF0vZywgYFxcXFwkJmApXHJcblxyXG5leHBvcnQgY29uc3QgdGl0bGVDYXNlID0gKHN0cjogc3RyaW5nKSA9PiBzdHIucmVwbGFjZSgvXFxiXFx3L2csIGwgPT4gbC50b1VwcGVyQ2FzZSgpKVxyXG5cclxuZXhwb3J0IGNvbnN0IG5vcm1hbGl6ZVN0ciA9IChzdHI6IHN0cmluZykgPT5cclxuICAgIHN0clxyXG4gICAgICAgIC5ub3JtYWxpemUoXCJORktEXCIpXHJcbiAgICAgICAgLnJlcGxhY2UoL1xcKC4qXFwpL2csIFwiXCIpXHJcbiAgICAgICAgLnJlcGxhY2UoL1xcWy4qXFxdL2csIFwiXCIpXHJcbiAgICAgICAgLnJlcGxhY2UoLy1fLC9nLCBcIiBcIilcclxuICAgICAgICAucmVwbGFjZSgvW15hLXpBLVowLTkgXS9nLCBcIlwiKVxyXG4gICAgICAgIC5yZXBsYWNlKC9cXHMrL2csIFwiIFwiKVxyXG4gICAgICAgIC50b0xvd2VyQ2FzZSgpXHJcbiAgICAgICAgLnRyaW0oKVxyXG5cclxuLy8hIERvZXMgbG9jYXRpb24gYWN0dWFsbHkgcG9pbnQgdG8gZG9jdW1lbnQuYm9keT9cclxuZXhwb3J0IGNvbnN0IHdhaXRGb3JFbGVtZW50ID0gPEUgZXh0ZW5kcyBFbGVtZW50PihcclxuICAgIHNlbGVjdG9yOiBzdHJpbmcsXHJcbiAgICB0aW1lb3V0ID0gMTAwMCxcclxuICAgIGxvY2F0aW9uID0gZG9jdW1lbnQuYm9keSxcclxuICAgIG5vdEVsPzogRSxcclxuKSA9PlxyXG4gICAgbmV3IFByb21pc2UoKHJlc29sdmU6ICh2YWx1ZTogRWxlbWVudCB8IG51bGwpID0+IHZvaWQpID0+IHtcclxuICAgICAgICBjb25zdCByZXMgPSAodjogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKVxyXG4gICAgICAgICAgICByZXNvbHZlKHYpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKCgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEU+KHNlbGVjdG9yKVxyXG4gICAgICAgICAgICBpZiAoZWwgJiYgKCFub3RFbCB8fCBlbCAhPT0gbm90RWwpKSByZXR1cm4gcmVzKGVsKVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIG9ic2VydmVyLm9ic2VydmUobG9jYXRpb24sIHtcclxuICAgICAgICAgICAgY2hpbGRMaXN0OiB0cnVlLFxyXG4gICAgICAgICAgICBzdWJ0cmVlOiB0cnVlLFxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGlmICh0aW1lb3V0KSBzZXRUaW1lb3V0KCgpID0+IHJlcyhudWxsKSwgdGltZW91dClcclxuICAgIH0pXHJcblxyXG5leHBvcnQgY29uc3QgdHJhcEVsZW1lbnQgPSA8RSBleHRlbmRzIEVsZW1lbnQ+KFxyXG4gICAgc2VsZWN0b3I6IHN0cmluZyxcclxuICAgIGNhbGxiYWNrOiAoZWw6IEUgfCBudWxsLCBsYXN0RWw6IEUgfCBudWxsKSA9PiB2b2lkLFxyXG4gICAgbG9jYXRpb24gPSBkb2N1bWVudC5ib2R5LFxyXG4pID0+IHtcclxuICAgIGxldCBsYXN0RWw6IEUgfCBudWxsID0gbnVsbFxyXG5cclxuICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxFPihzZWxlY3RvcilcclxuICAgICAgICBpZiAoZWwgIT09IGxhc3RFbCkgY2FsbGJhY2soZWwsIGxhc3RFbClcclxuICAgICAgICBsYXN0RWwgPSBlbFxyXG4gICAgfSlcclxuXHJcbiAgICBvYnNlcnZlci5vYnNlcnZlKGxvY2F0aW9uLCB7XHJcbiAgICAgICAgY2hpbGRMaXN0OiB0cnVlLFxyXG4gICAgICAgIHN1YnRyZWU6IHRydWUsXHJcbiAgICB9KVxyXG59XHJcblxyXG5leHBvcnQgY29uc3Qgc2xlZXAgPSAobXM6IG51bWJlcikgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSlcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRSZWFjdFByb3BzID0gKGVsZW1lbnQ6IEVsZW1lbnQpID0+XHJcbiAgICBlbGVtZW50W09iamVjdC5rZXlzKGVsZW1lbnQpLmZpbmQoayA9PiBrLnN0YXJ0c1dpdGgoXCJfX3JlYWN0UHJvcHMkXCIpKSBhcyBrZXlvZiB0eXBlb2YgZWxlbWVudF1cclxuXHJcbmV4cG9ydCBjb25zdCBpc0xpa2VkID0gKHVyaXM6IFNwb3RpZnlVUklbXSkgPT4gU3BpY2V0aWZ5LlBsYXRmb3JtLkxpYnJhcnlBUEkuY29udGFpbnMoLi4udXJpcykgYXMgUHJvbWlzZTxib29sZWFuW10+XHJcblxyXG5leHBvcnQgY29uc3Qgc2V0TGlrZWQgPSAodXJpczogU3BvdGlmeVVSSVtdLCBsaWtlZDogYm9vbGVhbikgPT5cclxuICAgIFNwaWNldGlmeS5QbGF0Zm9ybS5MaWJyYXJ5QVBJW2xpa2VkID8gXCJhZGRcIiA6IFwicmVtb3ZlXCJdKC4uLnVyaXMpXHJcblxyXG5leHBvcnQgY29uc3QgdG9nZ2xlTGlrZWQgPSBhc3luYyAodXJpczogU3BvdGlmeVVSSVtdKSA9PiB7XHJcbiAgICBjb25zdCBsaWtlZCA9IGF3YWl0IGlzTGlrZWQodXJpcylcclxuXHJcbiAgICByZXR1cm4gYXdhaXQgZi5waXBlKFxyXG4gICAgICAgIHVyaXMsXHJcbiAgICAgICAgYS5yZWR1Y2VXaXRoSW5kZXgoXHJcbiAgICAgICAgICAgIFtbXSBhcyBTcG90aWZ5VVJJW10sIFtdIGFzIFNwb3RpZnlVUklbXV0gYXMgY29uc3QsXHJcbiAgICAgICAgICAgIChpLCBhY2MsIHVyaSkgPT4gKGFjY1tOdW1iZXIobGlrZWRbaV0pXS5wdXNoKHVyaSksIGFjYyksXHJcbiAgICAgICAgKSxcclxuICAgICAgICAoW3RvQWRkLCB0b1JlbV0pID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcHMgPSBbXVxyXG4gICAgICAgICAgICBpZiAodG9BZGQubGVuZ3RoKSBwcy5wdXNoKHNldExpa2VkKHRvQWRkLCB0cnVlKSlcclxuICAgICAgICAgICAgaWYgKHRvUmVtLmxlbmd0aCkgcHMucHVzaChzZXRMaWtlZCh0b1JlbSwgZmFsc2UpKVxyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocHMpXHJcbiAgICAgICAgfSxcclxuICAgIClcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVF1ZXVlSXRlbSA9IChxdWV1ZWQ6IGJvb2xlYW4pID0+ICh1cmk6IFNwb3RpZnlVUkkpID0+ICh7XHJcbiAgICBjb250ZXh0VHJhY2s6IHtcclxuICAgICAgICB1cmksXHJcbiAgICAgICAgdWlkOiBcIlwiLFxyXG4gICAgICAgIG1ldGFkYXRhOiB7XHJcbiAgICAgICAgICAgIGlzX3F1ZXVlZDogcXVldWVkLnRvU3RyaW5nKCksXHJcbiAgICAgICAgfSxcclxuICAgIH0sXHJcbiAgICByZW1vdmVkOiBbXSxcclxuICAgIGJsb2NrZWQ6IFtdLFxyXG4gICAgcHJvdmlkZXI6IHF1ZXVlZCA/IFwicXVldWVcIiA6IFwiY29udGV4dFwiLFxyXG59KVxyXG5cclxuZXhwb3J0IGNvbnN0IHNldFF1ZXVlID0gYXN5bmMgKG5leHRUcmFja3M6IEFycmF5PFJldHVyblR5cGU8UmV0dXJuVHlwZTx0eXBlb2YgY3JlYXRlUXVldWVJdGVtPj4+KSA9PiB7XHJcbiAgICBjb25zdCB7IF9xdWV1ZSwgX2NsaWVudCB9ID0gU3BpY2V0aWZ5LlBsYXRmb3JtLlBsYXllckFQSS5fcXVldWVcclxuICAgIGNvbnN0IHsgcHJldlRyYWNrcywgcXVldWVSZXZpc2lvbiB9ID0gX3F1ZXVlXHJcblxyXG4gICAgcmV0dXJuIF9jbGllbnQuc2V0UXVldWUoe1xyXG4gICAgICAgIG5leHRUcmFja3MsXHJcbiAgICAgICAgcHJldlRyYWNrcyxcclxuICAgICAgICBxdWV1ZVJldmlzaW9uLFxyXG4gICAgfSkgYXMgUHJvbWlzZTx7IGVycm9yOiBudW1iZXI7IHJlYXNvbnM6IHN0cmluZyB9PlxyXG59XHJcblxyXG5leHBvcnQgY29uc3Qgc2V0UGxheWluZ0NvbnRleHQgPSAodXJpOiBTcG90aWZ5VVJJKSA9PiB7XHJcbiAgICBjb25zdCB7IHNlc3Npb25JZCB9ID0gU3BpY2V0aWZ5LlBsYXRmb3JtLlBsYXllckFQSS5nZXRTdGF0ZSgpXHJcbiAgICByZXR1cm4gU3BpY2V0aWZ5LlBsYXRmb3JtLlBsYXllckFQSS51cGRhdGVDb250ZXh0KHNlc3Npb25JZCwgeyB1cmksIHVybDogXCJjb250ZXh0Oi8vXCIgKyB1cmkgfSkgYXMgUHJvbWlzZTx1bmRlZmluZWQ+XHJcbn1cclxuIiwgImltcG9ydCB7IGNodW5ja2lmeSwgbWVtb2l6ZTIgfSBmcm9tIFwiLi9mcC50c1wiXHJcbmltcG9ydCB7IFNwb3RpZnlJRCwgU3BvdGlmeUxvY09iaiwgU3BvdGlmeVVSSSwgZXNjYXBlUmVnZXggfSBmcm9tIFwiLi91dGlsLnRzXCJcclxuXHJcbi8qICAgICAgICAgICAgICAgICAgICAgICAgICBHcmFwaFFMICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXHJcblxyXG5leHBvcnQgY29uc3QgZmV0Y2hHUUxBbGJ1bSA9IGFzeW5jICh1cmk6IFNwb3RpZnlVUkksIG9mZnNldCA9IDAsIGxpbWl0ID0gNDg3KSA9PlxyXG4gICAgKFxyXG4gICAgICAgIGF3YWl0IFNwaWNldGlmeS5HcmFwaFFMLlJlcXVlc3QoU3BpY2V0aWZ5LkdyYXBoUUwuRGVmaW5pdGlvbnMuZ2V0QWxidW0sIHtcclxuICAgICAgICAgICAgdXJpLFxyXG4gICAgICAgICAgICBsb2NhbGU6IFNwaWNldGlmeS5Mb2NhbGUuZ2V0TG9jYWxlKCksXHJcbiAgICAgICAgICAgIG9mZnNldCxcclxuICAgICAgICAgICAgbGltaXQsXHJcbiAgICAgICAgfSlcclxuICAgICkuZGF0YS5hbGJ1bVVuaW9uIGFzIGZldGNoR1FMQWxidW1SZXNcclxuXHJcbnR5cGUgZmV0Y2hBcnRpc3RHUUxSZXMgPSBhbnlcclxuZXhwb3J0IGNvbnN0IGZldGNoR1FMQXJ0aXN0T3ZlcnZpZXcgPSBhc3luYyAodXJpOiBTcG90aWZ5VVJJKSA9PlxyXG4gICAgKFxyXG4gICAgICAgIGF3YWl0IFNwaWNldGlmeS5HcmFwaFFMLlJlcXVlc3QoU3BpY2V0aWZ5LkdyYXBoUUwuRGVmaW5pdGlvbnMucXVlcnlBcnRpc3RPdmVydmlldywge1xyXG4gICAgICAgICAgICB1cmksXHJcbiAgICAgICAgICAgIGxvY2FsZTogU3BpY2V0aWZ5LkxvY2FsZS5nZXRMb2NhbGUoKSxcclxuICAgICAgICAgICAgaW5jbHVkZVByZXJlbGVhc2U6IHRydWUsXHJcbiAgICAgICAgfSlcclxuICAgICkuZGF0YS5hcnRpc3RVbmlvbiBhcyBmZXRjaEFydGlzdEdRTFJlc1xyXG5cclxudHlwZSBmZXRjaEdRTEFydGlzdERpc2NvZ3JhcGh5UmVzID0gYW55XHJcbmV4cG9ydCBjb25zdCBmZXRjaEdRTEFydGlzdERpc2NvZ3JhcGh5ID0gYXN5bmMgKHVyaTogU3BvdGlmeVVSSSwgb2Zmc2V0ID0gMCwgbGltaXQgPSAxMTYpID0+XHJcbiAgICAoXHJcbiAgICAgICAgYXdhaXQgU3BpY2V0aWZ5LkdyYXBoUUwuUmVxdWVzdChTcGljZXRpZnkuR3JhcGhRTC5EZWZpbml0aW9ucy5xdWVyeUFydGlzdERpc2NvZ3JhcGh5QWxsLCB7XHJcbiAgICAgICAgICAgIHVyaSxcclxuICAgICAgICAgICAgb2Zmc2V0LFxyXG4gICAgICAgICAgICBsaW1pdCxcclxuICAgICAgICB9KVxyXG4gICAgKS5kYXRhLmFydGlzdFVuaW9uLmRpc2NvZ3JhcGh5LmFsbC5pdGVtcyBhcyBmZXRjaEdRTEFydGlzdERpc2NvZ3JhcGh5UmVzXHJcblxyXG5leHBvcnQgY29uc3QgZmV0Y2hHUUxBcnRpc3RSZWxhdGVkID0gYXN5bmMgKHVyaTogU3BvdGlmeVVSSSkgPT5cclxuICAgIChcclxuICAgICAgICBhd2FpdCBTcGljZXRpZnkuR3JhcGhRTC5SZXF1ZXN0KFNwaWNldGlmeS5HcmFwaFFMLkRlZmluaXRpb25zLnF1ZXJ5QXJ0aXN0UmVsYXRlZCwge1xyXG4gICAgICAgICAgICB1cmksXHJcbiAgICAgICAgICAgIGxvY2FsZTogU3BpY2V0aWZ5LkxvY2FsZS5nZXRMb2NhbGUoKSxcclxuICAgICAgICB9KVxyXG4gICAgKS5kYXRhLmFydGlzdFVuaW9uLnJlbGF0ZWRDb250ZW50LnJlbGF0ZWRBcnRpc3RzLml0ZW1zIGFzIGZldGNoR1FMQXJ0aXN0UmVsYXRlZFJlc1xyXG5cclxuLyogICAgICAgICAgICAgICAgICAgICAgICAgIFNwb3RpZnkgV2ViIEFQSSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cclxuXHJcbmV4cG9ydCBjb25zdCByZW1vdmVXZWJQbGF5bGlzdFRyYWNrcyA9IGFzeW5jIChwbGF5bGlzdDogU3BvdGlmeUlELCB0cmFja3M6IFNwb3RpZnlVUklbXSkgPT5cclxuICAgIFNwaWNldGlmeS5Db3Ntb3NBc3luYy5kZWwoYGh0dHBzOi8vYXBpLnNwb3RpZnkuY29tL3YxL3BsYXlsaXN0cy8ke3BsYXlsaXN0fS90cmFja3NgLCB7XHJcbiAgICAgICAgdHJhY2tzOiB0cmFja3MubWFwKHVyaSA9PiAoeyB1cmkgfSkpLFxyXG4gICAgfSlcclxuXHJcbmV4cG9ydCBjb25zdCBmZXRjaFdlYkFydGlzdHNTcG90ID0gY2h1bmNraWZ5KDUwKShcclxuICAgIGFzeW5jIChpZHM6IFNwb3RpZnlJRFtdKSA9PlxyXG4gICAgICAgIChhd2FpdCBTcGljZXRpZnkuQ29zbW9zQXN5bmMuZ2V0KGBodHRwczovL2FwaS5zcG90aWZ5LmNvbS92MS9hcnRpc3RzP2lkcz0ke2lkcy5qb2luKFwiLFwiKX1gKSlcclxuICAgICAgICAgICAgLmFydGlzdHMgYXMgU3BvdEFwaUFydGlzdFtdLFxyXG4pXHJcblxyXG5leHBvcnQgY29uc3QgZmV0Y2hXZWJQbGF5bGlzdHNTcG90ID0gY2h1bmNraWZ5KDEpKFxyXG4gICAgLy8gQHRzLWlnbm9yZSBjaHVua2lmeSB3aWxsIG5ldmVyIGNhbGwgd2l0aCBlbXB0eSBhcnJheVxyXG4gICAgYXN5bmMgKFtpZF06IFtTcG90aWZ5SURdKSA9PiBbXHJcbiAgICAgICAgKGF3YWl0IFNwaWNldGlmeS5Db3Ntb3NBc3luYy5nZXQoYGh0dHBzOi8vYXBpLnNwb3RpZnkuY29tL3YxL3BsYXlsaXN0cy8ke2lkfWApKSBhcyBTcG90QXBpUGxheWxpc3QsXHJcbiAgICBdLFxyXG4pXHJcbmV4cG9ydCBjb25zdCBmZXRjaFdlYkFsYnVtc1Nwb3QgPSBjaHVuY2tpZnkoNTApKFxyXG4gICAgYXN5bmMgKGlkczogU3BvdGlmeUlEW10pID0+XHJcbiAgICAgICAgKGF3YWl0IFNwaWNldGlmeS5Db3Ntb3NBc3luYy5nZXQoYGh0dHBzOi8vYXBpLnNwb3RpZnkuY29tL3YxL2FsYnVtcz9pZHM9JHtpZHMuam9pbihcIixcIil9YCkpXHJcbiAgICAgICAgICAgIC5hbGJ1bXMgYXMgU3BvdEFwaUFsYnVtW10sXHJcbilcclxuXHJcbmV4cG9ydCBjb25zdCBmZXRjaFdlYlRyYWNrc1Nwb3QgPSBjaHVuY2tpZnkoNTApKFxyXG4gICAgYXN5bmMgKGlkczogU3BvdGlmeUlEW10pID0+XHJcbiAgICAgICAgKGF3YWl0IFNwaWNldGlmeS5Db3Ntb3NBc3luYy5nZXQoYGh0dHBzOi8vYXBpLnNwb3RpZnkuY29tL3YxL3RyYWNrcz9pZHM9JHtpZHMuam9pbihcIixcIil9YCkpXHJcbiAgICAgICAgICAgIC50cmFja3MgYXMgU3BvdEFwaVRyYWNrW10sXHJcbilcclxuXHJcbmV4cG9ydCBjb25zdCBzZWFyY2hXZWJJdGVtU3BvdCA9IGFzeW5jIChxOiBzdHJpbmcsIHR5cGU6IHN0cmluZ1tdKSA9PlxyXG4gICAgU3BpY2V0aWZ5LkNvc21vc0FzeW5jLmdldChgaHR0cHM6Ly9hcGkuc3BvdGlmeS5jb20vdjEvc2VhcmNoP3E9JHtlbmNvZGVVUklDb21wb25lbnQocSl9JnR5cGU9JHt0eXBlLmpvaW4oXCIsXCIpfWApXHJcblxyXG5leHBvcnQgY29uc3QgZmV0Y2hXZWJTb3VuZE9mU3BvdGlmeVBsYXlsaXN0ID0gYXN5bmMgKGdlbnJlOiBzdHJpbmcpID0+IHtcclxuICAgIGNvbnN0IG5hbWUgPSBgVGhlIFNvdW5kIE9mICR7Z2VucmV9YFxyXG4gICAgY29uc3QgcmUgPSBuZXcgUmVnRXhwKGBeJHtlc2NhcGVSZWdleChuYW1lKX0kYCwgXCJpXCIpXHJcbiAgICBjb25zdCByZXMgPSBhd2FpdCBzZWFyY2hXZWJJdGVtU3BvdChuYW1lLCBbXCJwbGF5bGlzdFwiXSlcclxuICAgIGNvbnN0IGl0ZW0gPSByZXMucGxheWxpc3RzLml0ZW1zWzBdXHJcbiAgICByZXR1cm4gaXRlbT8ub3duZXIuaWQgPT09IFwidGhlc291bmRzb2ZzcG90aWZ5XCIgJiYgcmUudGVzdChpdGVtLm5hbWUpID8gaXRlbS51cmkgOiBudWxsXHJcbn1cclxuXHJcbi8qICAgICAgICAgICAgICAgICAgICAgICAgICBQbGF0Zm9ybSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXHJcblxyXG5leHBvcnQgY29uc3QgZmV0Y2hQbGF0TGlrZWRUcmFja3MgPSBhc3luYyAoKSA9PlxyXG4gICAgKFxyXG4gICAgICAgIGF3YWl0IFNwaWNldGlmeS5QbGF0Zm9ybS5MaWJyYXJ5QVBJLmdldFRyYWNrcyh7XHJcbiAgICAgICAgICAgIGxpbWl0OiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUixcclxuICAgICAgICB9KVxyXG4gICAgKS5pdGVtcyBhcyBmZXRjaFBsYXRBcnRpc3RMaWtlZFRyYWNrc1Jlc1xyXG5leHBvcnQgY29uc3QgZmV0Y2hQbGF0QXJ0aXN0TGlrZWRUcmFja3MgPSBhc3luYyAodXJpOiBTcG90aWZ5VVJJLCBvZmZzZXQgPSAwLCBsaW1pdCA9IDEwMCkgPT5cclxuICAgIChhd2FpdCBTcGljZXRpZnkuUGxhdGZvcm0uTGlicmFyeUFQSS5nZXRUcmFja3MoeyB1cmksIG9mZnNldCwgbGltaXQgfSkpLml0ZW1zIGFzIGZldGNoUGxhdEFydGlzdExpa2VkVHJhY2tzUmVzXHJcblxyXG5leHBvcnQgY29uc3QgZmV0Y2hQbGF0UGxheWxpc3RDb250ZW50cyA9IGFzeW5jICh1cmk6IFNwb3RpZnlVUkkpID0+XHJcbiAgICAoYXdhaXQgU3BpY2V0aWZ5LlBsYXRmb3JtLlBsYXlsaXN0QVBJLmdldENvbnRlbnRzKHVyaSkpLml0ZW1zIGFzIGZldGNoV2ViUGxheWxpc3RSZXNcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVQbGF0Rm9sZGVyID0gYXN5bmMgKG5hbWU6IHN0cmluZywgbG9jYXRpb246IFNwb3RpZnlMb2NPYmogPSB7fSkgPT5cclxuICAgIGF3YWl0IFNwaWNldGlmeS5QbGF0Zm9ybS5Sb290bGlzdEFQSS5jcmVhdGVGb2xkZXIobmFtZSwgbG9jYXRpb24pXHJcblxyXG5leHBvcnQgY29uc3QgbGlrZVBsYXRQbGF5bGlzdCA9IGFzeW5jICh1cmk6IFNwb3RpZnlVUkkpID0+IGF3YWl0IFNwaWNldGlmeS5QbGF0Zm9ybS5Sb290bGlzdEFQSS5hZGQoW3VyaV0pXHJcblxyXG4vKiBSZXBsYWNlZCBieSBjcmVhdGVTUFBsYXlsaXN0RnJvbVRyYWNrcyAqL1xyXG5leHBvcnQgY29uc3QgY3JlYXRlUGxhdFBsYXlsaXN0ID0gYXN5bmMgKG5hbWU6IHN0cmluZywgbG9jYXRpb246IFNwb3RpZnlMb2NPYmogPSB7fSkgPT5cclxuICAgIGF3YWl0IFNwaWNldGlmeS5QbGF0Zm9ybS5Sb290bGlzdEFQSS5jcmVhdGVQbGF5bGlzdChuYW1lLCBsb2NhdGlvbilcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVTUFBsYXlsaXN0RnJvbVRyYWNrcyA9IChuYW1lOiBzdHJpbmcsIHRyYWNrczogU3BvdGlmeVVSSVtdLCBmb2xkZXI/OiBTcG90aWZ5VVJJKSA9PlxyXG4gICAgU3BpY2V0aWZ5LkNvc21vc0FzeW5jLnBvc3QoXCJzcDovL2NvcmUtcGxheWxpc3QvdjEvcm9vdGxpc3Q/cmVzcG9uc2VGb3JtYXQ9cHJvdG9idWZKc29uXCIsIHtcclxuICAgICAgICBvcGVyYXRpb246IFwiY3JlYXRlXCIsXHJcbiAgICAgICAgLi4uKGZvbGRlciA/IHsgYWZ0ZXI6IGZvbGRlciB9IDoge30pLFxyXG4gICAgICAgIG5hbWUsXHJcbiAgICAgICAgcGxheWxpc3Q6IHRydWUsXHJcbiAgICAgICAgdXJpczogdHJhY2tzLFxyXG4gICAgfSlcclxuXHJcbmV4cG9ydCBjb25zdCBzZXRQbGF0UGxheWxpc3RWaXNpYmlsaXR5ID0gYXN5bmMgKHBsYXlsaXN0OiBTcG90aWZ5VVJJLCB2aXNpYmxlRm9yQWxsOiBib29sZWFuKSA9PlxyXG4gICAgYXdhaXQgU3BpY2V0aWZ5LlBsYXRmb3JtLlBsYXlsaXN0UGVybWlzc2lvbnNBUEkuc2V0QmFzZVBlcm1pc3Npb24ocGxheWxpc3QsIHZpc2libGVGb3JBbGwgPyBcIlZJRVdFUlwiIDogXCJCTE9DS0VEXCIpXHJcbmV4cG9ydCBjb25zdCBzZXRQbGF0UGxheWxpc3RQdWJsaXNoZWQgPSBhc3luYyAocGxheWxpc3Q6IFNwb3RpZnlVUkksIHB1Ymxpc2hlZDogYm9vbGVhbikgPT5cclxuICAgIGF3YWl0IFNwaWNldGlmeS5QbGF0Zm9ybS5Sb290bGlzdEFQSS5zZXRQdWJsaXNoZWRTdGF0ZShwbGF5bGlzdCwgcHVibGlzaGVkKVxyXG5cclxuZXhwb3J0IGNvbnN0IGZldGNoUGxhdEZvbGRlciA9IGFzeW5jIChmb2xkZXI/OiBTcG90aWZ5VVJJKSA9PlxyXG4gICAgKGF3YWl0IFNwaWNldGlmeS5QbGF0Zm9ybS5Sb290bGlzdEFQSS5nZXRDb250ZW50cyh7IGZvbGRlclVyaTogZm9sZGVyIH0pKSBhcyBmZXRjaFBsYXRGb2xkZXJSZXNcclxuZXhwb3J0IGNvbnN0IGZldGNoUGxhdFJvb3RGb2xkZXIgPSAoKSA9PiBmZXRjaFBsYXRGb2xkZXIodW5kZWZpbmVkKVxyXG5cclxuZXhwb3J0IGNvbnN0IGFkZFBsYXRQbGF5bGlzdFRyYWNrcyA9IGFzeW5jIChwbGF5bGlzdDogU3BvdGlmeVVSSSwgdHJhY2tzOiBTcG90aWZ5VVJJW10sIGxvY2F0aW9uOiBTcG90aWZ5TG9jT2JqID0ge30pID0+XHJcbiAgICBhd2FpdCBTcGljZXRpZnkuUGxhdGZvcm0uUGxheWxpc3RBUEkuYWRkKHBsYXlsaXN0LCB0cmFja3MsIGxvY2F0aW9uKVxyXG5cclxuZXhwb3J0IGNvbnN0IG1vdmVQbGF0UGxheWxpc3RUcmFja3MgPSBhc3luYyAoXHJcbiAgICBwbGF5bGlzdDogU3BvdGlmeVVSSSxcclxuICAgIHRyYWNrczogQXJyYXk8eyB1aWQ6IHN0cmluZyB9PixcclxuICAgIGxvY2F0aW9uOiBTcG90aWZ5TG9jT2JqID0ge30sXHJcbikgPT4gYXdhaXQgU3BpY2V0aWZ5LlBsYXRmb3JtLlBsYXlsaXN0QVBJLm1vdmUocGxheWxpc3QsIHRyYWNrcywgbG9jYXRpb24pXHJcblxyXG5leHBvcnQgY29uc3QgZmV0Y2hQbGF0UGxheWxpc3RFbmhhbmNlZFNvbmdzMzAwID0gYXN5bmMgKHVyaTogU3BvdGlmeVVSSSwgb2Zmc2V0ID0gMCwgbGltaXQgPSAzMDApID0+XHJcbiAgICAoYXdhaXQgU3BpY2V0aWZ5LlBsYXRmb3JtLkVuaGFuY2VBUEkuZ2V0UGFnZSh1cmksIC8qIGl0ZXJhdGlvbiAqLyAwLCAvKiBzZXNzaW9uSWQgKi8gMCwgb2Zmc2V0LCBsaW1pdCkpLmVuaGFuY2VQYWdlXHJcbiAgICAgICAgLnBhZ2VJdGVtcyBhcyBhbnlbXVxyXG5leHBvcnQgY29uc3QgZmV0Y2hQbGF0UGxheWxpc3RFbmhhbmNlZFNvbmdzID0gYXN5bmMgKHVyaTogU3BvdGlmeVVSSSwgb2Zmc2V0ID0gMCk6IFByb21pc2U8YW55W10+ID0+IHtcclxuICAgIGNvbnN0IG5leHRQYWdlSXRlbXMgPSBhd2FpdCBmZXRjaFBsYXRQbGF5bGlzdEVuaGFuY2VkU29uZ3MzMDAodXJpLCBvZmZzZXQpXHJcbiAgICBpZiAobmV4dFBhZ2VJdGVtcz8ubGVuZ3RoIDwgMzAwKSByZXR1cm4gbmV4dFBhZ2VJdGVtc1xyXG4gICAgZWxzZSByZXR1cm4gbmV4dFBhZ2VJdGVtcy5jb25jYXQoZmV0Y2hQbGF0UGxheWxpc3RFbmhhbmNlZFNvbmdzKHVyaSwgb2Zmc2V0ICsgMzAwKSlcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGZldGNoTG9jYWxUcmFja3MgPSBhc3luYyAoKSA9PiBhd2FpdCBTcGljZXRpZnkuUGxhdGZvcm0uTG9jYWxGaWxlc0FQSS5nZXRUcmFja3MoKVxyXG5cclxuLyogICAgICAgICAgICAgICAgICAgICAgICAgIE5vbiBTcG90aWZ5ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cclxuXHJcbmV4cG9ydCBjb25zdCBmZXRjaFRyYWNrTEZNQVBJID0gYXN5bmMgKExGTUFwaUtleTogc3RyaW5nLCBhcnRpc3Q6IHN0cmluZywgdHJhY2tOYW1lOiBzdHJpbmcsIGxhc3RGbVVzZXJuYW1lID0gXCJcIikgPT4ge1xyXG4gICAgY29uc3QgdXJsID0gbmV3IFVSTChcImh0dHBzOi8vd3MuYXVkaW9zY3JvYmJsZXIuY29tLzIuMC9cIilcclxuICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKFwibWV0aG9kXCIsIFwidHJhY2suZ2V0SW5mb1wiKVxyXG4gICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoXCJhcGlfa2V5XCIsIExGTUFwaUtleSlcclxuICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKFwiYXJ0aXN0XCIsIGFydGlzdClcclxuICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKFwidHJhY2tcIiwgdHJhY2tOYW1lKVxyXG4gICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoXCJmb3JtYXRcIiwgXCJqc29uXCIpXHJcbiAgICB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChcInVzZXJuYW1lXCIsIGxhc3RGbVVzZXJuYW1lKVxyXG5cclxuICAgIHJldHVybiAoYXdhaXQgZmV0Y2godXJsKS50aGVuKHJlcyA9PiByZXMuanNvbigpKSkgYXMgZmV0Y2hUcmFja0xGTUFQSVJlc1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZmV0Y2hUcmFja0xGTUFQSU1lbW9pemVkID0gbWVtb2l6ZTIoZmV0Y2hUcmFja0xGTUFQSSlcclxuXHJcbmV4cG9ydCBjb25zdCBzZWFyY2hZb3V0dWJlID0gYXN5bmMgKFlvdVR1YmVBcGlLZXk6IHN0cmluZywgc2VhcmNoU3RyaW5nOiBzdHJpbmcpID0+IHtcclxuICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoXCJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS95b3V0dWJlL3YzL3NlYXJjaFwiKVxyXG4gICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoXCJwYXJ0XCIsIFwic25pcHBldFwiKVxyXG4gICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoXCJtYXhSZXN1bHRzXCIsIFwiMTBcIilcclxuICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKFwicVwiLCBzZWFyY2hTdHJpbmcpXHJcbiAgICB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChcInR5cGVcIiwgXCJ2aWRlb1wiKVxyXG4gICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoXCJrZXlcIiwgWW91VHViZUFwaUtleSlcclxuXHJcbiAgICByZXR1cm4gKGF3YWl0IGZldGNoKHVybCkudGhlbihyZXMgPT4gcmVzLmpzb24oKSkpIGFzIGFueVtdXHJcbn1cclxuXHJcbi8qICAgICAgICAgICAgICAgICAgICAgICAgICBUeXBlcyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIGZldGNoR1FMQWxidW1SZXMge1xyXG4gICAgX190eXBlbmFtZTogXCJhbGJ1bVwiXHJcbiAgICB1cmk6IFNwb3RpZnlVUklcclxuICAgIG5hbWU6IHN0cmluZ1xyXG4gICAgYXJ0aXN0czoge1xyXG4gICAgICAgIHRvdGFsQ291bnQ6IG51bWJlclxyXG4gICAgICAgIGl0ZW1zOiBBcnJheTx7XHJcbiAgICAgICAgICAgIGlkOiBzdHJpbmdcclxuICAgICAgICAgICAgdXJpOiBTcG90aWZ5VVJJXHJcbiAgICAgICAgICAgIHByb2ZpbGU6IHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IHN0cmluZ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZpc3VhbHM6IHtcclxuICAgICAgICAgICAgICAgIGF2YXRhckltYWdlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc291cmNlczogU3BvdEFwaUltYWdlW11cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzaGFyaW5nSW5mbzoge1xyXG4gICAgICAgICAgICAgICAgc2hhcmVVcmw6IHN0cmluZ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfT5cclxuICAgIH1cclxuICAgIGNvdmVyQXJ0OiB7XHJcbiAgICAgICAgZXh0cmFjdGVkQ29sb3JzOiB7XHJcbiAgICAgICAgICAgIGNvbG9yUmF3OiB7XHJcbiAgICAgICAgICAgICAgICBoZXg6IHN0cmluZ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbG9yTGlnaHQ6IHtcclxuICAgICAgICAgICAgICAgIGhleDogc3RyaW5nXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29sb3JEYXJrOiB7XHJcbiAgICAgICAgICAgICAgICBoZXg6IHN0cmluZ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNvdXJjZXM6IFNwb3RBcGlJbWFnZVtdXHJcbiAgICB9XHJcbiAgICBkaXNjczoge1xyXG4gICAgICAgIHRvdGFsQ291bnQ6IG51bWJlclxyXG4gICAgICAgIGl0ZW1zOiBBcnJheTx7XHJcbiAgICAgICAgICAgIG51bWJlcjogbnVtYmVyXHJcbiAgICAgICAgICAgIHRyYWNrczoge1xyXG4gICAgICAgICAgICAgICAgdG90YWxDb3VudDogbnVtYmVyXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9PlxyXG4gICAgfVxyXG4gICAgcmVsZWFzZXM6IHtcclxuICAgICAgICB0b3RhbENvdW50OiBudW1iZXJcclxuICAgICAgICBpdGVtczogQXJyYXk8e1xyXG4gICAgICAgICAgICB1cmk6IFNwb3RpZnlVUklcclxuICAgICAgICAgICAgbmFtZTogc3RyaW5nXHJcbiAgICAgICAgfT5cclxuICAgIH1cclxuICAgIHR5cGU6IHN0cmluZ1xyXG4gICAgZGF0ZToge1xyXG4gICAgICAgIGlzb1N0cmluZzogc3RyaW5nXHJcbiAgICAgICAgcHJlY2lzaW9uOiBzdHJpbmdcclxuICAgIH1cclxuICAgIHBsYXlhYmlsaXR5OiB7XHJcbiAgICAgICAgcGxheWFibGU6IGJvb2xlYW5cclxuICAgICAgICByZWFzb246IHN0cmluZ1xyXG4gICAgfVxyXG4gICAgbGFiZWw6IHN0cmluZ1xyXG4gICAgY29weXJpZ2h0OiB7XHJcbiAgICAgICAgdG90YWxDb3VudDogbnVtYmVyXHJcbiAgICAgICAgaXRlbXM6IEFycmF5PHtcclxuICAgICAgICAgICAgdHlwZTogc3RyaW5nXHJcbiAgICAgICAgICAgIHRleHQ6IHN0cmluZ1xyXG4gICAgICAgIH0+XHJcbiAgICB9XHJcbiAgICBjb3VydGVzeUxpbmU6IHN0cmluZ1xyXG4gICAgc2F2ZWQ6IGJvb2xlYW5cclxuICAgIHNoYXJpbmdJbmZvOiB7XHJcbiAgICAgICAgc2hhcmVVcmw6IHN0cmluZ1xyXG4gICAgICAgIHNoYXJlSWQ6IHN0cmluZ1xyXG4gICAgfVxyXG4gICAgdHJhY2tzOiB7XHJcbiAgICAgICAgdG90YWxDb3VudDogbnVtYmVyXHJcbiAgICAgICAgaXRlbXM6IEFycmF5PHtcclxuICAgICAgICAgICAgdWlkOiBzdHJpbmdcclxuICAgICAgICAgICAgdHJhY2s6IHtcclxuICAgICAgICAgICAgICAgIHNhdmVkOiBib29sZWFuXHJcbiAgICAgICAgICAgICAgICB1cmk6IFNwb3RpZnlVUklcclxuICAgICAgICAgICAgICAgIG5hbWU6IHN0cmluZ1xyXG4gICAgICAgICAgICAgICAgcGxheWNvdW50OiBzdHJpbmdcclxuICAgICAgICAgICAgICAgIGRpc2NOdW1iZXI6IG51bWJlclxyXG4gICAgICAgICAgICAgICAgdHJhY2tOdW1iZXI6IG51bWJlclxyXG4gICAgICAgICAgICAgICAgY29udGVudFJhdGluZzoge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBzdHJpbmdcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJlbGlua2luZ0luZm9ybWF0aW9uOiBhbnlcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG90YWxNaWxsaXNlY29uZHM6IG51bWJlclxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcGxheWFiaWxpdHk6IHtcclxuICAgICAgICAgICAgICAgICAgICBwbGF5YWJsZTogYm9vbGVhblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYXJ0aXN0czoge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBBcnJheTx7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVyaTogU3BvdGlmeVVSSVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9maWxlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBzdHJpbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0+XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9PlxyXG4gICAgfVxyXG4gICAgbW9yZUFsYnVtc0J5QXJ0aXN0OiB7XHJcbiAgICAgICAgaXRlbXM6IEFycmF5PHtcclxuICAgICAgICAgICAgZGlzY29ncmFwaHk6IHtcclxuICAgICAgICAgICAgICAgIHBvcHVsYXJSZWxlYXNlc0FsYnVtczoge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBBcnJheTx7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBzdHJpbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXJpOiBTcG90aWZ5VVJJXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHN0cmluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ZWFyOiBudW1iZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3ZlckFydDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlczogU3BvdEFwaUltYWdlW11cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5YWJpbGl0eToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxheWFibGU6IGJvb2xlYW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYXNvbjogc3RyaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hhcmluZ0luZm86IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlSWQ6IHN0cmluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhcmVVcmw6IHN0cmluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHN0cmluZ1xyXG4gICAgICAgICAgICAgICAgICAgIH0+XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9PlxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgdHlwZSBmZXRjaEdRTEFydGlzdFJlbGF0ZWRSZXMgPSBBcnJheTx7XHJcbiAgICBpZDogc3RyaW5nXHJcbiAgICB1cmk6IFNwb3RpZnlVUklcclxuICAgIHByb2ZpbGU6IHtcclxuICAgICAgICBuYW1lOiBzdHJpbmdcclxuICAgIH1cclxuICAgIHZpc3VhbHM6IHtcclxuICAgICAgICBhdmF0YXJJbWFnZToge1xyXG4gICAgICAgICAgICBzb3VyY2VzOiBTcG90QXBpSW1hZ2VbXVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufT5cclxuXHJcbmV4cG9ydCB0eXBlIGZldGNoUGxhdEFydGlzdExpa2VkVHJhY2tzUmVzID0gQXJyYXk8e1xyXG4gICAgdHlwZTogc3RyaW5nXHJcbiAgICB1cmk6IHN0cmluZ1xyXG4gICAgbmFtZTogc3RyaW5nXHJcbiAgICBkdXJhdGlvbjogU3BvdEFwaUR1cmF0aW9uXHJcbiAgICBhbGJ1bTogU3BvdEFwaUFsYnVtTWluXHJcbiAgICBhcnRpc3RzOiBTcG90QXBpQXJ0aXN0TWluW11cclxuICAgIGRpc2NOdW1iZXI6IG51bWJlclxyXG4gICAgdHJhY2tOdW1iZXI6IG51bWJlclxyXG4gICAgaXNFeHBsaWNpdDogYm9vbGVhblxyXG4gICAgaXNQbGF5YWJsZTogYm9vbGVhblxyXG4gICAgaXNMb2NhbDogYm9vbGVhblxyXG4gICAgaXMxOVBsdXNPbmx5OiBib29sZWFuXHJcbiAgICBhZGRlZEF0OiBzdHJpbmdcclxufT5cclxuXHJcbmV4cG9ydCB0eXBlIGZldGNoV2ViUGxheWxpc3RSZXMgPSBBcnJheTx7XHJcbiAgICB1aWQ6IHN0cmluZ1xyXG4gICAgcGxheUluZGV4OiBudWxsXHJcbiAgICBhZGRlZEF0OiBzdHJpbmdcclxuICAgIGFkZGVkQnk6IHtcclxuICAgICAgICB0eXBlOiBzdHJpbmdcclxuICAgICAgICB1cmk6IFNwb3RpZnlVUklcclxuICAgICAgICB1c2VybmFtZTogc3RyaW5nXHJcbiAgICAgICAgZGlzcGxheU5hbWU6IHN0cmluZ1xyXG4gICAgICAgIGltYWdlczogU3BvdEFwaUltYWdlMltdXHJcbiAgICB9XHJcbiAgICBmb3JtYXRMaXN0QXR0cmlidXRlczoge31cclxuICAgIHR5cGU6IFwidHJhY2tcIlxyXG4gICAgdXJpOiBTcG90aWZ5VVJJXHJcbiAgICBuYW1lOiBzdHJpbmdcclxuICAgIGFsYnVtOiBTcG90QXBpQWxidW1NaW5cclxuICAgIGFydGlzdHM6IFNwb3RBcGlBcnRpc3RNaW5bXVxyXG4gICAgZGlzY051bWJlcjogbnVtYmVyXHJcbiAgICB0cmFja051bWJlcjogbnVtYmVyXHJcbiAgICBkdXJhdGlvbjogU3BvdEFwaUR1cmF0aW9uXHJcbiAgICBpc0V4cGxpY2l0OiBib29sZWFuXHJcbiAgICBpc0xvY2FsOiBib29sZWFuXHJcbiAgICBpc1BsYXlhYmxlOiBib29sZWFuXHJcbiAgICBpczE5UGx1c09ubHk6IGJvb2xlYW5cclxufT5cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgZmV0Y2hUcmFja0xGTUFQSVJlcyB7XHJcbiAgICB0cmFjazoge1xyXG4gICAgICAgIG5hbWU6IHN0cmluZ1xyXG4gICAgICAgIG1iaWQ6IHN0cmluZ1xyXG4gICAgICAgIHVybDogc3RyaW5nXHJcbiAgICAgICAgZHVyYXRpb246IHN0cmluZ1xyXG4gICAgICAgIHN0cmVhbWFibGU6IHtcclxuICAgICAgICAgICAgXCIjdGV4dFwiOiBzdHJpbmdcclxuICAgICAgICAgICAgZnVsbHRyYWNrOiBzdHJpbmdcclxuICAgICAgICB9XHJcbiAgICAgICAgbGlzdGVuZXJzOiBzdHJpbmdcclxuICAgICAgICBwbGF5Y291bnQ6IHN0cmluZ1xyXG4gICAgICAgIGFydGlzdDoge1xyXG4gICAgICAgICAgICBuYW1lOiBzdHJpbmdcclxuICAgICAgICAgICAgbWJpZDogc3RyaW5nXHJcbiAgICAgICAgICAgIHVybDogc3RyaW5nXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFsYnVtOiB7XHJcbiAgICAgICAgICAgIGFydGlzdDogc3RyaW5nXHJcbiAgICAgICAgICAgIHRpdGxlOiBzdHJpbmdcclxuICAgICAgICAgICAgbWJpZDogc3RyaW5nXHJcbiAgICAgICAgICAgIHVybDogc3RyaW5nXHJcbiAgICAgICAgICAgIGltYWdlOiBBcnJheTx7XHJcbiAgICAgICAgICAgICAgICBcIiN0ZXh0XCI6IHN0cmluZ1xyXG4gICAgICAgICAgICAgICAgc2l6ZTogc3RyaW5nXHJcbiAgICAgICAgICAgIH0+XHJcbiAgICAgICAgICAgIFwiQGF0dHJcIjoge1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHN0cmluZ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHVzZXJwbGF5Y291bnQ6IHN0cmluZ1xyXG4gICAgICAgIHVzZXJsb3ZlZDogc3RyaW5nXHJcbiAgICAgICAgdG9wdGFnczoge1xyXG4gICAgICAgICAgICB0YWc6IEFycmF5PHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IHN0cmluZ1xyXG4gICAgICAgICAgICAgICAgdXJsOiBzdHJpbmdcclxuICAgICAgICAgICAgfT5cclxuICAgICAgICB9XHJcbiAgICAgICAgd2lraToge1xyXG4gICAgICAgICAgICBwdWJsaXNoZWQ6IHN0cmluZ1xyXG4gICAgICAgICAgICBzdW1tYXJ5OiBzdHJpbmdcclxuICAgICAgICAgICAgY29udGVudDogc3RyaW5nXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4vL1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTcG90QXBpQWxidW1NaW4ge1xyXG4gICAgdHlwZTogXCJhbGJ1bVwiXHJcbiAgICB1cmk6IFNwb3RpZnlVUklcclxuICAgIG5hbWU6IHN0cmluZ1xyXG4gICAgYXJ0aXN0OiBTcG90QXBpQXJ0aXN0TWluXHJcbiAgICBpbWFnZXM6IFNwb3RBcGlJbWFnZTJbXVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFNwb3RBcGlJbWFnZTIge1xyXG4gICAgdXJsOiBzdHJpbmdcclxuICAgIGxhYmVsOiBcInNtYWxsXCIgfCBcInN0YW5kYXJkXCIgfCBcImxhcmdlXCIgfCBcInhsYXJnZVwiXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3BvdEFwaVRyYWNrIHtcclxuICAgIGFsYnVtOiBTcG90QXBpQWxidW1cclxuICAgIGFydGlzdHM6IFNwb3RBcGlBcnRpc3RbXVxyXG4gICAgYXZhaWxhYmxlX21hcmtldHM6IHN0cmluZ1tdXHJcbiAgICBkaXNjX251bWJlcjogbnVtYmVyXHJcbiAgICBkdXJhdGlvbl9tczogbnVtYmVyXHJcbiAgICBleHBsaWNpdDogYm9vbGVhblxyXG4gICAgZXh0ZXJuYWxfaWRzOiBTcG90QXBpRUlEc1xyXG4gICAgZXh0ZXJuYWxfdXJsczogU3BvdEFwaUVVcmxzXHJcbiAgICBocmVmOiBzdHJpbmdcclxuICAgIGlkOiBzdHJpbmdcclxuICAgIGlzX3BsYXlhYmxlOiBib29sZWFuXHJcbiAgICBsaW5rZWRfZnJvbToge31cclxuICAgIHJlc3RyaWN0aW9uczogU3BvdEFwaVJlc3RyaWN0aW9uc1xyXG4gICAgbmFtZTogc3RyaW5nXHJcbiAgICBwb3B1bGFyaXR5OiBudW1iZXJcclxuICAgIHByZXZpZXdfdXJsOiBzdHJpbmdcclxuICAgIHRyYWNrX251bWJlcjogbnVtYmVyXHJcbiAgICB0eXBlOiBzdHJpbmdcclxuICAgIHVyaTogU3BvdGlmeVVSSVxyXG4gICAgaXNfbG9jYWw6IGJvb2xlYW5cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTcG90QXBpQXJ0aXN0IHtcclxuICAgIGV4dGVybmFsX3VybHM6IFNwb3RBcGlFVXJsc1xyXG4gICAgZm9sbG93ZXJzOiBTcG90QXBpRm9sbG93ZXJzXHJcbiAgICBnZW5yZXM6IHN0cmluZ1tdXHJcbiAgICBocmVmOiBzdHJpbmdcclxuICAgIGlkOiBzdHJpbmdcclxuICAgIGltYWdlczogU3BvdEFwaUltYWdlW11cclxuICAgIG5hbWU6IHN0cmluZ1xyXG4gICAgcG9wdWxhcml0eTogbnVtYmVyXHJcbiAgICB0eXBlOiBzdHJpbmdcclxuICAgIHVyaTogU3BvdGlmeVVSSVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFNwb3RBcGlBcnRpc3RNaW4ge1xyXG4gICAgdHlwZTogXCJhcnRpc3RcIlxyXG4gICAgdXJpOiBTcG90aWZ5VVJJXHJcbiAgICBuYW1lOiBzdHJpbmdcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTcG90QXBpQWxidW0ge1xyXG4gICAgYWxidW1fdHlwZTogc3RyaW5nXHJcbiAgICB0b3RhbF90cmFja3M6IG51bWJlclxyXG4gICAgYXZhaWxhYmxlX21hcmtldHM6IHN0cmluZ1tdXHJcbiAgICBleHRlcm5hbF91cmxzOiBTcG90QXBpRVVybHNcclxuICAgIGhyZWY6IHN0cmluZ1xyXG4gICAgaWQ6IHN0cmluZ1xyXG4gICAgaW1hZ2VzOiBTcG90QXBpSW1hZ2VbXVxyXG4gICAgbmFtZTogc3RyaW5nXHJcbiAgICByZWxlYXNlX2RhdGU6IHN0cmluZ1xyXG4gICAgcmVsZWFzZV9kYXRlX3ByZWNpc2lvbjogc3RyaW5nXHJcbiAgICByZXN0cmljdGlvbnM6IFNwb3RBcGlSZXN0cmljdGlvbnNcclxuICAgIHR5cGU6IHN0cmluZ1xyXG4gICAgdXJpOiBTcG90aWZ5VVJJXHJcbiAgICBjb3B5cmlnaHRzOiBBcnJheTx7XHJcbiAgICAgICAgdGV4dDogc3RyaW5nXHJcbiAgICAgICAgdHlwZTogc3RyaW5nXHJcbiAgICB9PlxyXG4gICAgZXh0ZXJuYWxfaWRzOiBTcG90QXBpRUlEc1xyXG4gICAgZ2VucmVzOiBzdHJpbmdbXVxyXG4gICAgbGFiZWw6IHN0cmluZ1xyXG4gICAgcG9wdWxhcml0eTogbnVtYmVyXHJcbiAgICBhbGJ1bV9ncm91cDogc3RyaW5nXHJcbiAgICBhcnRpc3RzOiBBcnJheTx7XHJcbiAgICAgICAgZXh0ZXJuYWxfdXJsczogU3BvdEFwaUVVcmxzXHJcbiAgICAgICAgaHJlZjogc3RyaW5nXHJcbiAgICAgICAgaWQ6IHN0cmluZ1xyXG4gICAgICAgIG5hbWU6IHN0cmluZ1xyXG4gICAgICAgIHR5cGU6IHN0cmluZ1xyXG4gICAgICAgIHVyaTogU3BvdGlmeVVSSVxyXG4gICAgfT5cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTcG90QXBpRVVybHMge1xyXG4gICAgc3BvdGlmeTogc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3BvdEFwaUVJRHMge1xyXG4gICAgaXNyYzogc3RyaW5nXHJcbiAgICBlYW46IHN0cmluZ1xyXG4gICAgdXBjOiBzdHJpbmdcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTcG90QXBpSW1hZ2Uge1xyXG4gICAgdXJsOiBzdHJpbmdcclxuICAgIHdpZHRoOiBudW1iZXJcclxuICAgIGhlaWdodDogbnVtYmVyXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3BvdEFwaVJlc3RyaWN0aW9ucyB7XHJcbiAgICByZWFzb246IHN0cmluZ1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFNwb3RBcGlGb2xsb3dlcnMge1xyXG4gICAgaHJlZjogc3RyaW5nXHJcbiAgICB0b3RhbDogbnVtYmVyXHJcbn1cclxuZXhwb3J0IGludGVyZmFjZSBTcG90QXBpRHVyYXRpb24ge1xyXG4gICAgbWlsbGlzZWNvbmRzOiBudW1iZXJcclxufVxyXG5leHBvcnQgaW50ZXJmYWNlIFNwb3RBcGlQbGF5bGlzdCB7XHJcbiAgICBjb2xsYWJvcmF0aXZlOiBib29sZWFuXHJcbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nXHJcbiAgICBleHRlcm5hbF91cmxzOiBTcG90QXBpRVVybHNcclxuICAgIGZvbGxvd2Vyczoge1xyXG4gICAgICAgIGhyZWY6IHN0cmluZ1xyXG4gICAgICAgIHRvdGFsOiBudW1iZXJcclxuICAgIH1cclxuICAgIGhyZWY6IHN0cmluZ1xyXG4gICAgaWQ6IFNwb3RpZnlJRFxyXG4gICAgaW1hZ2VzOiBTcG90QXBpSW1hZ2VbXVxyXG4gICAgbmFtZTogc3RyaW5nXHJcbiAgICBvd25lcjogU3BvdEFwaU93bmVyXHJcbiAgICBwdWJsaWM6IGJvb2xlYW5cclxuICAgIHNuYXBzaG90X2lkOiBzdHJpbmdcclxuICAgIHRyYWNrczoge1xyXG4gICAgICAgIGhyZWY6IHN0cmluZ1xyXG4gICAgICAgIGxpbWl0OiBudW1iZXJcclxuICAgICAgICBuZXh0OiBzdHJpbmdcclxuICAgICAgICBvZmZzZXQ6IG51bWJlclxyXG4gICAgICAgIHByZXZpb3VzOiBzdHJpbmdcclxuICAgICAgICB0b3RhbDogbnVtYmVyXHJcbiAgICAgICAgaXRlbXM6IEFycmF5PHtcclxuICAgICAgICAgICAgYWRkZWRfYXQ6IHN0cmluZ1xyXG4gICAgICAgICAgICBhZGRlZF9ieTogU3BvdEFwaU93bmVyXHJcbiAgICAgICAgICAgIGlzX2xvY2FsOiBib29sZWFuXHJcbiAgICAgICAgICAgIHRyYWNrOiBTcG90QXBpVHJhY2tcclxuICAgICAgICB9PlxyXG4gICAgfVxyXG4gICAgdHlwZTogc3RyaW5nXHJcbiAgICB1cmk6IFNwb3RpZnlVUklcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTcG90QXBpT3duZXIge1xyXG4gICAgZXh0ZXJuYWxfdXJsczogU3BvdEFwaUVVcmxzXHJcbiAgICBmb2xsb3dlcnM/OiB7XHJcbiAgICAgICAgaHJlZjogc3RyaW5nXHJcbiAgICAgICAgdG90YWw6IG51bWJlclxyXG4gICAgfVxyXG4gICAgaHJlZjogc3RyaW5nXHJcbiAgICBpZDogU3BvdGlmeUlEXHJcbiAgICB0eXBlOiBzdHJpbmdcclxuICAgIHVyaTogU3BvdGlmeVVSSVxyXG4gICAgZGlzcGxheV9uYW1lPzogc3RyaW5nXHJcbiAgICBuYW1lPzogc3RyaW5nXHJcbn1cclxuXHJcbi8vVE9ETzogQmV0dGVyIFRTIGludGVyZmFjZSBmb3IgcmVjdXJzaXZlIGZldGNoUGxhdEZvbGRlclJlc1xyXG5leHBvcnQgaW50ZXJmYWNlIGZldGNoUGxhdEZvbGRlclJlcyB7XHJcbiAgICB0eXBlOiBcImZvbGRlclwiIHwgXCJwbGFjZWhvbGRlclwiIHwgXCJwbGF5bGlzdFwiXHJcbiAgICBhZGRlZEF0OiBzdHJpbmdcclxuICAgIGl0ZW1zPzogQXJyYXk8ZmV0Y2hQbGF0Rm9sZGVyUmVzPlxyXG4gICAgbmFtZT86IHN0cmluZ1xyXG4gICAgdXJpOiBzdHJpbmdcclxuICAgIGRlc2NyaXB0aW9uPzogc3RyaW5nXHJcbiAgICBpbWFnZXM/OiBTcG90QXBpSW1hZ2UyW11cclxuICAgIG1hZGVGb3I/OiBudWxsXHJcbiAgICBvd25lcj86IHtcclxuICAgICAgICB0eXBlOiBcInVzZXJcIlxyXG4gICAgICAgIHVyaTogc3RyaW5nXHJcbiAgICAgICAgdXNlcm5hbWU6IHN0cmluZ1xyXG4gICAgICAgIGRpc3BsYXlOYW1lOiBzdHJpbmdcclxuICAgICAgICBpbWFnZXM6IGFueVtdXHJcbiAgICB9XHJcbiAgICB0b3RhbExlbmd0aD86IG51bWJlclxyXG4gICAgdW5maWx0ZXJlZFRvdGFsTGVuZ3RoPzogbnVtYmVyXHJcbiAgICB0b3RhbExpa2VzPzogbnVsbFxyXG4gICAgZHVyYXRpb24/OiBudWxsXHJcbiAgICBpc0NvbGxhYm9yYXRpdmU/OiBib29sZWFuXHJcbiAgICBpc0xvYWRlZD86IGJvb2xlYW5cclxuICAgIGlzT3duZWRCeVNlbGY/OiBib29sZWFuXHJcbiAgICBpc1B1Ymxpc2hlZD86IGJvb2xlYW5cclxuICAgIGhhc0VwaXNvZGVzPzogbnVsbFxyXG4gICAgaGFzU3BvdGlmeVRyYWNrcz86IG51bGxcclxuICAgIGhhc1Nwb3RpZnlBdWRpb2Jvb2tzPzogbnVsbFxyXG4gICAgY2FuQWRkPzogYm9vbGVhblxyXG4gICAgY2FuUmVtb3ZlPzogYm9vbGVhblxyXG4gICAgY2FuUGxheT86IG51bGxcclxuICAgIGZvcm1hdExpc3REYXRhPzoge1xyXG4gICAgICAgIHR5cGU6IHN0cmluZ1xyXG4gICAgICAgIGF0dHJpYnV0ZXM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH1cclxuICAgIH0gfCBudWxsXHJcbiAgICBjYW5SZXBvcnRBbm5vdGF0aW9uQWJ1c2U/OiBib29sZWFuXHJcbiAgICBoYXNEYXRlQWRkZWQ/OiBib29sZWFuXHJcbiAgICBwZXJtaXNzaW9ucz86IG51bGxcclxuICAgIGNvbGxhYm9yYXRvcnM/OiB7XHJcbiAgICAgICAgY291bnQ6IG51bWJlclxyXG4gICAgICAgIGl0ZW1zOiBhbnlbXVxyXG4gICAgfVxyXG4gICAgaXNOb3RGb3VuZD86IGJvb2xlYW5cclxuICAgIGlzRm9yYmlkZGVuPzogYm9vbGVhblxyXG59XHJcbiIsICJpbXBvcnQgeyBhcnJheSBhcyBhciwgcmVhZG9ubHlBcnJheSwgcmVjb3JkLCBmdW5jdGlvbiBhcyBmLCBub25FbXB0eUFycmF5IGFzIG5lYSB9IGZyb20gXCJodHRwczovL2VzbS5zaC9mcC10c1wiXHJcbmltcG9ydCB7IGZldGNoUGxhdEZvbGRlciwgZmV0Y2hQbGF0UGxheWxpc3RDb250ZW50cyB9IGZyb20gXCIuLi8uLi9zaGFyZWQvYXBpLnRzXCJcclxuaW1wb3J0IHsgcE1jaGFpbiB9IGZyb20gXCIuLi8uLi9zaGFyZWQvZnAudHNcIlxyXG5pbXBvcnQgeyBTcG90aWZ5VVJJIH0gZnJvbSBcIi4uLy4uL3NoYXJlZC91dGlsLnRzXCJcclxuaW1wb3J0IHsgQ09ORklHIH0gZnJvbSBcIi4vc2V0dGluZ3MudHNcIlxyXG5pbXBvcnQge1xyXG4gICAgU3RhclN0b3BzLFxyXG4gICAgY2FsY3VsYXRlUmF0aW5nRnJvbU1vdXNlRXZlbnQsXHJcbiAgICBjcmVhdGVTdGFycyxcclxuICAgIG9uU3RhckNsaWNrLFxyXG4gICAgc2V0U3RhcnNHcmFkaWVudEJ5UmF0aW5nLFxyXG59IGZyb20gXCIuL3N0YXJzLnRzXCJcclxuaW1wb3J0IHsgc3RhcnNOMlMgfSBmcm9tIFwiLi91dGlsLnRzXCJcclxuXHJcbmNvbnN0IHcgPSAobjogbnVtYmVyKSA9PiBNYXRoLmV4cChuKVxyXG5leHBvcnQgY29uc3QgYWdncmVnYXRlUmF0aW5ncyA9ICh1cmlzOiBTcG90aWZ5VVJJW10pID0+XHJcbiAgICBmLnBpcGUoXHJcbiAgICAgICAgdXJpcyxcclxuICAgICAgICBhci5tYXAodXJpID0+IHRyYWNrc1JhdGluZ3NbdXJpXSksXHJcbiAgICAgICAgYXIuZmlsdGVyKEJvb2xlYW4pLFxyXG4gICAgICAgIGFyLm1hcChyID0+IFtyLCB3KHIpXSBhcyBjb25zdCksXHJcbiAgICAgICAgcmVhZG9ubHlBcnJheS51bnppcDxudW1iZXIsIG51bWJlcj4sXHJcbiAgICAgICAgKFtycywgd3JzXSkgPT5cclxuICAgICAgICAgICAgcmVhZG9ubHlBcnJheS5yZWR1Y2VXaXRoSW5kZXgoMCwgKGksIHMsIHI6IG51bWJlcikgPT4gcyArIHIgKiB3cnNbaV0pKHJzKSAvXHJcbiAgICAgICAgICAgICAgICByZWFkb25seUFycmF5LnJlZHVjZSgwLCAocywgd3I6IG51bWJlcikgPT4gcyArIHdyKSh3cnMpIHx8IDAsXHJcbiAgICApXHJcblxyXG5leHBvcnQgY29uc3QgYWRkUmF0aW5nc0xpc3RlbmVyc1RvU3RhcnMgPSAoXHJcbiAgICBbc3RhcnNDb250YWluZXIsIHN0YXJzQ29uc3RydWN0c106IFJldHVyblR5cGU8dHlwZW9mIGNyZWF0ZVN0YXJzPixcclxuICAgIGdldFRyYWNrVXJpOiAoKSA9PiBTcG90aWZ5VVJJLFxyXG4pID0+IHtcclxuICAgIGNvbnN0IFtzdGFyc0VsZW1lbnRzLCBzdGFyc1NWR1N0b3BzXSA9IGYucGlwZShzdGFyc0NvbnN0cnVjdHMsIHJlYWRvbmx5QXJyYXkudW56aXApIGFzIFtcclxuICAgICAgICBTVkdTVkdFbGVtZW50W10sXHJcbiAgICAgICAgU3RhclN0b3BzW10sXHJcbiAgICBdXHJcblxyXG4gICAgc3RhcnNDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsICgpID0+XHJcbiAgICAgICAgc2V0U3RhcnNHcmFkaWVudEJ5UmF0aW5nKHRyYWNrc1JhdGluZ3NbZ2V0VHJhY2tVcmkoKV0gPz8gMCkoc3RhcnNTVkdTdG9wcyksXHJcbiAgICApXHJcblxyXG4gICAgZi5waXBlKFxyXG4gICAgICAgIHN0YXJzRWxlbWVudHMsXHJcbiAgICAgICAgcmVhZG9ubHlBcnJheS5tYXBXaXRoSW5kZXgoKG50aCwgc3RhckVsZW1lbnQpID0+IHtcclxuICAgICAgICAgICAgc3RhckVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgICAgICAgICAgIFwibW91c2Vtb3ZlXCIsXHJcbiAgICAgICAgICAgICAgICBmLmZsb3coXHJcbiAgICAgICAgICAgICAgICAgICAgY2FsY3VsYXRlUmF0aW5nRnJvbU1vdXNlRXZlbnQoc3RhckVsZW1lbnQsIG50aCksXHJcbiAgICAgICAgICAgICAgICAgICAgZi5mbGlwKHNldFN0YXJzR3JhZGllbnRCeVJhdGluZykoc3RhcnNTVkdTdG9wcyksXHJcbiAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICApXHJcblxyXG4gICAgICAgICAgICBzdGFyRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgb25TdGFyQ2xpY2sobnRoLCBzdGFyc0VsZW1lbnRzW250aF0sIGdldFRyYWNrVXJpKSlcclxuICAgICAgICB9KSxcclxuICAgIClcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGxvYWRSYXRpbmdzID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgcmF0aW5nc0ZvbGRlciA9IGF3YWl0IGZldGNoUGxhdEZvbGRlcihDT05GSUcucmF0aW5nc0ZvbGRlclVyaSlcclxuXHJcbiAgICBjb25zdCBzdGFyc1MyTmFycmF5ID0gZi5waXBlKFxyXG4gICAgICAgIG5lYS5yYW5nZSgwLCAxMCksXHJcbiAgICAgICAgYXIubWFwKHMgPT4gW3N0YXJzTjJTKHMpLCBzXSBhcyBbc3RyaW5nLCBudW1iZXJdKSxcclxuICAgICAgICByZWNvcmQuZnJvbUVudHJpZXMsXHJcbiAgICApXHJcblxyXG4gICAgcGxheWxpc3RVcmlzID0gZi5waXBlKFxyXG4gICAgICAgIHJhdGluZ3NGb2xkZXIhLml0ZW1zISxcclxuICAgICAgICBhci5tYXAocCA9PiBbcC50eXBlLCBwLnVyaSwgc3RhcnNTMk5hcnJheVtwLm5hbWUhXV0gYXMgW3N0cmluZywgU3BvdGlmeVVSSSwgbnVtYmVyXSksXHJcbiAgICAgICAgYXIucmVkdWNlKFxyXG4gICAgICAgICAgICBbXSBhcyBTcG90aWZ5VVJJW10sXHJcbiAgICAgICAgICAgIChhY2MsIFt0eXBlLCB1cmksIHN0YXJzTl0pID0+ICh0eXBlID09PSBcInBsYXlsaXN0XCIgJiYgc3RhcnNOID8gKGFjY1tzdGFyc05dID0gdXJpKSA6IFtdLCBhY2MpLFxyXG4gICAgICAgICksXHJcbiAgICApXHJcblxyXG4gICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgZ2xvYmFsVGhpcy50cmFja3NSYXRpbmdzID0gdHJhY2tzUmF0aW5ncyA9IGF3YWl0IGYucGlwZShcclxuICAgICAgICBwbGF5bGlzdFVyaXMsXHJcbiAgICAgICAgYXIubWFwKGZldGNoUGxhdFBsYXlsaXN0Q29udGVudHMpLFxyXG4gICAgICAgIHBzID0+IFByb21pc2UuYWxsKHBzKSwgLy8gUHJvbWlzZS5hbGwgZmxpcHMgZW1wdHkgdG8gdW5kZWZpbmVkXHJcbiAgICAgICAgcE1jaGFpbihhci5tYXAodHJhY2tzID0+IHRyYWNrcyA/PyBbXSkpLFxyXG4gICAgICAgIHBNY2hhaW4oYXIubWFwKGFyLm1hcCh0ID0+IHQudXJpKSkpLFxyXG4gICAgICAgIHBNY2hhaW4oYXIuZmxhdE1hcCgodHJhY2tVcmlzLCByYXRpbmcpID0+IHRyYWNrVXJpcy5tYXAodHJhY2tVcmkgPT4gW3RyYWNrVXJpLCByYXRpbmddIGFzIGNvbnN0KSkpLFxyXG4gICAgICAgIHBNY2hhaW4oXHJcbiAgICAgICAgICAgIGFyLnJlZHVjZSh7fSBhcyBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+LCAoYWNjLCBbdHJhY2tVcmksIHJhdGluZ10pID0+XHJcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKGFjYywge1xyXG4gICAgICAgICAgICAgICAgICAgIFt0cmFja1VyaV06IE1hdGgubWF4KHJhdGluZywgYWNjW3RyYWNrVXJpXSA/PyAwKSxcclxuICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICApLFxyXG4gICAgICAgICksXHJcbiAgICApXHJcbn1cclxuXHJcbmV4cG9ydCBsZXQgcGxheWxpc3RVcmlzOiBTcG90aWZ5VVJJW10gPSBbXVxyXG5leHBvcnQgbGV0IHRyYWNrc1JhdGluZ3M6IFJlY29yZDxTcG90aWZ5VVJJLCBudW1iZXI+ID0ge31cclxuIiwgImltcG9ydCB7IHRhc2sgfSBmcm9tIFwiaHR0cHM6Ly9lc20uc2gvZnAtdHNcIlxyXG5pbXBvcnQgeyBjcmVhdGVQbGF0Rm9sZGVyIH0gZnJvbSBcIi4uLy4uL3NoYXJlZC9hcGkudHNcIlxyXG5pbXBvcnQgeyBTZXR0aW5nc1NlY3Rpb24gfSBmcm9tIFwiLi4vLi4vc2hhcmVkL3NldHRpbmdzLnRzeFwiXHJcbmltcG9ydCB7IGxvYWRSYXRpbmdzIH0gZnJvbSBcIi4vcmF0aW5ncy50c1wiXHJcbmltcG9ydCB7IFJBVElOR1NfRk9MREVSX05BTUUgfSBmcm9tIFwiLi91dGlsLnRzXCJcclxuaW1wb3J0IHsgU3BvdGlmeVVSSSB9IGZyb20gXCIuLi8uLi9zaGFyZWQvdXRpbC50c1wiXHJcblxyXG5jb25zdCBzZXR0aW5ncyA9IG5ldyBTZXR0aW5nc1NlY3Rpb24oXCJTdGFyIFJhdGluZ3NcIiwgXCJzdGFyLXJhdGluZ3NcIilcclxuICAgIC5hZGRUb2dnbGUoXCJoaWRlSGVhcnRzXCIsIFwiSGlkZSBIZWFydHNcIilcclxuICAgIC5hZGRUb2dnbGUoXCJoYWxmU3RhclJhdGluZ3NcIiwgXCJIYWxmIHN0YXIgcmF0aW5nc1wiKVxyXG4gICAgLmFkZFRvZ2dsZShcInNob3dJblRyYWNrTGlzdHNcIiwgXCJTaG93IGluIHRyYWNrbGlzdHNcIilcclxuICAgIC5hZGRUb2dnbGUoXCJub3dQbGF5aW5nU3RhcnNPblJpZ2h0XCIsIFwiUGxhY2UgdGhlIHN0YXJzIGZvciBub3cgcGxheWluZyB0cmFjayBvbiB0aGUgcmlnaHRcIilcclxuICAgIC5hZGRJbnB1dChcImhlYXJ0VGhyZXNob2xkXCIsIFwiVGhyZXNob2xkIGZvciBsaWtpbmcgdHJha2NzXCIsIHRhc2sub2YoXCIzLjVcIikpXHJcbiAgICAuYWRkSW5wdXQoXCJza2lwVGhyZXNob2xkXCIsIFwiVGhyZXNob2xkIGZvciBza2lwcGluZyB0cmFrY3NcIiwgdGFzay5vZihcIjEuNVwiKSlcclxuICAgIC5hZGRJbnB1dChcclxuICAgICAgICBcInJhdGluZ3NGb2xkZXJVcmlcIixcclxuICAgICAgICBcIlJhdGluZ3MgZm9sZGVyIHVyaVwiLFxyXG4gICAgICAgIGFzeW5jICgpID0+IChhd2FpdCBjcmVhdGVQbGF0Rm9sZGVyKFJBVElOR1NfRk9MREVSX05BTUUpKS51cmksXHJcbiAgICAgICAgbG9hZFJhdGluZ3MsXHJcbiAgICApXHJcblxyXG5zZXR0aW5ncy5wdXNoU2V0dGluZ3MoKVxyXG5cclxuZXhwb3J0IGNvbnN0IENPTkZJRyA9IHNldHRpbmdzLnRvT2JqZWN0KCkgYXMge1xyXG4gICAgaGlkZUhlYXJ0czogYm9vbGVhblxyXG4gICAgaGFsZlN0YXJSYXRpbmdzOiBzdHJpbmdcclxuICAgIHNob3dJblRyYWNrTGlzdHM6IGJvb2xlYW5cclxuICAgIG5vd1BsYXlpbmdTdGFyc09uUmlnaHQ6IGJvb2xlYW5cclxuICAgIGhlYXJ0VGhyZXNob2xkOiBzdHJpbmdcclxuICAgIHNraXBUaHJlc2hvbGQ6IHN0cmluZ1xyXG4gICAgcmF0aW5nc0ZvbGRlclVyaTogU3BvdGlmeVVSSVxyXG59XHJcbiIsICJpbXBvcnQgeyB0YXNrIH0gZnJvbSBcImh0dHBzOi8vZXNtLnNoL2ZwLXRzXCJcclxuaW1wb3J0IHsgY29uc3RWb2lkIH0gZnJvbSBcImh0dHBzOi8vZXNtLnNoL2ZwLXRzL2Z1bmN0aW9uXCJcclxuaW1wb3J0IHsgZ3VhcmQ0LCBpcyB9IGZyb20gXCIuL2ZwLnRzXCJcclxuaW1wb3J0IHsgc2xlZXAgfSBmcm9tIFwiLi91dGlsLnRzXCJcclxuXHJcbmNvbnN0IHsgUmVhY3QsIFJlYWN0RE9NIH0gPSBTcGljZXRpZnlcclxuXHJcbmV4cG9ydCBjbGFzcyBTZXR0aW5nc1NlY3Rpb24ge1xyXG4gICAgcHJpdmF0ZSBzdG9wSGlzdG9yeUxpc3RlbmVyOiBhbnlcclxuICAgIHByaXZhdGUgc2V0UmVyZW5kZXI6IEZ1bmN0aW9uIHwgbnVsbCA9IG51bGxcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgICAgICBwdWJsaWMgbmFtZTogc3RyaW5nLFxyXG4gICAgICAgIHB1YmxpYyBzZWN0aW9uSWQ6IHN0cmluZyxcclxuICAgICAgICBwdWJsaWMgc2VjdGlvbkZpZWxkczogeyBba2V5OiBzdHJpbmddOiBTZXR0aW5nc0ZpZWxkIH0gPSB7fSxcclxuICAgICkge31cclxuXHJcbiAgICBzdGF0aWMgd2FpdEZvclJlYWN0ID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIHdoaWxlICghKFNwaWNldGlmeS5SZWFjdCAmJiBTcGljZXRpZnkuUmVhY3RET00pKSBzbGVlcCgxMDApXHJcbiAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuXHJcbiAgICBwdXNoU2V0dGluZ3MgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgd2hpbGUgKCFTcGljZXRpZnk/LlBsYXRmb3JtPy5IaXN0b3J5Py5saXN0ZW4pIGF3YWl0IHNsZWVwKDEwMClcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc3RvcEhpc3RvcnlMaXN0ZW5lcikgdGhpcy5zdG9wSGlzdG9yeUxpc3RlbmVyKClcclxuXHJcbiAgICAgICAgdGhpcy5zdG9wSGlzdG9yeUxpc3RlbmVyID0gU3BpY2V0aWZ5LlBsYXRmb3JtLkhpc3RvcnkubGlzdGVuKCh7IHBhdGhuYW1lID0gXCJcIiB9KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChwYXRobmFtZSA9PT0gXCIvcHJlZmVyZW5jZXNcIikgdGhpcy5yZW5kZXIoKVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGlmIChTcGljZXRpZnkuUGxhdGZvcm0uSGlzdG9yeS5sb2NhdGlvbi5wYXRobmFtZSA9PT0gXCIvcHJlZmVyZW5jZXNcIikgYXdhaXQgdGhpcy5yZW5kZXIoKVxyXG4gICAgfVxyXG5cclxuICAgIHRvT2JqZWN0ID0gKCkgPT5cclxuICAgICAgICBuZXcgUHJveHkoXHJcbiAgICAgICAgICAgIHt9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6ICh0YXJnZXQsIHByb3ApID0+IFNldHRpbmdzU2VjdGlvbi5nZXRGaWVsZFZhbHVlKHRoaXMuZ2V0SWQocHJvcC50b1N0cmluZygpKSksXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgKVxyXG5cclxuICAgIHJlcmVuZGVyID0gKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnNldFJlcmVuZGVyKSB0aGlzLnNldFJlcmVuZGVyKE1hdGgucmFuZG9tKCkpXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZW5kZXIgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgd2hpbGUgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlc2t0b3Auc2V0dGluZ3Muc2VsZWN0TGFuZ3VhZ2VcIikpIHtcclxuICAgICAgICAgICAgaWYgKFNwaWNldGlmeS5QbGF0Zm9ybS5IaXN0b3J5LmxvY2F0aW9uLnBhdGhuYW1lICE9PSBcIi9wcmVmZXJlbmNlc1wiKSByZXR1cm5cclxuICAgICAgICAgICAgYXdhaXQgc2xlZXAoMTAwKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgYWxsU2V0dGluZ3NDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLngtc2V0dGluZ3MtY29udGFpbmVyXCIpIVxyXG5cclxuICAgICAgICBsZXQgcGx1Z2luU2V0dGluZ3NDb250YWluZXIgPSBBcnJheS5mcm9tKGFsbFNldHRpbmdzQ29udGFpbmVyLmNoaWxkcmVuKS5maW5kKCh7IGlkIH0pID0+IGlkID09PSB0aGlzLnNlY3Rpb25JZClcclxuXHJcbiAgICAgICAgaWYgKCFwbHVnaW5TZXR0aW5nc0NvbnRhaW5lcikge1xyXG4gICAgICAgICAgICBwbHVnaW5TZXR0aW5nc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcclxuICAgICAgICAgICAgcGx1Z2luU2V0dGluZ3NDb250YWluZXIuaWQgPSB0aGlzLnNlY3Rpb25JZFxyXG4gICAgICAgICAgICBwbHVnaW5TZXR0aW5nc0NvbnRhaW5lci5jbGFzc05hbWUgPSBcInNldHRpbmdzQ29udGFpbmVyXCJcclxuICAgICAgICAgICAgYWxsU2V0dGluZ3NDb250YWluZXIuYXBwZW5kQ2hpbGQocGx1Z2luU2V0dGluZ3NDb250YWluZXIpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBSZWFjdERPTS5yZW5kZXIoPHRoaXMuRmllbGRzQ29udGFpbmVyIC8+LCBwbHVnaW5TZXR0aW5nc0NvbnRhaW5lcilcclxuICAgIH1cclxuXHJcbiAgICBhZGRCdXR0b24gPSAoXHJcbiAgICAgICAgbmFtZUlkOiBzdHJpbmcsXHJcbiAgICAgICAgZGVzY3JpcHRpb246IHN0cmluZyxcclxuICAgICAgICB0ZXh0OiBzdHJpbmcsXHJcbiAgICAgICAgb25DbGljazogKGU6IFJlYWN0Lk1vdXNlRXZlbnQ8SFRNTEJ1dHRvbkVsZW1lbnQsIE1vdXNlRXZlbnQ+KSA9PiB2b2lkID0gY29uc3RWb2lkLFxyXG4gICAgICAgIGV2ZW50czogQnV0dG9uRmllbGRbXCJldmVudHNcIl0gPSB7fSxcclxuICAgICkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy5nZXRJZChuYW1lSWQpXHJcblxyXG4gICAgICAgIGV2ZW50cy5vbkNsaWNrID0gb25DbGlja1xyXG5cclxuICAgICAgICB0aGlzLnNlY3Rpb25GaWVsZHNbbmFtZUlkXSA9IHtcclxuICAgICAgICAgICAgaWQsXHJcbiAgICAgICAgICAgIHR5cGU6IEZpZWxkVHlwZS5CVVRUT04sXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICB0ZXh0LFxyXG4gICAgICAgICAgICBldmVudHMsXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzXHJcbiAgICB9XHJcblxyXG4gICAgYWRkVG9nZ2xlID0gKFxyXG4gICAgICAgIG5hbWVJZDogc3RyaW5nLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBzdHJpbmcsXHJcbiAgICAgICAgZGVmYXVsdFZhbHVlID0gdGFzay5vZih0cnVlKSxcclxuICAgICAgICBvbkNoYW5nZTogKGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB2b2lkID0gY29uc3RWb2lkLFxyXG4gICAgICAgIGV2ZW50czogVG9nZ2xlRmllbGRbXCJldmVudHNcIl0gPSB7fSxcclxuICAgICkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy5nZXRJZChuYW1lSWQpXHJcblxyXG4gICAgICAgIFNldHRpbmdzU2VjdGlvbi5zZXREZWZhdWx0RmllbGRWYWx1ZShpZCwgZGVmYXVsdFZhbHVlKVxyXG5cclxuICAgICAgICBldmVudHMub25DaGFuZ2UgPSBvbkNoYW5nZVxyXG4gICAgICAgIHRoaXMuc2VjdGlvbkZpZWxkc1tuYW1lSWRdID0ge1xyXG4gICAgICAgICAgICBpZCxcclxuICAgICAgICAgICAgdHlwZTogRmllbGRUeXBlLlRPR0dMRSxcclxuICAgICAgICAgICAgZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgIGV2ZW50cyxcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuXHJcbiAgICBhZGRJbnB1dCA9IChcclxuICAgICAgICBuYW1lSWQ6IHN0cmluZyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogc3RyaW5nLFxyXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogdGFzay5UYXNrPHN0cmluZz4sXHJcbiAgICAgICAgb25DaGFuZ2U6IChlOiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4gdm9pZCA9IGNvbnN0Vm9pZCxcclxuICAgICAgICBpbnB1dFR5cGUgPSBcInRleHRcIixcclxuICAgICAgICBldmVudHM6IElucHV0RmllbGRbXCJldmVudHNcIl0gPSB7fSxcclxuICAgICkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy5nZXRJZChuYW1lSWQpXHJcblxyXG4gICAgICAgIFNldHRpbmdzU2VjdGlvbi5zZXREZWZhdWx0RmllbGRWYWx1ZShpZCwgZGVmYXVsdFZhbHVlKVxyXG5cclxuICAgICAgICBldmVudHMub25DaGFuZ2UgPSBvbkNoYW5nZVxyXG4gICAgICAgIHRoaXMuc2VjdGlvbkZpZWxkc1tuYW1lSWRdID0ge1xyXG4gICAgICAgICAgICBpZCxcclxuICAgICAgICAgICAgdHlwZTogRmllbGRUeXBlLklOUFVULFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgaW5wdXRUeXBlLFxyXG4gICAgICAgICAgICBldmVudHMsXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG5cclxuICAgIGFkZERyb3BEb3duID0gKFxyXG4gICAgICAgIG5hbWVJZDogc3RyaW5nLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBzdHJpbmcsXHJcbiAgICAgICAgb3B0aW9uczogc3RyaW5nW10sXHJcbiAgICAgICAgZGVmYXVsdFZhbHVlID0gdGFzay5vZigwKSxcclxuICAgICAgICBvbkNoYW5nZTogKGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxTZWxlY3RFbGVtZW50PikgPT4gdm9pZCA9IGNvbnN0Vm9pZCxcclxuICAgICAgICBldmVudHM6IERyb3Bkb3duRmllbGRbXCJldmVudHNcIl0gPSB7fSxcclxuICAgICkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy5nZXRJZChuYW1lSWQpXHJcblxyXG4gICAgICAgIFNldHRpbmdzU2VjdGlvbi5zZXREZWZhdWx0RmllbGRWYWx1ZShpZCwgZGVmYXVsdFZhbHVlKVxyXG5cclxuICAgICAgICBldmVudHMub25DaGFuZ2UgPSBvbkNoYW5nZVxyXG4gICAgICAgIHRoaXMuc2VjdGlvbkZpZWxkc1tuYW1lSWRdID0ge1xyXG4gICAgICAgICAgICBpZCxcclxuICAgICAgICAgICAgdHlwZTogRmllbGRUeXBlLkRST1BET1dOLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgb3B0aW9ucyxcclxuICAgICAgICAgICAgZXZlbnRzLFxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG5cclxuICAgIGFkZEhpZGRlbiA9IChuYW1lSWQ6IHN0cmluZywgZGVmYXVsdFZhbHVlOiBhbnkpID0+IHtcclxuICAgICAgICBjb25zdCBpZCA9IHRoaXMuZ2V0SWQobmFtZUlkKVxyXG5cclxuICAgICAgICBTZXR0aW5nc1NlY3Rpb24uc2V0RGVmYXVsdEZpZWxkVmFsdWUoaWQsIGRlZmF1bHRWYWx1ZSlcclxuXHJcbiAgICAgICAgdGhpcy5zZWN0aW9uRmllbGRzW25hbWVJZF0gPSB7XHJcbiAgICAgICAgICAgIGlkLFxyXG4gICAgICAgICAgICB0eXBlOiBGaWVsZFR5cGUuSElEREVOLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJcIixcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuXHJcbiAgICBnZXRJZCA9IChuYW1lSWQ6IHN0cmluZykgPT4gYGV4dGVuc2lvbnM6JHt0aGlzLnNlY3Rpb25JZH06JHtuYW1lSWR9YFxyXG5cclxuICAgIHByaXZhdGUgdXNlU3RhdGVGb3IgPSA8QSw+KGlkOiBzdHJpbmcpID0+IHtcclxuICAgICAgICBjb25zdCBbdmFsdWUsIHNldFZhbHVlU3RhdGVdID0gUmVhY3QudXNlU3RhdGUoU2V0dGluZ3NTZWN0aW9uLmdldEZpZWxkVmFsdWU8QT4oaWQpKVxyXG5cclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICB2YWx1ZSxcclxuICAgICAgICAgICAgKG5ld1ZhbHVlOiBBKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAobmV3VmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFZhbHVlU3RhdGUobmV3VmFsdWUpXHJcbiAgICAgICAgICAgICAgICAgICAgU2V0dGluZ3NTZWN0aW9uLnNldEZpZWxkVmFsdWUoaWQhLCBuZXdWYWx1ZSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICBdIGFzIGNvbnN0XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldEZpZWxkVmFsdWUgPSA8Uiw+KGlkOiBzdHJpbmcpOiBSID0+IHtcclxuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShTcGljZXRpZnkuTG9jYWxTdG9yYWdlLmdldChpZCkgPz8gXCJudWxsXCIpIC8vIFwibnVsbFwiIGlzIHBhcnNlZCBhcyBudWxsLCB0aGUgbW9yZSB5b3Uga25vd1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBzZXRGaWVsZFZhbHVlID0gKGlkOiBzdHJpbmcsIG5ld1ZhbHVlOiBhbnkpID0+IHtcclxuICAgICAgICBTcGljZXRpZnkuTG9jYWxTdG9yYWdlLnNldChpZCwgSlNPTi5zdHJpbmdpZnkobmV3VmFsdWUpKVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIHNldERlZmF1bHRGaWVsZFZhbHVlID0gYXN5bmMgKGlkOiBzdHJpbmcsIGRlZmF1bHRWYWx1ZTogdGFzay5UYXNrPGFueT4pID0+IHtcclxuICAgICAgICBpZiAoU2V0dGluZ3NTZWN0aW9uLmdldEZpZWxkVmFsdWUoaWQpID09PSBudWxsKSBTZXR0aW5nc1NlY3Rpb24uc2V0RmllbGRWYWx1ZShpZCwgYXdhaXQgZGVmYXVsdFZhbHVlKCkpXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBGaWVsZHNDb250YWluZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgW3JlcmVuZGVyLCBzZXRSZXJlbmRlcl0gPSBSZWFjdC51c2VTdGF0ZTxudW1iZXI+KDApXHJcbiAgICAgICAgdGhpcy5zZXRSZXJlbmRlciA9IHNldFJlcmVuZGVyXHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwieC1zZXR0aW5ncy1zZWN0aW9uXCIga2V5PXtyZXJlbmRlcn0+XHJcbiAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwiVHlwZV9fVHlwZUVsZW1lbnQtc2MtZ29saTNqLTAgVHlwZUVsZW1lbnQtY2VsbG8tdGV4dEJhc2UtdHlwZVwiPnt0aGlzLm5hbWV9PC9oMj5cclxuICAgICAgICAgICAgICAgIHtPYmplY3QuZW50cmllcyh0aGlzLnNlY3Rpb25GaWVsZHMpLm1hcCgoW25hbWVJZCwgZmllbGRdKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDx0aGlzLkZpZWxkIGZpZWxkPXtmaWVsZH0gLz5cclxuICAgICAgICAgICAgICAgIH0pfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBGaWVsZCA9ICh7IGZpZWxkIH06IHsgZmllbGQ6IFNldHRpbmdzRmllbGQgfSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGlzVHlwZSA9IGlzPFNldHRpbmdzRmllbGQ+KFwidHlwZVwiKVxyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIngtc2V0dGluZ3Mtcm93XCI+XHJcbiAgICAgICAgICAgICAgICA8dGhpcy5TZXR0aW5nRGVzY3JpcHRpb24gaWQ9e2ZpZWxkLmlkfSBkZXNjcmlwdGlvbj17ZmllbGQuZGVzY3JpcHRpb259IC8+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIngtc2V0dGluZ3Mtc2Vjb25kQ29sdW1uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAge2d1YXJkNChbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtpc1R5cGU8SW5wdXRGaWVsZD4oRmllbGRUeXBlLklOUFVUKSwgdGhpcy5TZXR0aW5nSW5wdXRGaWVsZF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtpc1R5cGUoRmllbGRUeXBlLkJVVFRPTiksIHRoaXMuU2V0dGluZ0J1dHRvbkZpZWxkXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgW2lzVHlwZShGaWVsZFR5cGUuVE9HR0xFKSwgdGhpcy5TZXR0aW5nVG9nZ2xlRmllbGRdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbaXNUeXBlKEZpZWxkVHlwZS5EUk9QRE9XTiksIHRoaXMuU2V0dGluZ0Ryb3Bkb3duRmllbGRdLFxyXG4gICAgICAgICAgICAgICAgICAgIF0pKHRoaXMuU2V0dGluZ0hpZGRlbikoZmllbGQpfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIClcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIFNldHRpbmdEZXNjcmlwdGlvbiA9ICh7IGlkLCBkZXNjcmlwdGlvbiB9OiB7IGlkOiBzdHJpbmc7IGRlc2NyaXB0aW9uOiBzdHJpbmcgfSkgPT4gKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwieC1zZXR0aW5ncy1maXJzdENvbHVtblwiPlxyXG4gICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiVHlwZV9fVHlwZUVsZW1lbnQtc2MtZ29saTNqLTAgVHlwZUVsZW1lbnQtdmlvbGEtdGV4dFN1YmR1ZWQtdHlwZVwiIGh0bWxGb3I9e2lkfT5cclxuICAgICAgICAgICAgICAgIHtkZXNjcmlwdGlvbn1cclxuICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIClcclxuXHJcbiAgICBwcml2YXRlIFNldHRpbmdCdXR0b25GaWVsZCA9IChmaWVsZDogQnV0dG9uRmllbGQpID0+IChcclxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJcIj5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgaWQ9e2ZpZWxkLmlkfVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiQnV0dG9uLXNjLXkwZ3RieC0wIEJ1dHRvbi1zbS1idXR0b25TZWNvbmRhcnktdXNlQnJvd3NlckRlZmF1bHRGb2N1c1N0eWxlIHgtc2V0dGluZ3MtYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgIHsuLi5maWVsZC5ldmVudHN9XHJcbiAgICAgICAgICAgICAgICB0eXBlPXtmaWVsZC50eXBlfVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICB7ZmllbGQudGV4dH1cclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgPC9zcGFuPlxyXG4gICAgKVxyXG5cclxuICAgIHByaXZhdGUgU2V0dGluZ1RvZ2dsZUZpZWxkID0gKGZpZWxkOiBUb2dnbGVGaWVsZCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IFt2YWx1ZSwgc2V0VmFsdWVdID0gdGhpcy51c2VTdGF0ZUZvcjxib29sZWFuPihmaWVsZC5pZClcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cIngtc2V0dGluZ3Mtc2Vjb25kQ29sdW1uIHgtdG9nZ2xlLXdyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIGlkPXtmaWVsZC5pZH1cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ4LXRvZ2dsZS1pbnB1dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcclxuICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtTZXR0aW5nc1NlY3Rpb24uZ2V0RmllbGRWYWx1ZShmaWVsZC5pZCl9XHJcbiAgICAgICAgICAgICAgICAgICAgey4uLmZpZWxkLmV2ZW50c31cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFZhbHVlKGUuY3VycmVudFRhcmdldC5jaGVja2VkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZC5ldmVudHMub25DaGFuZ2U/LihlKVxyXG4gICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwieC10b2dnbGUtaW5kaWNhdG9yV3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIngtdG9nZ2xlLWluZGljYXRvclwiPjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBTZXR0aW5nSW5wdXRGaWVsZCA9IChmaWVsZDogSW5wdXRGaWVsZCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IFt2YWx1ZSwgc2V0VmFsdWVdID0gdGhpcy51c2VTdGF0ZUZvcjxzdHJpbmc+KGZpZWxkLmlkKVxyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIngtc2V0dGluZ3MtaW5wdXRcIlxyXG4gICAgICAgICAgICAgICAgaWQ9e2ZpZWxkLmlkfVxyXG4gICAgICAgICAgICAgICAgZGlyPVwibHRyXCJcclxuICAgICAgICAgICAgICAgIHZhbHVlPXtTZXR0aW5nc1NlY3Rpb24uZ2V0RmllbGRWYWx1ZShmaWVsZC5pZCl9XHJcbiAgICAgICAgICAgICAgICB0eXBlPXtmaWVsZC5pbnB1dFR5cGV9XHJcbiAgICAgICAgICAgICAgICB7Li4uZmllbGQuZXZlbnRzfVxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFZhbHVlKGUuY3VycmVudFRhcmdldC52YWx1ZSlcclxuICAgICAgICAgICAgICAgICAgICBmaWVsZC5ldmVudHMub25DaGFuZ2U/LihlKVxyXG4gICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICApXHJcbiAgICB9XHJcbiAgICBwcml2YXRlIFNldHRpbmdEcm9wZG93bkZpZWxkID0gKGZpZWxkOiBEcm9wZG93bkZpZWxkKSA9PiB7XHJcbiAgICAgICAgY29uc3QgW3ZhbHVlLCBzZXRWYWx1ZV0gPSB0aGlzLnVzZVN0YXRlRm9yPG51bWJlcj4oZmllbGQuaWQpXHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxzZWxlY3RcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1haW4tZHJvcERvd24tZHJvcERvd25cIlxyXG4gICAgICAgICAgICAgICAgaWQ9e2ZpZWxkLmlkfVxyXG4gICAgICAgICAgICAgICAgey4uLmZpZWxkLmV2ZW50c31cclxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBzZXRWYWx1ZShlLmN1cnJlbnRUYXJnZXQuc2VsZWN0ZWRJbmRleClcclxuICAgICAgICAgICAgICAgICAgICBmaWVsZC5ldmVudHMub25DaGFuZ2U/LihlKVxyXG4gICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAge2ZpZWxkLm9wdGlvbnMubWFwKChvcHRpb24sIGkpID0+IChcclxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHNlbGVjdGVkPXtpID09PSBTZXR0aW5nc1NlY3Rpb24uZ2V0RmllbGRWYWx1ZShmaWVsZC5pZCl9IHZhbHVlPXtpICsgMX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtvcHRpb259XHJcbiAgICAgICAgICAgICAgICAgICAgPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICApKX1cclxuICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgU2V0dGluZ0hpZGRlbiA9ICgpID0+IDw+PC8+XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBlbnVtIEZpZWxkVHlwZSB7XHJcbiAgICBISURERU4gPSBcImhpZGRlblwiLFxyXG4gICAgSU5QVVQgPSBcImlucHV0XCIsXHJcbiAgICBEUk9QRE9XTiA9IFwiZHJvcGRvd25cIixcclxuICAgIEJVVFRPTiA9IFwiYnV0dG9uXCIsXHJcbiAgICBUT0dHTEUgPSBcInRvZ2dsZVwiLFxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEJhc2VGaWVsZDxBPiB7XHJcbiAgICBpZDogc3RyaW5nXHJcbiAgICB0eXBlOiBGaWVsZFR5cGVcclxuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmdcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBCdXR0b25GaWVsZCBleHRlbmRzIEJhc2VGaWVsZDxuZXZlcj4ge1xyXG4gICAgdHlwZTogRmllbGRUeXBlLkJVVFRPTlxyXG4gICAgdGV4dDogc3RyaW5nXHJcbiAgICBldmVudHM6IFBhcnRpYWw8UmVhY3QuQnV0dG9uSFRNTEF0dHJpYnV0ZXM8SFRNTEJ1dHRvbkVsZW1lbnQ+PlxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFRvZ2dsZUZpZWxkIGV4dGVuZHMgQmFzZUZpZWxkPGJvb2xlYW4+IHtcclxuICAgIHR5cGU6IEZpZWxkVHlwZS5UT0dHTEVcclxuICAgIGV2ZW50czogUGFydGlhbDxSZWFjdC5JbnB1dEhUTUxBdHRyaWJ1dGVzPEhUTUxJbnB1dEVsZW1lbnQ+PlxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElucHV0RmllbGQgZXh0ZW5kcyBCYXNlRmllbGQ8c3RyaW5nPiB7XHJcbiAgICB0eXBlOiBGaWVsZFR5cGUuSU5QVVRcclxuICAgIGlucHV0VHlwZTogc3RyaW5nXHJcbiAgICBldmVudHM6IFBhcnRpYWw8UmVhY3QuSW5wdXRIVE1MQXR0cmlidXRlczxIVE1MSW5wdXRFbGVtZW50Pj5cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBEcm9wZG93bkZpZWxkIGV4dGVuZHMgQmFzZUZpZWxkPG51bWJlcj4ge1xyXG4gICAgdHlwZTogRmllbGRUeXBlLkRST1BET1dOXHJcbiAgICBvcHRpb25zOiBzdHJpbmdbXVxyXG4gICAgZXZlbnRzOiBQYXJ0aWFsPFJlYWN0LlNlbGVjdEhUTUxBdHRyaWJ1dGVzPEhUTUxTZWxlY3RFbGVtZW50Pj5cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBIaWRkZW5GaWVsZCBleHRlbmRzIEJhc2VGaWVsZDxhbnk+IHtcclxuICAgIHR5cGU6IEZpZWxkVHlwZS5ISURERU5cclxufVxyXG5cclxuZXhwb3J0IHR5cGUgU2V0dGluZ3NGaWVsZCA9IEhpZGRlbkZpZWxkIHwgRHJvcGRvd25GaWVsZCB8IElucHV0RmllbGQgfCBCdXR0b25GaWVsZCB8IFRvZ2dsZUZpZWxkXHJcbiIsICJpbXBvcnQgeyBhcnJheSBhcyBhLCBmdW5jdGlvbiBhcyBmIH0gZnJvbSBcImh0dHBzOi8vZXNtLnNoL2ZwLXRzXCJcclxuaW1wb3J0IHsgU3RhclN0b3BzLCBzZXRTdGFyc0dyYWRpZW50QnlSYXRpbmcgfSBmcm9tIFwiLi9zdGFycy50c1wiXHJcblxyXG5leHBvcnQgY29uc3QgUkFUSU5HU19GT0xERVJfTkFNRSA9IFwiUmF0aW5nc1wiXHJcblxyXG5leHBvcnQgY29uc3QgU1RBUl9TSVpFID0gMTZcclxuZXhwb3J0IGNvbnN0IEhBTEZfU1RBUl9MRU5HVEggPSBTVEFSX1NJWkUgLyAyXHJcblxyXG5leHBvcnQgY29uc3Qgc3RhcnNTMk4gPSAoUzogc3RyaW5nKSA9PiBOdW1iZXIoUykgKiAyXHJcbmV4cG9ydCBjb25zdCBzdGFyc04yUyA9IChOOiBudW1iZXIpID0+IChOIC8gMikudG9GaXhlZCgxKVxyXG5cclxuZXhwb3J0IGNvbnN0IGdldFN0YXJzRnJvbVN0YXJzQ29udGFpbmVyID0gKHN0YXJzRWxlbWVudDogSFRNTFNwYW5FbGVtZW50KSA9PlxyXG4gICAgQXJyYXkuZnJvbShzdGFyc0VsZW1lbnQuY2hpbGRyZW4pIGFzIFNWR1NWR0VsZW1lbnRbXVxyXG5leHBvcnQgY29uc3QgZ2V0U3RhclN0b3BzRnJvbVN0YXIgPSAoc3RhcjogU1ZHU1ZHRWxlbWVudCkgPT5cclxuICAgIEFycmF5LmZyb20oc3Rhci5maXJzdENoaWxkIS5maXJzdENoaWxkIS5jaGlsZE5vZGVzKSBhcyBTdGFyU3RvcHNcclxuZXhwb3J0IGNvbnN0IGdldFN0YXJzU3RvcHNGcm9tU3RhcnNDb250YWluZXIgPSBmLmZsb3coZ2V0U3RhcnNGcm9tU3RhcnNDb250YWluZXIsIGEubWFwKGdldFN0YXJTdG9wc0Zyb21TdGFyKSlcclxuXHJcbmV4cG9ydCBjb25zdCBzZXRTdGFyc0dyYWRpZW50RnJvbUNvbnRhaW5lckJ5UmF0aW5nID0gKHJhdGluZzogbnVtYmVyKSA9PlxyXG4gICAgZi5mbG93KGdldFN0YXJzU3RvcHNGcm9tU3RhcnNDb250YWluZXIsIHNldFN0YXJzR3JhZGllbnRCeVJhdGluZyhyYXRpbmcpKVxyXG5cclxuZXhwb3J0IGNvbnN0IGdldFN0YXJzQ29udGFpbmVyID0gKGlkU3VmZml4OiBzdHJpbmcpID0+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBzdGFycy0ke2lkU3VmZml4fWApIGFzIEhUTUxTcGFuRWxlbWVudFxyXG5leHBvcnQgY29uc3QgZ2V0U3RhcnMgPSBmLmZsb3coZ2V0U3RhcnNDb250YWluZXIsIGdldFN0YXJzRnJvbVN0YXJzQ29udGFpbmVyKVxyXG5leHBvcnQgY29uc3QgZ2V0U3RhcnNTdG9wcyA9IGYuZmxvdyhnZXRTdGFyc0NvbnRhaW5lciwgZ2V0U3RhcnNTdG9wc0Zyb21TdGFyc0NvbnRhaW5lcilcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRUcmFja0xpc3RzID0gKCkgPT4gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsPEhUTUxEaXZFbGVtZW50PihcIi5tYWluLXRyYWNrTGlzdC1pbmRleGFibGVcIikpXHJcbmV4cG9ydCBjb25zdCBnZXRUcmFja0xpc3RIZWFkZXIgPSAodHJhY2tMaXN0OiBIVE1MRGl2RWxlbWVudCkgPT5cclxuICAgIHRyYWNrTGlzdC5xdWVyeVNlbGVjdG9yKFwiLm1haW4tdHJhY2tMaXN0LXRyYWNrTGlzdEhlYWRlclwiKT8uZmlyc3RDaGlsZCBhcyBIVE1MRGl2RWxlbWVudFxyXG5leHBvcnQgY29uc3QgZ2V0VHJhY2tMaXN0VHJhY2tzID0gKHRyYWNrTGlzdDogSFRNTERpdkVsZW1lbnQpID0+XHJcbiAgICBBcnJheS5mcm9tKHRyYWNrTGlzdC5xdWVyeVNlbGVjdG9yQWxsPEhUTUxEaXZFbGVtZW50PihcImRpdi5tYWluLXRyYWNrTGlzdC10cmFja0xpc3RSb3dcIikpXHJcblxyXG5leHBvcnQgY29uc3QgZ2V0TGFzdENvbEluZGV4ID0gKHBhcmVudDogSFRNTEVsZW1lbnQpID0+IHtcclxuICAgIGNvbnN0IGxhc3RDb2wgPSBwYXJlbnQucXVlcnlTZWxlY3RvcjxIVE1MRGl2RWxlbWVudD4oXCJkaXYubWFpbi10cmFja0xpc3Qtcm93U2VjdGlvbkVuZFwiKSFcclxuICAgIGNvbnN0IGxhc3RDb2xJbmRleCA9IE51bWJlcihsYXN0Q29sLmdldEF0dHJpYnV0ZShcImFyaWEtY29saW5kZXhcIikpXHJcbiAgICByZXR1cm4gW2xhc3RDb2xJbmRleCwgbGFzdENvbF0gYXMgW251bWJlciwgSFRNTERpdkVsZW1lbnRdXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBnZXRGaXJzdFBsdXMgPSAocGFyZW50OiBIVE1MRWxlbWVudCkgPT5cclxuICAgIHBhcmVudC5xdWVyeVNlbGVjdG9yPEhUTUxCdXR0b25FbGVtZW50PihcclxuICAgICAgICBcIi5CdXR0b24tc20tMTYtYnV0dG9uVGVydGlhcnktaWNvbk9ubHktdXNlQnJvd3NlckRlZmF1bHRGb2N1c1N0eWxlLCAuQnV0dG9uLXRleHRCcmlnaHRBY2NlbnQtc20tMTYtYnV0dG9uVGVydGlhcnktaWNvbk9ubHktdXNlQnJvd3NlckRlZmF1bHRGb2N1c1N0eWxlXCIsXHJcbiAgICApIVxyXG5cclxuZXhwb3J0IGNvbnN0IGdldFRyYWNrTGlzdFRyYWNrVXJpID0gKHRyYWNrOiBIVE1MRGl2RWxlbWVudCkgPT4gKFxyXG4gICAgKHRyYWNrID0gT2JqZWN0LnZhbHVlcyh0cmFjaylbMF0uY2hpbGQuY2hpbGQuY2hpbGQuY2hpbGQpLFxyXG4gICAgKHRyYWNrIGFzIGFueSkucGVuZGluZ1Byb3BzLnVyaSA/PyAodHJhY2sgYXMgYW55KS5jaGlsZC5wZW5kaW5nUHJvcHMudXJpXHJcbilcclxuIiwgImltcG9ydCB7IGFycmF5IGFzIGFyLCBub25FbXB0eUFycmF5LCBmdW5jdGlvbiBhcyBmIH0gZnJvbSBcImh0dHBzOi8vZXNtLnNoL2ZwLXRzXCJcclxuaW1wb3J0IHtcclxuICAgIGFkZFBsYXRQbGF5bGlzdFRyYWNrcyxcclxuICAgIGNyZWF0ZVBsYXRQbGF5bGlzdCxcclxuICAgIHJlbW92ZVdlYlBsYXlsaXN0VHJhY2tzLFxyXG4gICAgc2V0UGxhdFBsYXlsaXN0VmlzaWJpbGl0eSxcclxufSBmcm9tIFwiLi4vLi4vc2hhcmVkL2FwaS50c1wiXHJcbmltcG9ydCB7IFNwb3RpZnlMb2MsIFNwb3RpZnlVUkksIGlzTGlrZWQsIHRvZ2dsZUxpa2VkIH0gZnJvbSBcIi4uLy4uL3NoYXJlZC91dGlsLnRzXCJcclxuaW1wb3J0IHsgdXBkYXRlTm93UGxheWluZ1N0YXJzIH0gZnJvbSBcIi4vYXBwLnRzXCJcclxuaW1wb3J0IHsgcGxheWxpc3RVcmlzLCB0cmFja3NSYXRpbmdzIH0gZnJvbSBcIi4vcmF0aW5ncy50c1wiXHJcbmltcG9ydCB7IENPTkZJRyB9IGZyb20gXCIuL3NldHRpbmdzLnRzXCJcclxuaW1wb3J0IHtcclxuICAgIEhBTEZfU1RBUl9MRU5HVEgsXHJcbiAgICBnZXRTdGFyc0NvbnRhaW5lcixcclxuICAgIHNldFN0YXJzR3JhZGllbnRGcm9tQ29udGFpbmVyQnlSYXRpbmcsXHJcbiAgICBzdGFyc04yUyxcclxuICAgIHN0YXJzUzJOLFxyXG59IGZyb20gXCIuL3V0aWwudHNcIlxyXG5cclxuY29uc3QgeyBVUkkgfSA9IFNwaWNldGlmeVxyXG5cclxuZXhwb3J0IHR5cGUgU3RhclN0b3BzID0gW1NWR1N0b3BFbGVtZW50LCBTVkdTdG9wRWxlbWVudF1cclxuXHJcbmNvbnN0IGNyZWF0ZVN0YXIgPSAoc3RhcnNJZDogc3RyaW5nLCBudGg6IG51bWJlciwgc2l6ZTogbnVtYmVyKSA9PiB7XHJcbiAgICBjb25zdCB4bWxucyA9IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxyXG4gICAgY29uc3Qgc3RhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyh4bWxucywgXCJzdmdcIilcclxuICAgIGNvbnN0IGlkID0gYCR7c3RhcnNJZH0tJHtudGh9YFxyXG4gICAgc3Rhci5pZCA9IGlkXHJcbiAgICBzdGFyLnN0eWxlLm1pbkhlaWdodCA9IGAke3NpemV9cHhgXHJcbiAgICBzdGFyLnN0eWxlLm1pbldpZHRoID0gYCR7c2l6ZX1weGBcclxuICAgIHN0YXIuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ3aWR0aFwiLCBgJHtzaXplfXB4YClcclxuICAgIHN0YXIuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJoZWlnaHRcIiwgYCR7c2l6ZX1weGApXHJcbiAgICBzdGFyLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwidmlld0JveFwiLCBgMCAwIDMyIDMyYClcclxuXHJcbiAgICBjb25zdCBkZWZzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHhtbG5zLCBcImRlZnNcIilcclxuICAgIHN0YXIuYXBwZW5kKGRlZnMpXHJcblxyXG4gICAgY29uc3QgZ3JhZGllbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoeG1sbnMsIFwibGluZWFyR3JhZGllbnRcIilcclxuICAgIGRlZnMuYXBwZW5kKGdyYWRpZW50KVxyXG4gICAgZ3JhZGllbnQuaWQgPSBgJHtpZH0tZ3JhZGllbnRgXHJcblxyXG4gICAgY29uc3Qgc3RvcDEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoeG1sbnMsIFwic3RvcFwiKVxyXG4gICAgZ3JhZGllbnQuYXBwZW5kKHN0b3AxKVxyXG4gICAgc3RvcDEuaWQgPSBgJHtpZH0tZ3JhZGllbnQtbGVmdGBcclxuICAgIHN0b3AxLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwib2Zmc2V0XCIsIFwiNTAlXCIpXHJcbiAgICBzdG9wMS5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcInN0b3AtY29sb3JcIiwgXCJ2YXIoLS1zcGljZS1idXR0b24tZGlzYWJsZWQpXCIpXHJcblxyXG4gICAgY29uc3Qgc3RvcDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoeG1sbnMsIFwic3RvcFwiKVxyXG4gICAgZ3JhZGllbnQuYXBwZW5kKHN0b3AyKVxyXG4gICAgc3RvcDIuaWQgPSBgJHtpZH0tZ3JhZGllbnQtcmlnaHRgXHJcbiAgICBzdG9wMi5zZXRBdHRyaWJ1dGVOUyhudWxsLCBcIm9mZnNldFwiLCBcIjUwJVwiKVxyXG4gICAgc3RvcDIuc2V0QXR0cmlidXRlTlMobnVsbCwgXCJzdG9wLWNvbG9yXCIsIFwidmFyKC0tc3BpY2UtYnV0dG9uLWRpc2FibGVkKVwiKVxyXG5cclxuICAgIGNvbnN0IHBhdGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoeG1sbnMsIFwicGF0aFwiKVxyXG4gICAgc3Rhci5hcHBlbmQocGF0aClcclxuICAgIHBhdGguc2V0QXR0cmlidXRlTlMobnVsbCwgXCJmaWxsXCIsIGB1cmwoIyR7Z3JhZGllbnQuaWR9KWApXHJcbiAgICBwYXRoLnNldEF0dHJpYnV0ZU5TKFxyXG4gICAgICAgIG51bGwsXHJcbiAgICAgICAgXCJkXCIsXHJcbiAgICAgICAgXCJNMjAuMzg4LDEwLjkxOEwzMiwxMi4xMThsLTguNzM1LDcuNzQ5TDI1LjkxNCwzMS40bC05Ljg5My02LjA4OEw2LjEyNywzMS40bDIuNjk1LTExLjUzM0wwLDEyLjExOGwxMS41NDctMS4yTDE2LjAyNiwwLjZMMjAuMzg4LDEwLjkxOHpcIixcclxuICAgIClcclxuXHJcbiAgICByZXR1cm4gW3N0YXIsIFtzdG9wMSwgc3RvcDJdXSBhcyBbU1ZHRWxlbWVudCwgU3RhclN0b3BzXVxyXG59XHJcbmV4cG9ydCBjb25zdCBjcmVhdGVTdGFycyA9IChpZFN1ZmZpeDogc3RyaW5nLCBzaXplOiBudW1iZXIpID0+IHtcclxuICAgIGNvbnN0IGlkID0gYHN0YXJzLSR7aWRTdWZmaXh9YFxyXG4gICAgY29uc3Qgc3RhcnNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKVxyXG4gICAge1xyXG4gICAgICAgIHN0YXJzQ29udGFpbmVyLmNsYXNzTmFtZSA9IFwic3RhcnNcIlxyXG4gICAgICAgIHN0YXJzQ29udGFpbmVyLmlkID0gaWRcclxuICAgICAgICBzdGFyc0NvbnRhaW5lci5zdHlsZS53aGl0ZVNwYWNlID0gXCJub3dyYXBcIlxyXG4gICAgICAgIHN0YXJzQ29udGFpbmVyLnN0eWxlLmFsaWduSXRlbXMgPSBcImNlbnRlclwiXHJcbiAgICAgICAgc3RhcnNDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgc3RhcnNDb25zdHJ1Y3RzID0gbm9uRW1wdHlBcnJheS5yYW5nZSgxLCA1KS5tYXAoaSA9PiBjcmVhdGVTdGFyKGlkLCBpLCBzaXplKSlcclxuICAgIGYucGlwZShcclxuICAgICAgICBzdGFyc0NvbnN0cnVjdHMsXHJcbiAgICAgICAgYXIudW56aXAsXHJcbiAgICAgICAgKFtzdGFyRWxlbWVudHNdKSA9PiBzdGFyRWxlbWVudHMsXHJcbiAgICAgICAgYXIubWFwKHN0YXJFbGVtZW50ID0+IHN0YXJzQ29udGFpbmVyLmFwcGVuZChzdGFyRWxlbWVudCkpLFxyXG4gICAgKVxyXG4gICAgcmV0dXJuIFtzdGFyc0NvbnRhaW5lciwgc3RhcnNDb25zdHJ1Y3RzXSBhcyBbSFRNTFNwYW5FbGVtZW50LCBSZXR1cm5UeXBlPHR5cGVvZiBjcmVhdGVTdGFyPltdXVxyXG59XHJcblxyXG5leHBvcnQgY29uc3Qgc2V0U3RhcnNHcmFkaWVudEJ5UmF0aW5nID0gKHJhdGluZzogbnVtYmVyKSA9PiAoc3RhcnNTVkdTdG9wczogU3RhclN0b3BzW10pID0+IHtcclxuICAgIGNvbnN0IHNldEhhbGZTdGFyTGl0ID0gKGxpdDogYm9vbGVhbikgPT4gKG50aDogbnVtYmVyKSA9PlxyXG4gICAgICAgIHN0YXJzU1ZHU3RvcHNbTWF0aC5mbG9vcihudGggLyAyKV1bbnRoICUgMl0uc2V0QXR0cmlidXRlTlMoXHJcbiAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgICAgIFwic3RvcC1jb2xvclwiLFxyXG4gICAgICAgICAgICBgdmFyKC0tc3BpY2UtYnV0dG9uJHtsaXQgPyBcIlwiIDogXCItZGlzYWJsZWRcIn0pYCxcclxuICAgICAgICApXHJcblxyXG4gICAgZi5waXBlKFxyXG4gICAgICAgIG5vbkVtcHR5QXJyYXkucmFuZ2UoMCwgOSksXHJcbiAgICAgICAgYXIuc3BhbkxlZnQoaGkgPT4gaGkgPCByYXRpbmcpLFxyXG4gICAgICAgICh7IGluaXQsIHJlc3QgfSkgPT4ge1xyXG4gICAgICAgICAgICBpbml0Lm1hcChzZXRIYWxmU3RhckxpdCh0cnVlKSlcclxuICAgICAgICAgICAgcmVzdC5tYXAoc2V0SGFsZlN0YXJMaXQoZmFsc2UpKVxyXG4gICAgICAgIH0sXHJcbiAgICApXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBjYWxjdWxhdGVSYXRpbmdGcm9tTW91c2VFdmVudCA9IChzdGFyRWxlbWVudDogU1ZHU1ZHRWxlbWVudCwgbnRoOiBudW1iZXIpID0+IChlOiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICBjb25zdCByZWN0ID0gc3RhckVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcclxuICAgIGNvbnN0IGxlZnRPZmZzZXRGcm9tSGVhcnQgPSBlLmNsaWVudFggLSByZWN0LmxlZnRcclxuICAgIGNvbnN0IGlzSGFsZiA9IENPTkZJRy5oYWxmU3RhclJhdGluZ3MgJiYgbGVmdE9mZnNldEZyb21IZWFydCA8IEhBTEZfU1RBUl9MRU5HVEhcclxuICAgIHJldHVybiAyICogKG50aCArIDEpIC0gTnVtYmVyKGlzSGFsZilcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IG9uU3RhckNsaWNrID1cclxuICAgIChudGg6IG51bWJlciwgc3RhckVsZW1lbnQ6IFNWR1NWR0VsZW1lbnQsIGdldFRyYWNrVXJpOiAoKSA9PiBTcG90aWZ5VVJJKSA9PiBhc3luYyAoZTogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRyYWNrVXJpID0gZ2V0VHJhY2tVcmkoKVxyXG4gICAgICAgIGNvbnN0IG9sZFJhdGluZyA9IHRyYWNrc1JhdGluZ3NbdHJhY2tVcmldXHJcbiAgICAgICAgbGV0IG5ld1JhdGluZyA9IGNhbGN1bGF0ZVJhdGluZ0Zyb21Nb3VzZUV2ZW50KHN0YXJFbGVtZW50LCBudGgpKGUpXHJcblxyXG4gICAgICAgIGNvbnN0IGhlYXJ0VGhyZXNob2xkID0gc3RhcnNTMk4oQ09ORklHLmhlYXJ0VGhyZXNob2xkKVxyXG4gICAgICAgIGlmIChoZWFydFRocmVzaG9sZCkge1xyXG4gICAgICAgICAgICBjb25zdCBzaG91bGRCZUhlYXJ0ZWQgPSBuZXdSYXRpbmcgPj0gaGVhcnRUaHJlc2hvbGRcclxuICAgICAgICAgICAgY29uc3QgW2lzSGVhcnRlZF0gPSBhd2FpdCBpc0xpa2VkKFt0cmFja1VyaV0pXHJcblxyXG4gICAgICAgICAgICBpZiAoaXNIZWFydGVkICE9PSBzaG91bGRCZUhlYXJ0ZWQpIHRvZ2dsZUxpa2VkKFt0cmFja1VyaV0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAob2xkUmF0aW5nID09PSBuZXdSYXRpbmcpIG5ld1JhdGluZyA9IDBcclxuXHJcbiAgICAgICAgaWYgKG9sZFJhdGluZylcclxuICAgICAgICAgICAgZi5waXBlKFxyXG4gICAgICAgICAgICAgICAgcGxheWxpc3RVcmlzLnNsaWNlKDAsIG9sZFJhdGluZyArIDEpLFxyXG4gICAgICAgICAgICAgICAgYXIuZmlsdGVyKEJvb2xlYW4pLFxyXG4gICAgICAgICAgICAgICAgYXIubWFwKHBsYXlsaXN0VXJpID0+IFVSSS5mcm9tKHBsYXlsaXN0VXJpKSEuaWQhKSxcclxuICAgICAgICAgICAgICAgIGFyLm1hcChwbGF5bGlzdElkID0+IHJlbW92ZVdlYlBsYXlsaXN0VHJhY2tzKHBsYXlsaXN0SWQsIFt0cmFja1VyaV0pKSxcclxuICAgICAgICAgICAgKVxyXG5cclxuICAgICAgICB0cmFja3NSYXRpbmdzW3RyYWNrVXJpXSA9IG5ld1JhdGluZ1xyXG5cclxuICAgICAgICBpZiAobmV3UmF0aW5nKSB7XHJcbiAgICAgICAgICAgIGxldCBwbGF5bGlzdFVyaSA9IHBsYXlsaXN0VXJpc1tuZXdSYXRpbmddXHJcbiAgICAgICAgICAgIGlmICghcGxheWxpc3RVcmkpIHtcclxuICAgICAgICAgICAgICAgIHBsYXlsaXN0VXJpID0gYXdhaXQgY3JlYXRlUGxhdFBsYXlsaXN0KFxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJzTjJTKG5ld1JhdGluZyksXHJcbiAgICAgICAgICAgICAgICAgICAgU3BvdGlmeUxvYy5hZnRlci5mcm9tVXJpKENPTkZJRy5yYXRpbmdzRm9sZGVyVXJpKSxcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIHNldFBsYXRQbGF5bGlzdFZpc2liaWxpdHkocGxheWxpc3RVcmksIGZhbHNlKVxyXG4gICAgICAgICAgICAgICAgcGxheWxpc3RVcmlzW25ld1JhdGluZ10gPSBwbGF5bGlzdFVyaVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBhZGRQbGF0UGxheWxpc3RUcmFja3MocGxheWxpc3RVcmksIFt0cmFja1VyaV0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB1cGRhdGVOb3dQbGF5aW5nU3RhcnMoKVxyXG4gICAgICAgIGNvbnN0IHRyYWNrU3RhcnNDb250YWluZXIgPSBnZXRTdGFyc0NvbnRhaW5lcihgJHtVUkkuZnJvbVN0cmluZyh0cmFja1VyaSkhLmlkfWApXHJcbiAgICAgICAgaWYgKHRyYWNrU3RhcnNDb250YWluZXIpIHtcclxuICAgICAgICAgICAgZi5waXBlKHRyYWNrU3RhcnNDb250YWluZXIsIHNldFN0YXJzR3JhZGllbnRGcm9tQ29udGFpbmVyQnlSYXRpbmcobmV3UmF0aW5nKSlcclxuICAgICAgICAgICAgdHJhY2tTdGFyc0NvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gbmV3UmF0aW5nID8gXCJ2aXNpYmxlXCIgOiBcImhpZGRlblwiXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4iXSwKICAibWFwcGluZ3MiOiAiQUFBQSxPQUFTLFNBQVNBLEVBQUksWUFBWSxNQUFTLHVCQUMzQyxPQUFTLFdBQUFDLE9BQWUscUNDRHhCLE9BQ0ksU0FBU0MsRUFDVCxNQUFBQyxHQUNBLFVBQVVDLEdBQ1YsVUFBVUMsR0FFVixhQUFhQyxHQUNiLFlBQVlDLE1BQ1QsdUJBQ1AsT0FBUyxTQUFBQyxHQUFPLFdBQUFDLE9BQWUsb0NBUXhCLElBQU1DLEVBQ1RDLEdBRUFDLEdBQ0lELENBTUosRUEyQkcsSUFBTUUsRUFDRkMsR0FDUCxNQUFPQyxHQUNIRCxFQUFFLE1BQU1DLENBQUUsRUFFTEMsR0FDTEMsR0FDVUMsR0FDYkMsR0FDR0EsRUFBTUYsQ0FBQyxJQUFNQyxFQVNkLElBQU1FLEVBQ1JDLEdBQ01DLEdBQ0hDLEVBQUUsS0FBS0MsRUFBRyxTQUFTSCxDQUFDLEVBQU1HLEVBQUcsSUFBSUYsQ0FBQyxFQUFHRyxHQUFNLFFBQVEsSUFBSUEsQ0FBRSxFQUFHQyxFQUFRRixFQUFHLE9BQU8sQ0FBQyxFQWdCaEYsSUFBTUcsR0FBZ0NDLEdBQ3pDQyxFQUFFLEtBQUtELEVBQUlDLEVBQUUsT0FBUUMsR0FBV0MsR0FBRyxVQUFVLEtBQUssU0FBUyxFQUFFQyxHQUFJLEVBQUUsQ0FBQyxFQUFHSCxFQUFFLFFBQVEsRUN2RnJGLE9BQVMsU0FBU0ksR0FBRyxZQUFZQyxNQUFTLHVCQVVuQyxJQUFNQyxHQUFhLENBQ3RCLE9BQVEsQ0FDSixNQUFPRCxFQUFFLFNBQVMsQ0FBRSxPQUFRLE9BQVEsQ0FBa0IsRUFDdEQsUUFBVUUsSUFBcUIsQ0FBRSxPQUFRLENBQUUsSUFBQUEsQ0FBSSxDQUFFLEdBQ2pELFFBQVVDLElBQWlCLENBQUUsT0FBUSxDQUFFLElBQUFBLENBQUksQ0FBRSxFQUNqRCxFQUNBLE1BQU8sQ0FDSCxJQUFLSCxFQUFFLFNBQVMsQ0FBRSxNQUFPLEtBQU0sQ0FBa0IsRUFDakQsUUFBVUUsSUFBcUIsQ0FBRSxNQUFPLENBQUUsSUFBQUEsQ0FBSSxDQUFFLEdBQ2hELFFBQVVDLElBQWlCLENBQUUsTUFBTyxDQUFFLElBQUFBLENBQUksQ0FBRSxFQUNoRCxDQUNKLEVBa0JPLElBQU1DLEdBQWlCLENBQzFCQyxFQUNBQyxFQUFVLElBQ1ZDLEVBQVcsU0FBUyxLQUNwQkMsSUFFQSxJQUFJLFFBQVNDLEdBQTZDLENBQ3RELElBQU1DLEVBQU9DLEdBQVcsQ0FDcEJDLEVBQVMsV0FBVyxFQUNwQkgsRUFBUUUsQ0FBQyxDQUNiLEVBRU1DLEVBQVcsSUFBSSxpQkFBaUIsSUFBTSxDQUN4QyxJQUFNQyxFQUFLLFNBQVMsY0FBaUJSLENBQVEsRUFDN0MsR0FBSVEsSUFBTyxDQUFDTCxHQUFTSyxJQUFPTCxHQUFRLE9BQU9FLEVBQUlHLENBQUUsQ0FDckQsQ0FBQyxFQUVERCxFQUFTLFFBQVFMLEVBQVUsQ0FDdkIsVUFBVyxHQUNYLFFBQVMsRUFDYixDQUFDLEVBRUdELEdBQVMsV0FBVyxJQUFNSSxFQUFJLElBQUksRUFBR0osQ0FBTyxDQUNwRCxDQUFDLEVBcUJFLElBQU1RLEVBQVNDLEdBQWUsSUFBSSxRQUFRQyxHQUFXLFdBQVdBLEVBQVNELENBQUUsQ0FBQyxFQUs1RSxJQUFNRSxFQUFXQyxHQUF1QixVQUFVLFNBQVMsV0FBVyxTQUFTLEdBQUdBLENBQUksRUFFaEZDLEdBQVcsQ0FBQ0QsRUFBb0JFLElBQ3pDLFVBQVUsU0FBUyxXQUFXQSxFQUFRLE1BQVEsUUFBUSxFQUFFLEdBQUdGLENBQUksRUFFdERHLEdBQWMsTUFBT0gsR0FBdUIsQ0FDckQsSUFBTUUsRUFBUSxNQUFNSCxFQUFRQyxDQUFJLEVBRWhDLE9BQU8sTUFBTUksRUFBRSxLQUNYSixFQUNBSyxHQUFFLGdCQUNFLENBQUMsQ0FBQyxFQUFtQixDQUFDLENBQWlCLEVBQ3ZDLENBQUNDLEVBQUdDLEVBQUtDLEtBQVNELEVBQUksT0FBT0wsRUFBTUksQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLRSxDQUFHLEVBQUdELEVBQ3ZELEVBQ0EsQ0FBQyxDQUFDRSxFQUFPQyxDQUFLLElBQU0sQ0FDaEIsSUFBTUMsRUFBSyxDQUFDLEVBQ1osT0FBSUYsRUFBTSxRQUFRRSxFQUFHLEtBQUtWLEdBQVNRLEVBQU8sRUFBSSxDQUFDLEVBQzNDQyxFQUFNLFFBQVFDLEVBQUcsS0FBS1YsR0FBU1MsRUFBTyxFQUFLLENBQUMsRUFDekMsUUFBUSxJQUFJQyxDQUFFLENBQ3pCLENBQ0osQ0FDSixFQzdHTyxJQUFNQyxHQUFnQixNQUFPQyxFQUFpQkMsRUFBUyxFQUFHQyxFQUFRLE9BRWpFLE1BQU0sVUFBVSxRQUFRLFFBQVEsVUFBVSxRQUFRLFlBQVksU0FBVSxDQUNwRSxJQUFBRixFQUNBLE9BQVEsVUFBVSxPQUFPLFVBQVUsRUFDbkMsT0FBQUMsRUFDQSxNQUFBQyxDQUNKLENBQUMsR0FDSCxLQUFLLFdBZ0NKLElBQU1DLEdBQTBCLE1BQU9DLEVBQXFCQyxJQUMvRCxVQUFVLFlBQVksSUFBSSx3Q0FBd0NELENBQVEsVUFBVyxDQUNqRixPQUFRQyxFQUFPLElBQUlDLElBQVEsQ0FBRSxJQUFBQSxDQUFJLEVBQUUsQ0FDdkMsQ0FBQyxFQUVRQyxHQUFzQkMsRUFBVSxFQUFFLEVBQzNDLE1BQU9DLElBQ0YsTUFBTSxVQUFVLFlBQVksSUFBSSwwQ0FBMENBLEVBQUksS0FBSyxHQUFHLENBQUMsRUFBRSxHQUNyRixPQUNiLEVBRWFDLEdBQXdCRixFQUFVLENBQUMsRUFFNUMsTUFBTyxDQUFDRyxDQUFFLElBQW1CLENBQ3hCLE1BQU0sVUFBVSxZQUFZLElBQUksd0NBQXdDQSxDQUFFLEVBQUUsQ0FDakYsQ0FDSixFQUNhQyxHQUFxQkosRUFBVSxFQUFFLEVBQzFDLE1BQU9DLElBQ0YsTUFBTSxVQUFVLFlBQVksSUFBSSx5Q0FBeUNBLEVBQUksS0FBSyxHQUFHLENBQUMsRUFBRSxHQUNwRixNQUNiLEVBRWFJLEdBQXFCTCxFQUFVLEVBQUUsRUFDMUMsTUFBT0MsSUFDRixNQUFNLFVBQVUsWUFBWSxJQUFJLHlDQUF5Q0EsRUFBSSxLQUFLLEdBQUcsQ0FBQyxFQUFFLEdBQ3BGLE1BQ2IsRUFxQk8sSUFBTUssR0FBNkIsTUFBT0MsRUFBaUJDLEVBQVMsRUFBR0MsRUFBUSxPQUNqRixNQUFNLFVBQVUsU0FBUyxXQUFXLFVBQVUsQ0FBRSxJQUFBRixFQUFLLE9BQUFDLEVBQVEsTUFBQUMsQ0FBTSxDQUFDLEdBQUcsTUFFL0RDLEVBQTRCLE1BQU9ILElBQzNDLE1BQU0sVUFBVSxTQUFTLFlBQVksWUFBWUEsQ0FBRyxHQUFHLE1BRS9DSSxHQUFtQixNQUFPQyxFQUFjQyxFQUEwQixDQUFDLElBQzVFLE1BQU0sVUFBVSxTQUFTLFlBQVksYUFBYUQsRUFBTUMsQ0FBUSxFQUs3RCxJQUFNQyxHQUFxQixNQUFPQyxFQUFjQyxFQUEwQixDQUFDLElBQzlFLE1BQU0sVUFBVSxTQUFTLFlBQVksZUFBZUQsRUFBTUMsQ0FBUSxFQVcvRCxJQUFNQyxHQUE0QixNQUFPQyxFQUFzQkMsSUFDbEUsTUFBTSxVQUFVLFNBQVMsdUJBQXVCLGtCQUFrQkQsRUFBVUMsRUFBZ0IsU0FBVyxTQUFTLEVBSTdHLElBQU1DLEdBQWtCLE1BQU9DLEdBQ2pDLE1BQU0sVUFBVSxTQUFTLFlBQVksWUFBWSxDQUFFLFVBQVdBLENBQU8sQ0FBQyxFQUdwRSxJQUFNQyxHQUF3QixNQUFPQyxFQUFzQkMsRUFBc0JDLEVBQTBCLENBQUMsSUFDL0csTUFBTSxVQUFVLFNBQVMsWUFBWSxJQUFJRixFQUFVQyxFQUFRQyxDQUFRLEVBcUJoRSxJQUFNQyxHQUFtQixNQUFPQyxFQUFtQkMsRUFBZ0JDLEVBQW1CQyxFQUFpQixLQUFPLENBQ2pILElBQU1DLEVBQU0sSUFBSSxJQUFJLG9DQUFvQyxFQUN4RCxPQUFBQSxFQUFJLGFBQWEsT0FBTyxTQUFVLGVBQWUsRUFDakRBLEVBQUksYUFBYSxPQUFPLFVBQVdKLENBQVMsRUFDNUNJLEVBQUksYUFBYSxPQUFPLFNBQVVILENBQU0sRUFDeENHLEVBQUksYUFBYSxPQUFPLFFBQVNGLENBQVMsRUFDMUNFLEVBQUksYUFBYSxPQUFPLFNBQVUsTUFBTSxFQUN4Q0EsRUFBSSxhQUFhLE9BQU8sV0FBWUQsQ0FBYyxFQUUxQyxNQUFNLE1BQU1DLENBQUcsRUFBRSxLQUFLQyxHQUFPQSxFQUFJLEtBQUssQ0FBQyxDQUNuRCxFQUVhQyxHQUEyQkMsR0FBU1IsRUFBZ0IsRUNoS2pFLE9BQVMsU0FBU1MsRUFBSSxpQkFBQUMsRUFBZSxVQUFBQyxHQUFRLFlBQVlDLEVBQUcsaUJBQWlCQyxPQUFXLHVCQ0F4RixPQUFTLFFBQUFDLE9BQVksdUJDQXJCLE9BQVMsUUFBQUMsT0FBWSx1QkFDckIsT0FBUyxhQUFBQyxNQUFpQixnQ0FJMUIsR0FBTSxDQUFFLE1BQUFDLEVBQU8sU0FBQUMsRUFBUyxFQUFJLFVBRWZDLEVBQU4sTUFBTUMsQ0FBZ0IsQ0FJekIsWUFDV0MsRUFDQUMsRUFDQUMsRUFBa0QsQ0FBQyxFQUM1RCxDQUhTLFVBQUFGLEVBQ0EsZUFBQUMsRUFDQSxtQkFBQUMsRUFMWCxLQUFRLFlBQStCLEtBYXZDLGtCQUFlLFNBQVksQ0FDdkIsS0FBTyxDQUFDLFdBQVcsVUFBVSxTQUFTLFFBQVEsTUFBTUMsRUFBTSxHQUFHLEVBRXpELEtBQUsscUJBQXFCLEtBQUssb0JBQW9CLEVBRXZELEtBQUssb0JBQXNCLFVBQVUsU0FBUyxRQUFRLE9BQU8sQ0FBQyxDQUFFLFNBQUFDLEVBQVcsRUFBRyxJQUFNLENBQzVFQSxJQUFhLGdCQUFnQixLQUFLLE9BQU8sQ0FDakQsQ0FBQyxFQUVHLFVBQVUsU0FBUyxRQUFRLFNBQVMsV0FBYSxnQkFBZ0IsTUFBTSxLQUFLLE9BQU8sQ0FDM0YsRUFFQSxjQUFXLElBQ1AsSUFBSSxNQUNBLENBQUMsRUFDRCxDQUNJLElBQUssQ0FBQ0MsRUFBUUMsSUFBU1AsRUFBZ0IsY0FBYyxLQUFLLE1BQU1PLEVBQUssU0FBUyxDQUFDLENBQUMsQ0FDcEYsQ0FDSixFQUVKLGNBQVcsSUFBTSxDQUNULEtBQUssYUFBYSxLQUFLLFlBQVksS0FBSyxPQUFPLENBQUMsQ0FDeEQsRUFFQSxLQUFRLE9BQVMsU0FBWSxDQUN6QixLQUFPLENBQUMsU0FBUyxlQUFlLGlDQUFpQyxHQUFHLENBQ2hFLEdBQUksVUFBVSxTQUFTLFFBQVEsU0FBUyxXQUFhLGVBQWdCLE9BQ3JFLE1BQU1ILEVBQU0sR0FBRyxDQUNuQixDQUVBLElBQU1JLEVBQXVCLFNBQVMsY0FBYyx1QkFBdUIsRUFFdkVDLEVBQTBCLE1BQU0sS0FBS0QsRUFBcUIsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFFLEdBQUFFLENBQUcsSUFBTUEsSUFBTyxLQUFLLFNBQVMsRUFFekdELElBQ0RBLEVBQTBCLFNBQVMsY0FBYyxLQUFLLEVBQ3REQSxFQUF3QixHQUFLLEtBQUssVUFDbENBLEVBQXdCLFVBQVksb0JBQ3BDRCxFQUFxQixZQUFZQyxDQUF1QixHQUc1RFgsR0FBUyxPQUFPRCxFQUFBLGNBQUMsS0FBSyxnQkFBTCxJQUFxQixFQUFJWSxDQUF1QixDQUNyRSxFQUVBLGVBQVksQ0FDUkUsRUFDQUMsRUFDQUMsRUFDQUMsRUFBd0VDLEVBQ3hFQyxFQUFnQyxDQUFDLElBQ2hDLENBQ0QsSUFBTU4sRUFBSyxLQUFLLE1BQU1DLENBQU0sRUFFNUIsT0FBQUssRUFBTyxRQUFVRixFQUVqQixLQUFLLGNBQWNILENBQU0sRUFBSSxDQUN6QixHQUFBRCxFQUNBLEtBQU0sU0FDTixZQUFBRSxFQUNBLEtBQUFDLEVBQ0EsT0FBQUcsQ0FDSixFQUNPLElBQ1gsRUFFQSxlQUFZLENBQ1JMLEVBQ0FDLEVBQ0FLLEVBQWVDLEdBQUssR0FBRyxFQUFJLEVBQzNCQyxFQUE2REosRUFDN0RDLEVBQWdDLENBQUMsSUFDaEMsQ0FDRCxJQUFNTixFQUFLLEtBQUssTUFBTUMsQ0FBTSxFQUU1QixPQUFBWCxFQUFnQixxQkFBcUJVLEVBQUlPLENBQVksRUFFckRELEVBQU8sU0FBV0csRUFDbEIsS0FBSyxjQUFjUixDQUFNLEVBQUksQ0FDekIsR0FBQUQsRUFDQSxLQUFNLFNBQ04sWUFBQUUsRUFDQSxPQUFBSSxDQUNKLEVBQ08sSUFDWCxFQUVBLGNBQVcsQ0FDUEwsRUFDQUMsRUFDQUssRUFDQUUsRUFBNkRKLEVBQzdESyxFQUFZLE9BQ1pKLEVBQStCLENBQUMsSUFDL0IsQ0FDRCxJQUFNTixFQUFLLEtBQUssTUFBTUMsQ0FBTSxFQUU1QixPQUFBWCxFQUFnQixxQkFBcUJVLEVBQUlPLENBQVksRUFFckRELEVBQU8sU0FBV0csRUFDbEIsS0FBSyxjQUFjUixDQUFNLEVBQUksQ0FDekIsR0FBQUQsRUFDQSxLQUFNLFFBQ04sWUFBQUUsRUFDQSxVQUFBUSxFQUNBLE9BQUFKLENBQ0osRUFFTyxJQUNYLEVBRUEsaUJBQWMsQ0FDVkwsRUFDQUMsRUFDQVMsRUFDQUosRUFBZUMsR0FBSyxHQUFHLENBQUMsRUFDeEJDLEVBQThESixFQUM5REMsRUFBa0MsQ0FBQyxJQUNsQyxDQUNELElBQU1OLEVBQUssS0FBSyxNQUFNQyxDQUFNLEVBRTVCLE9BQUFYLEVBQWdCLHFCQUFxQlUsRUFBSU8sQ0FBWSxFQUVyREQsRUFBTyxTQUFXRyxFQUNsQixLQUFLLGNBQWNSLENBQU0sRUFBSSxDQUN6QixHQUFBRCxFQUNBLEtBQU0sV0FDTixZQUFBRSxFQUNBLFFBQUFTLEVBQ0EsT0FBQUwsQ0FDSixFQUNPLElBQ1gsRUFFQSxlQUFZLENBQUNMLEVBQWdCTSxJQUFzQixDQUMvQyxJQUFNUCxFQUFLLEtBQUssTUFBTUMsQ0FBTSxFQUU1QixPQUFBWCxFQUFnQixxQkFBcUJVLEVBQUlPLENBQVksRUFFckQsS0FBSyxjQUFjTixDQUFNLEVBQUksQ0FDekIsR0FBQUQsRUFDQSxLQUFNLFNBQ04sWUFBYSxFQUNqQixFQUNPLElBQ1gsRUFFQSxXQUFTQyxHQUFtQixjQUFjLEtBQUssU0FBUyxJQUFJQSxDQUFNLEdBRWxFLEtBQVEsWUFBbUJELEdBQWUsQ0FDdEMsR0FBTSxDQUFDWSxFQUFPQyxDQUFhLEVBQUkxQixFQUFNLFNBQVNHLEVBQWdCLGNBQWlCVSxDQUFFLENBQUMsRUFFbEYsTUFBTyxDQUNIWSxFQUNDRSxHQUFnQixDQUNUQSxJQUFhLFNBQ2JELEVBQWNDLENBQVEsRUFDdEJ4QixFQUFnQixjQUFjVSxFQUFLYyxDQUFRLEVBRW5ELENBQ0osQ0FDSixFQWNBLEtBQVEsZ0JBQWtCLElBQU0sQ0FDNUIsR0FBTSxDQUFDQyxFQUFVQyxDQUFXLEVBQUk3QixFQUFNLFNBQWlCLENBQUMsRUFDeEQsWUFBSyxZQUFjNkIsRUFHZjdCLEVBQUEsY0FBQyxPQUFJLFVBQVUscUJBQXFCLElBQUs0QixHQUNyQzVCLEVBQUEsY0FBQyxNQUFHLFVBQVUsaUVBQWlFLEtBQUssSUFBSyxFQUN4RixPQUFPLFFBQVEsS0FBSyxhQUFhLEVBQUUsSUFBSSxDQUFDLENBQUNjLEVBQVFnQixDQUFLLElBQzVDOUIsRUFBQSxjQUFDLEtBQUssTUFBTCxDQUFXLE1BQU84QixFQUFPLENBQ3BDLENBQ0wsQ0FFUixFQUVBLEtBQVEsTUFBUSxDQUFDLENBQUUsTUFBQUEsQ0FBTSxJQUFnQyxDQUNyRCxJQUFNQyxFQUFTQyxHQUFrQixNQUFNLEVBRXZDLE9BQ0loQyxFQUFBLGNBQUMsT0FBSSxVQUFVLGtCQUNYQSxFQUFBLGNBQUMsS0FBSyxtQkFBTCxDQUF3QixHQUFJOEIsRUFBTSxHQUFJLFlBQWFBLEVBQU0sWUFBYSxFQUN2RTlCLEVBQUEsY0FBQyxPQUFJLFVBQVUsMkJBQ1ZpQyxFQUFPLENBQ0osQ0FBQ0YsRUFBbUIsT0FBZSxFQUFHLEtBQUssaUJBQWlCLEVBQzVELENBQUNBLEVBQU8sUUFBZ0IsRUFBRyxLQUFLLGtCQUFrQixFQUNsRCxDQUFDQSxFQUFPLFFBQWdCLEVBQUcsS0FBSyxrQkFBa0IsRUFDbEQsQ0FBQ0EsRUFBTyxVQUFrQixFQUFHLEtBQUssb0JBQW9CLENBQzFELENBQUMsRUFBRSxLQUFLLGFBQWEsRUFBRUQsQ0FBSyxDQUNoQyxDQUNKLENBRVIsRUFFQSxLQUFRLG1CQUFxQixDQUFDLENBQUUsR0FBQWpCLEVBQUksWUFBQUUsQ0FBWSxJQUM1Q2YsRUFBQSxjQUFDLE9BQUksVUFBVSwwQkFDWEEsRUFBQSxjQUFDLFNBQU0sVUFBVSxtRUFBbUUsUUFBU2EsR0FDeEZFLENBQ0wsQ0FDSixFQUdKLEtBQVEsbUJBQXNCZSxHQUMxQjlCLEVBQUEsY0FBQyxRQUFLLFVBQVUsSUFDWkEsRUFBQSxjQUFDLFVBQ0csR0FBSThCLEVBQU0sR0FDVixVQUFVLDZGQUNULEdBQUdBLEVBQU0sT0FDVixLQUFNQSxFQUFNLE1BRVhBLEVBQU0sSUFDWCxDQUNKLEVBR0osS0FBUSxtQkFBc0JBLEdBQXVCLENBQ2pELEdBQU0sQ0FBQ0wsRUFBT1MsQ0FBUSxFQUFJLEtBQUssWUFBcUJKLEVBQU0sRUFBRSxFQUU1RCxPQUNJOUIsRUFBQSxjQUFDLFNBQU0sVUFBVSw0Q0FDYkEsRUFBQSxjQUFDLFNBQ0csR0FBSThCLEVBQU0sR0FDVixVQUFVLGlCQUNWLEtBQUssV0FDTCxRQUFTM0IsRUFBZ0IsY0FBYzJCLEVBQU0sRUFBRSxFQUM5QyxHQUFHQSxFQUFNLE9BQ1YsU0FBVUssR0FBSyxDQUNYRCxFQUFTQyxFQUFFLGNBQWMsT0FBTyxFQUNoQ0wsRUFBTSxPQUFPLFdBQVdLLENBQUMsQ0FDN0IsRUFDSixFQUNBbkMsRUFBQSxjQUFDLFFBQUssVUFBVSw2QkFDWkEsRUFBQSxjQUFDLFFBQUssVUFBVSxxQkFBcUIsQ0FDekMsQ0FDSixDQUVSLEVBRUEsS0FBUSxrQkFBcUI4QixHQUFzQixDQUMvQyxHQUFNLENBQUNMLEVBQU9TLENBQVEsRUFBSSxLQUFLLFlBQW9CSixFQUFNLEVBQUUsRUFFM0QsT0FDSTlCLEVBQUEsY0FBQyxTQUNHLFVBQVUsbUJBQ1YsR0FBSThCLEVBQU0sR0FDVixJQUFJLE1BQ0osTUFBTzNCLEVBQWdCLGNBQWMyQixFQUFNLEVBQUUsRUFDN0MsS0FBTUEsRUFBTSxVQUNYLEdBQUdBLEVBQU0sT0FDVixTQUFVSyxHQUFLLENBQ1hELEVBQVNDLEVBQUUsY0FBYyxLQUFLLEVBQzlCTCxFQUFNLE9BQU8sV0FBV0ssQ0FBQyxDQUM3QixFQUNKLENBRVIsRUFDQSxLQUFRLHFCQUF3QkwsR0FBeUIsQ0FDckQsR0FBTSxDQUFDTCxFQUFPUyxDQUFRLEVBQUksS0FBSyxZQUFvQkosRUFBTSxFQUFFLEVBRTNELE9BQ0k5QixFQUFBLGNBQUMsVUFDRyxVQUFVLHlCQUNWLEdBQUk4QixFQUFNLEdBQ1QsR0FBR0EsRUFBTSxPQUNWLFNBQVVLLEdBQUssQ0FDWEQsRUFBU0MsRUFBRSxjQUFjLGFBQWEsRUFDdENMLEVBQU0sT0FBTyxXQUFXSyxDQUFDLENBQzdCLEdBRUNMLEVBQU0sUUFBUSxJQUFJLENBQUNNLEVBQVFDLElBQ3hCckMsRUFBQSxjQUFDLFVBQU8sU0FBVXFDLElBQU1sQyxFQUFnQixjQUFjMkIsRUFBTSxFQUFFLEVBQUcsTUFBT08sRUFBSSxHQUN2RUQsQ0FDTCxDQUNILENBQ0wsQ0FFUixFQUVBLEtBQVEsY0FBZ0IsSUFBTXBDLEVBQUEsY0FBQUEsRUFBQSxhQUFFLENBelM3QixDQUVILFlBQU8sYUFBZSxTQUFZLENBQzlCLEtBQU8sRUFBRSxVQUFVLE9BQVMsVUFBVSxXQUFXTyxFQUFNLEdBQUcsRUFDMUQsT0FBTyxJQUNYLEVBb0tBLFlBQU8sY0FBcUJNLEdBQ2pCLEtBQUssTUFBTSxVQUFVLGFBQWEsSUFBSUEsQ0FBRSxHQUFLLE1BQU0sRUFHOUQsWUFBTyxjQUFnQixDQUFDQSxFQUFZYyxJQUFrQixDQUNsRCxVQUFVLGFBQWEsSUFBSWQsRUFBSSxLQUFLLFVBQVVjLENBQVEsQ0FBQyxDQUMzRCxFQUVBLFlBQWUscUJBQXVCLE1BQU9kLEVBQVlPLElBQWlDLENBQ2xGakIsRUFBZ0IsY0FBY1UsQ0FBRSxJQUFNLE1BQU1WLEVBQWdCLGNBQWNVLEVBQUksTUFBTU8sRUFBYSxDQUFDLENBQzFHLEVBdUhKLEVDelRBLE9BQVMsU0FBU2tCLEdBQUcsWUFBWUMsTUFBUyx1QkNBMUMsT0FBUyxTQUFTQyxFQUFJLGlCQUFBQyxHQUFlLFlBQVlDLE1BQVMsdUJBbUIxRCxHQUFNLENBQUUsSUFBQUMsRUFBSSxFQUFJLFVBSVZDLEdBQWEsQ0FBQ0MsRUFBaUJDLEVBQWFDLElBQWlCLENBQy9ELElBQU1DLEVBQVEsNkJBQ1JDLEVBQU8sU0FBUyxnQkFBZ0JELEVBQU8sS0FBSyxFQUM1Q0UsRUFBSyxHQUFHTCxDQUFPLElBQUlDLENBQUcsR0FDNUJHLEVBQUssR0FBS0MsRUFDVkQsRUFBSyxNQUFNLFVBQVksR0FBR0YsQ0FBSSxLQUM5QkUsRUFBSyxNQUFNLFNBQVcsR0FBR0YsQ0FBSSxLQUM3QkUsRUFBSyxlQUFlLEtBQU0sUUFBUyxHQUFHRixDQUFJLElBQUksRUFDOUNFLEVBQUssZUFBZSxLQUFNLFNBQVUsR0FBR0YsQ0FBSSxJQUFJLEVBQy9DRSxFQUFLLGVBQWUsS0FBTSxVQUFXLFdBQVcsRUFFaEQsSUFBTUUsRUFBTyxTQUFTLGdCQUFnQkgsRUFBTyxNQUFNLEVBQ25EQyxFQUFLLE9BQU9FLENBQUksRUFFaEIsSUFBTUMsRUFBVyxTQUFTLGdCQUFnQkosRUFBTyxnQkFBZ0IsRUFDakVHLEVBQUssT0FBT0MsQ0FBUSxFQUNwQkEsRUFBUyxHQUFLLEdBQUdGLENBQUUsWUFFbkIsSUFBTUcsRUFBUSxTQUFTLGdCQUFnQkwsRUFBTyxNQUFNLEVBQ3BESSxFQUFTLE9BQU9DLENBQUssRUFDckJBLEVBQU0sR0FBSyxHQUFHSCxDQUFFLGlCQUNoQkcsRUFBTSxlQUFlLEtBQU0sU0FBVSxLQUFLLEVBQzFDQSxFQUFNLGVBQWUsS0FBTSxhQUFjLDhCQUE4QixFQUV2RSxJQUFNQyxFQUFRLFNBQVMsZ0JBQWdCTixFQUFPLE1BQU0sRUFDcERJLEVBQVMsT0FBT0UsQ0FBSyxFQUNyQkEsRUFBTSxHQUFLLEdBQUdKLENBQUUsa0JBQ2hCSSxFQUFNLGVBQWUsS0FBTSxTQUFVLEtBQUssRUFDMUNBLEVBQU0sZUFBZSxLQUFNLGFBQWMsOEJBQThCLEVBRXZFLElBQU1DLEVBQU8sU0FBUyxnQkFBZ0JQLEVBQU8sTUFBTSxFQUNuRCxPQUFBQyxFQUFLLE9BQU9NLENBQUksRUFDaEJBLEVBQUssZUFBZSxLQUFNLE9BQVEsUUFBUUgsRUFBUyxFQUFFLEdBQUcsRUFDeERHLEVBQUssZUFDRCxLQUNBLElBQ0Esc0lBQ0osRUFFTyxDQUFDTixFQUFNLENBQUNJLEVBQU9DLENBQUssQ0FBQyxDQUNoQyxFQUNhRSxFQUFjLENBQUNDLEVBQWtCVixJQUFpQixDQUMzRCxJQUFNRyxFQUFLLFNBQVNPLENBQVEsR0FDdEJDLEVBQWlCLFNBQVMsY0FBYyxNQUFNLEVBRWhEQSxFQUFlLFVBQVksUUFDM0JBLEVBQWUsR0FBS1IsRUFDcEJRLEVBQWUsTUFBTSxXQUFhLFNBQ2xDQSxFQUFlLE1BQU0sV0FBYSxTQUNsQ0EsRUFBZSxNQUFNLFFBQVUsT0FHbkMsSUFBTUMsRUFBa0JDLEdBQWMsTUFBTSxFQUFHLENBQUMsRUFBRSxJQUFJQyxHQUFLakIsR0FBV00sRUFBSVcsRUFBR2QsQ0FBSSxDQUFDLEVBQ2xGLE9BQUFlLEVBQUUsS0FDRUgsRUFDQUksRUFBRyxNQUNILENBQUMsQ0FBQ0MsQ0FBWSxJQUFNQSxFQUNwQkQsRUFBRyxJQUFJRSxHQUFlUCxFQUFlLE9BQU9PLENBQVcsQ0FBQyxDQUM1RCxFQUNPLENBQUNQLEVBQWdCQyxDQUFlLENBQzNDLEVBRWFPLEVBQTRCQyxHQUFvQkMsR0FBK0IsQ0FDeEYsSUFBTUMsRUFBa0JDLEdBQWtCeEIsR0FDdENzQixFQUFjLEtBQUssTUFBTXRCLEVBQU0sQ0FBQyxDQUFDLEVBQUVBLEVBQU0sQ0FBQyxFQUFFLGVBQ3hDLEtBQ0EsYUFDQSxxQkFBcUJ3QixFQUFNLEdBQUssV0FBVyxHQUMvQyxFQUVKUixFQUFFLEtBQ0VGLEdBQWMsTUFBTSxFQUFHLENBQUMsRUFDeEJHLEVBQUcsU0FBU1EsR0FBTUEsRUFBS0osQ0FBTSxFQUM3QixDQUFDLENBQUUsS0FBQUssRUFBTSxLQUFBQyxDQUFLLElBQU0sQ0FDaEJELEVBQUssSUFBSUgsRUFBZSxFQUFJLENBQUMsRUFDN0JJLEVBQUssSUFBSUosRUFBZSxFQUFLLENBQUMsQ0FDbEMsQ0FDSixDQUNKLEVBRWFLLEVBQWdDLENBQUNULEVBQTRCbkIsSUFBaUI2QixHQUFrQixDQUN6RyxJQUFNQyxFQUFPWCxFQUFZLHNCQUFzQixFQUN6Q1ksRUFBc0JGLEVBQUUsUUFBVUMsRUFBSyxLQUN2Q0UsRUFBU0MsRUFBTyxpQkFBbUJGLEVBQXNCRyxHQUMvRCxNQUFPLElBQUtsQyxFQUFNLEdBQUssT0FBT2dDLENBQU0sQ0FDeEMsRUFFYUcsR0FDVCxDQUFDbkMsRUFBYW1CLEVBQTRCaUIsSUFBa0MsTUFBT1AsR0FBa0IsQ0FDakcsSUFBTVEsRUFBV0QsRUFBWSxFQUN2QkUsRUFBWUMsRUFBY0YsQ0FBUSxFQUNwQ0csRUFBWVosRUFBOEJULEVBQWFuQixDQUFHLEVBQUU2QixDQUFDLEVBRTNEWSxFQUFpQkMsRUFBU1QsRUFBTyxjQUFjLEVBQ3JELEdBQUlRLEVBQWdCLENBQ2hCLElBQU1FLEVBQWtCSCxHQUFhQyxFQUMvQixDQUFDRyxDQUFTLEVBQUksTUFBTUMsRUFBUSxDQUFDUixDQUFRLENBQUMsRUFFeENPLElBQWNELEdBQWlCRyxHQUFZLENBQUNULENBQVEsQ0FBQyxDQUM3RCxDQWNBLEdBWklDLElBQWNFLElBQVdBLEVBQVksR0FFckNGLEdBQ0F0QixFQUFFLEtBQ0UrQixFQUFhLE1BQU0sRUFBR1QsRUFBWSxDQUFDLEVBQ25DckIsRUFBRyxPQUFPLE9BQU8sRUFDakJBLEVBQUcsSUFBSStCLEdBQWVuRCxHQUFJLEtBQUttRCxDQUFXLEVBQUcsRUFBRyxFQUNoRC9CLEVBQUcsSUFBSWdDLEdBQWNDLEdBQXdCRCxFQUFZLENBQUNaLENBQVEsQ0FBQyxDQUFDLENBQ3hFLEVBRUpFLEVBQWNGLENBQVEsRUFBSUcsRUFFdEJBLEVBQVcsQ0FDWCxJQUFJUSxFQUFjRCxFQUFhUCxDQUFTLEVBQ25DUSxJQUNEQSxFQUFjLE1BQU1HLEdBQ2hCQyxFQUFTWixDQUFTLEVBQ2xCYSxHQUFXLE1BQU0sUUFBUXBCLEVBQU8sZ0JBQWdCLENBQ3BELEVBQ0FxQixHQUEwQk4sRUFBYSxFQUFLLEVBQzVDRCxFQUFhUCxDQUFTLEVBQUlRLEdBRzlCTyxHQUFzQlAsRUFBYSxDQUFDWCxDQUFRLENBQUMsQ0FDakQsQ0FFQW1CLEVBQXNCLEVBQ3RCLElBQU1DLEVBQXNCQyxFQUFrQixHQUFHN0QsR0FBSSxXQUFXd0MsQ0FBUSxFQUFHLEVBQUUsRUFBRSxFQUMzRW9CLElBQ0F6QyxFQUFFLEtBQUt5QyxFQUFxQkUsRUFBc0NuQixDQUFTLENBQUMsRUFDNUVpQixFQUFvQixNQUFNLFdBQWFqQixFQUFZLFVBQVksU0FFdkUsRUR6SkcsSUFBTW9CLEdBQXNCLFVBRXRCQyxFQUFZLEdBQ1pDLEdBQW1CRCxFQUFZLEVBRS9CRSxFQUFZQyxHQUFjLE9BQU9BLENBQUMsRUFBSSxFQUN0Q0MsRUFBWUMsSUFBZUEsRUFBSSxHQUFHLFFBQVEsQ0FBQyxFQUUzQ0MsR0FBOEJDLEdBQ3ZDLE1BQU0sS0FBS0EsRUFBYSxRQUFRLEVBQ3ZCQyxHQUF3QkMsR0FDakMsTUFBTSxLQUFLQSxFQUFLLFdBQVksV0FBWSxVQUFVLEVBQ3pDQyxHQUFrQ0MsRUFBRSxLQUFLTCxHQUE0Qk0sR0FBRSxJQUFJSixFQUFvQixDQUFDLEVBRWhHSyxFQUF5Q0MsR0FDbERILEVBQUUsS0FBS0QsR0FBaUNLLEVBQXlCRCxDQUFNLENBQUMsRUFFL0RFLEVBQXFCQyxHQUFxQixTQUFTLGVBQWUsU0FBU0EsQ0FBUSxFQUFFLEVBQ3JGQyxHQUFXUCxFQUFFLEtBQUtLLEVBQW1CVixFQUEwQixFQUMvRGEsR0FBZ0JSLEVBQUUsS0FBS0ssRUFBbUJOLEVBQStCLEVBRXpFVSxHQUFnQixJQUFNLE1BQU0sS0FBSyxTQUFTLGlCQUFpQywyQkFBMkIsQ0FBQyxFQUN2R0MsR0FBc0JDLEdBQy9CQSxFQUFVLGNBQWMsaUNBQWlDLEdBQUcsV0FDbkRDLEdBQXNCRCxHQUMvQixNQUFNLEtBQUtBLEVBQVUsaUJBQWlDLGlDQUFpQyxDQUFDLEVBRS9FRSxHQUFtQkMsR0FBd0IsQ0FDcEQsSUFBTUMsRUFBVUQsRUFBTyxjQUE4QixrQ0FBa0MsRUFFdkYsTUFBTyxDQURjLE9BQU9DLEVBQVEsYUFBYSxlQUFlLENBQUMsRUFDM0NBLENBQU8sQ0FDakMsRUFFYUMsR0FBZ0JGLEdBQ3pCQSxFQUFPLGNBQ0gsdUpBQ0osRUFFU0csR0FBd0JDLElBQ2hDQSxFQUFRLE9BQU8sT0FBT0EsQ0FBSyxFQUFFLENBQUMsRUFBRSxNQUFNLE1BQU0sTUFBTSxNQUNsREEsRUFBYyxhQUFhLEtBQVFBLEVBQWMsTUFBTSxhQUFhLEtGcEN6RSxJQUFNQyxHQUFXLElBQUlDLEVBQWdCLGVBQWdCLGNBQWMsRUFDOUQsVUFBVSxhQUFjLGFBQWEsRUFDckMsVUFBVSxrQkFBbUIsbUJBQW1CLEVBQ2hELFVBQVUsbUJBQW9CLG9CQUFvQixFQUNsRCxVQUFVLHlCQUEwQixvREFBb0QsRUFDeEYsU0FBUyxpQkFBa0IsOEJBQStCQyxHQUFLLEdBQUcsS0FBSyxDQUFDLEVBQ3hFLFNBQVMsZ0JBQWlCLGdDQUFpQ0EsR0FBSyxHQUFHLEtBQUssQ0FBQyxFQUN6RSxTQUNHLG1CQUNBLHFCQUNBLFVBQWEsTUFBTUMsR0FBaUJDLEVBQW1CLEdBQUcsSUFDMURDLENBQ0osRUFFSkwsR0FBUyxhQUFhLEVBRWYsSUFBTU0sRUFBU04sR0FBUyxTQUFTLEVEVHhDLElBQU1PLEdBQUtDLEdBQWMsS0FBSyxJQUFJQSxDQUFDLEVBQ3RCQyxHQUFvQkMsR0FDN0JDLEVBQUUsS0FDRUQsRUFDQUUsRUFBRyxJQUFJQyxHQUFPQyxFQUFjRCxDQUFHLENBQUMsRUFDaENELEVBQUcsT0FBTyxPQUFPLEVBQ2pCQSxFQUFHLElBQUlHLEdBQUssQ0FBQ0EsRUFBR1IsR0FBRVEsQ0FBQyxDQUFDLENBQVUsRUFDOUJDLEVBQWMsTUFDZCxDQUFDLENBQUNDLEVBQUlDLENBQUcsSUFDTEYsRUFBYyxnQkFBZ0IsRUFBRyxDQUFDRyxFQUFHQyxFQUFHTCxJQUFjSyxFQUFJTCxFQUFJRyxFQUFJQyxDQUFDLENBQUMsRUFBRUYsQ0FBRSxFQUNwRUQsRUFBYyxPQUFPLEVBQUcsQ0FBQyxFQUFHSyxJQUFlLEVBQUlBLENBQUUsRUFBRUgsQ0FBRyxHQUFLLENBQ3ZFLEVBRVNJLEVBQTZCLENBQ3RDLENBQUNDLEVBQWdCQyxDQUFlLEVBQ2hDQyxJQUNDLENBQ0QsR0FBTSxDQUFDQyxFQUFlQyxDQUFhLEVBQUloQixFQUFFLEtBQUthLEVBQWlCUixFQUFjLEtBQUssRUFLbEZPLEVBQWUsaUJBQWlCLFdBQVksSUFDeENLLEVBQXlCZCxFQUFjVyxFQUFZLENBQUMsR0FBSyxDQUFDLEVBQUVFLENBQWEsQ0FDN0UsRUFFQWhCLEVBQUUsS0FDRWUsRUFDQVYsRUFBYyxhQUFhLENBQUNhLEVBQUtDLElBQWdCLENBQzdDQSxFQUFZLGlCQUNSLFlBQ0FuQixFQUFFLEtBQ0VvQixFQUE4QkQsRUFBYUQsQ0FBRyxFQUM5Q2xCLEVBQUUsS0FBS2lCLENBQXdCLEVBQUVELENBQWEsQ0FDbEQsQ0FDSixFQUVBRyxFQUFZLGlCQUFpQixRQUFTRSxHQUFZSCxFQUFLSCxFQUFjRyxDQUFHLEVBQUdKLENBQVcsQ0FBQyxDQUMzRixDQUFDLENBQ0wsQ0FDSixFQUVhUSxFQUFjLFNBQVksQ0FDbkMsSUFBTUMsRUFBZ0IsTUFBTUMsR0FBZ0JDLEVBQU8sZ0JBQWdCLEVBRTdEQyxFQUFnQjFCLEVBQUUsS0FDcEIyQixHQUFJLE1BQU0sRUFBRyxFQUFFLEVBQ2YxQixFQUFHLElBQUlRLEdBQUssQ0FBQ21CLEVBQVNuQixDQUFDLEVBQUdBLENBQUMsQ0FBcUIsRUFDaERvQixHQUFPLFdBQ1gsRUFFQUMsRUFBZTlCLEVBQUUsS0FDYnVCLEVBQWUsTUFDZnRCLEVBQUcsSUFBSThCLEdBQUssQ0FBQ0EsRUFBRSxLQUFNQSxFQUFFLElBQUtMLEVBQWNLLEVBQUUsSUFBSyxDQUFDLENBQWlDLEVBQ25GOUIsRUFBRyxPQUNDLENBQUMsRUFDRCxDQUFDK0IsRUFBSyxDQUFDQyxFQUFNL0IsRUFBS2dDLENBQU0sS0FBT0QsSUFBUyxZQUFjQyxJQUFVRixFQUFJRSxDQUFNLEVBQUloQyxHQUFXOEIsRUFDN0YsQ0FDSixFQUdBLFdBQVcsY0FBZ0I3QixFQUFnQixNQUFNSCxFQUFFLEtBQy9DOEIsRUFDQTdCLEVBQUcsSUFBSWtDLENBQXlCLEVBQ2hDQyxHQUFNLFFBQVEsSUFBSUEsQ0FBRSxFQUNwQkMsRUFBUXBDLEVBQUcsSUFBSXFDLEdBQVVBLEdBQVUsQ0FBQyxDQUFDLENBQUMsRUFDdENELEVBQVFwQyxFQUFHLElBQUlBLEVBQUcsSUFBSXNDLEdBQUtBLEVBQUUsR0FBRyxDQUFDLENBQUMsRUFDbENGLEVBQVFwQyxFQUFHLFFBQVEsQ0FBQ3VDLEVBQVdDLElBQVdELEVBQVUsSUFBSUUsR0FBWSxDQUFDQSxFQUFVRCxDQUFNLENBQVUsQ0FBQyxDQUFDLEVBQ2pHSixFQUNJcEMsRUFBRyxPQUFPLENBQUMsRUFBNkIsQ0FBQytCLEVBQUssQ0FBQ1UsRUFBVUQsQ0FBTSxJQUMzRCxPQUFPLE9BQU9ULEVBQUssQ0FDZixDQUFDVSxDQUFRLEVBQUcsS0FBSyxJQUFJRCxFQUFRVCxFQUFJVSxDQUFRLEdBQUssQ0FBQyxDQUNuRCxDQUFDLENBQ0wsQ0FDSixDQUNKLENBQ0osRUFFV1osRUFBNkIsQ0FBQyxFQUM5QjNCLEVBQTRDLENBQUMsRUp4RXhELEdBQU0sQ0FBRSxJQUFBd0MsQ0FBSSxFQUFJLFVBRVZDLEdBQXdCLENBQzFCLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsMEVBQ0EscUZBQ0EsNkdBQ0osRUFFQUMsRUFBWSxFQUlaLElBQU1DLEdBQXVCLEVBQUUsS0FDM0JDLEdBQ0FDLEVBQUcsSUFBSUMsR0FBYSxDQUNoQixJQUFNQyxFQUFrQkMsR0FBbUJGLENBQVMsRUFDcEQsR0FBSUMsRUFBZ0IsU0FBVyxFQUFHLE9BRWxDLElBQU1FLEVBQVlDLEdBQXdCQSxFQUFPLHVCQUF1QixPQUFPLEVBQUUsT0FBUyxFQUNwRkMsRUFBY1gsRUFBSSxXQUFXLFVBQVUsU0FBUyxRQUFRLFNBQVMsUUFBUSxFQUV6RVksRUFBZVosRUFBSSxTQUFTVyxDQUFZLEVBQ3hDSixFQUFnQixDQUFDLEVBQ2pCTSxHQUFtQlAsQ0FBUyxHQUFLQyxFQUFnQixDQUFDLEVBRWxELENBQUNPLENBQVksRUFBSUMsR0FBZ0JILENBQVksRUFDN0NJLEVBQXFCZixHQUFzQmEsRUFBZSxFQUFFLEtBQUtGLEVBQWNILEVBQVUsTUFBTSxDQUFDLEVBRWpHTyxJQUNMSixFQUFhLE1BQU0sb0JBQXNCSSxFQUV6QyxFQUFFLEtBQ0VULEVBQ0FGLEVBQUcsSUFBSVksR0FBUyxDQUNaLElBQU1DLEVBQVFDLEdBQWFGLENBQUssRUFHaEMsR0FGSUMsSUFBT0EsRUFBTSxNQUFNLFFBQVVFLEVBQU8sV0FBYSxPQUFTLFFBRTFEWCxFQUFTUSxDQUFLLEVBQUcsT0FFckIsSUFBSUksRUFBc0NKLEVBQU0sY0FBYyxjQUFjLEVBQzVFLEdBQUksQ0FBQ0ksRUFBYyxDQUNmLElBQU1DLEVBQWFMLEVBQU0sY0FBYywrQkFBK0IsRUFDaEVNLEVBQVcsT0FBT0QsR0FBWSxhQUFhLGVBQWUsQ0FBQyxFQUVqRUQsRUFBZSxTQUFTLGNBQWMsS0FBSyxFQUMzQ0EsRUFBYSxhQUFhLGdCQUFpQixPQUFPRSxDQUFRLENBQUMsRUFDM0RELEdBQVksYUFBYSxnQkFBaUIsT0FBT0MsRUFBVyxDQUFDLENBQUMsRUFDOURGLEVBQWEsS0FBTyxXQUNwQkEsRUFBYSxNQUFNLFFBQVUsT0FDN0JBLEVBQWEsVUFBVSxJQUFJLG1DQUFtQyxFQUM5REEsRUFBYSxVQUFVLElBQUksYUFBYSxFQUN4Q0osRUFBTSxhQUFhSSxFQUFjQyxDQUFVLEVBQzNDTCxFQUFNLE1BQU0sb0JBQXNCRCxDQUN0QyxDQUVBLElBQU1RLEVBQVdDLEdBQXFCUixDQUFLLEVBQ3JDUyxFQUFNMUIsRUFBSSxXQUFXd0IsQ0FBUSxFQUduQyxHQUFJLENBQUN4QixFQUFJLFFBQVEwQixDQUFJLEVBQUcsT0FFeEIsR0FBTSxDQUFDQyxFQUFnQkMsQ0FBZSxFQUFJQyxFQUFZSCxFQUFLLEdBQUtJLENBQVMsRUFDekVULEVBQWEsWUFBWU0sQ0FBYyxFQUN2QyxFQUFFLEtBQ0VDLEVBQ0F2QixFQUFHLE1BQ0gsQ0FBQyxDQUFDMEIsRUFBR0MsQ0FBVSxJQUFNQSxFQUNyQkMsRUFBeUJDLEVBQWNWLENBQVEsR0FBSyxDQUFDLENBQ3pELEVBQ0FXLEVBQTJCLENBQUNSLEVBQWdCQyxDQUFlLEVBQUcsSUFBTUosQ0FBUSxFQUU1RSxJQUFNWSxFQUFpQixJQUNsQlQsRUFBZSxNQUFNLFdBQWFPLEVBQWNWLENBQVEsRUFBSSxVQUFZLFNBRTdFUCxFQUFNLGlCQUFpQixZQUFhLElBQU9VLEVBQWUsTUFBTSxXQUFhLFNBQVUsRUFDdkZWLEVBQU0saUJBQWlCLFdBQVltQixDQUFjLEVBQ2pEQSxFQUFlLENBQ25CLENBQUMsQ0FDTCxFQUNKLENBQUMsQ0FDTCxFQUVJQyxFQUNFQyxHQUFzQixJQUFJLGlCQUFpQixJQUFPbEIsRUFBTyxpQkFBbUJqQixHQUFxQixFQUFJLE1BQVUsRUFFckgsSUFBSSxpQkFBaUIsSUFBTSxDQUN2QixJQUFNb0MsRUFBaUJGLEVBQ3ZCQSxFQUFjLFNBQVMsY0FBMkIsTUFBTSxFQUNwREEsR0FBZSxDQUFDQSxFQUFZLFlBQVlFLENBQWMsSUFDbERBLEdBQWdCRCxHQUFvQixXQUFXLEVBQ25EQSxHQUFvQixRQUFRRCxFQUFhLENBQ3JDLFVBQVcsR0FDWCxRQUFTLEVBQ2IsQ0FBQyxFQUVULENBQUMsRUFBRSxRQUFRLFNBQVMsS0FBTSxDQUN0QixVQUFXLEdBQ1gsUUFBUyxFQUNiLENBQUMsRUFJRCxJQUFNRyxHQUF3QixNQUFPQyxFQUFzQlQsSUFBNkIsQ0FDcEYsSUFBTU4sRUFBTTFCLEVBQUksV0FBV3lDLENBQVEsRUFFOUJULElBQVlBLEVBQWFVLEdBQWMsWUFBWSxHQUV4RCxJQUFJQyxFQUNKLEdBQUkzQyxFQUFJLFFBQVEwQixDQUFHLEVBQ2ZpQixFQUFPLEVBQUUsS0FDTCxNQUFNQyxHQUFjLEdBQUdsQixDQUFHLEVBQUUsRUFDNUJtQixHQUFLQSxFQUFFLE9BQU8sTUFDZHhDLEVBQUcsSUFBSXdDLEdBQUtBLEVBQUUsTUFBTSxHQUFHLENBQzNCLFVBQ0s3QyxFQUFJLFNBQVMwQixDQUFHLEVBQ3JCaUIsRUFBTyxFQUFFLEtBQ0wsTUFBTUcsR0FBMkIsR0FBR3BCLENBQUcsRUFBRSxFQUN6Q3JCLEVBQUcsSUFBSXdDLEdBQUtBLEVBQUUsR0FBRyxDQUNyQixVQUNLN0MsRUFBSSxpQkFBaUIwQixDQUFHLEVBQzdCaUIsRUFBTyxFQUFFLEtBQ0wsTUFBTUksRUFBMEIsR0FBR3JCLENBQUcsRUFBRSxFQUN4Q3JCLEVBQUcsSUFBSXdDLEdBQUtBLEVBQUUsR0FBRyxDQUNyQixNQUNDLE1BQU0sb0JBRVhaLEVBQXlCZSxHQUFpQkwsQ0FBSSxDQUFDLEVBQUVYLENBQVUsQ0FDL0QsRUFFSWlCLEVBQ0osVUFBVSxTQUFTLFFBQVEsT0FBTyxNQUFPLENBQUUsU0FBQVIsQ0FBUyxJQUE0QixDQUU1RSxHQUFJLENBRGlCUyxHQUFRLENBQUNsRCxFQUFJLFFBQVNBLEVBQUksU0FBVUEsRUFBSSxnQkFBZ0IsQ0FBQyxFQUM1RHlDLENBQVEsRUFBRyxPQUU3QlEsRUFBNEIsTUFBTUUsR0FDOUIsd0RBQ0EsRUFDQSxTQUFTLEtBQ1RGLENBQ0osRUFFQSxHQUFNLENBQUNHLEVBQTBCQyxDQUF5QixFQUFJeEIsRUFBWSxhQUFjQyxFQUFZLENBQUMsRUFDckd3QixFQUFrQixZQUFZLEdBQUcsT0FBTyxFQUN4Q0wsRUFBMEIsTUFBTUcsQ0FBd0IsRUFFeEQsSUFBTUcsRUFBdUIsRUFBRSxLQUFLRixFQUEyQmhELEVBQUcsTUFBTyxDQUFDLENBQUMwQixFQUFHQyxDQUFVLElBQU1BLENBQVUsRUFFeEdRLEdBQXNCQyxFQUFVYyxDQUFvQixDQUN4RCxDQUFDLEVBSUQsSUFBTUMsR0FBd0IsSUFBTSxDQUNoQyxHQUFJLFNBQVMsaUJBQWlCLG9CQUFvQixFQUFFLFNBQVcsRUFBRyxPQUVsRSxJQUFNQyxFQUE0QnJDLEVBQU8sdUJBQ25DLG9DQUNBLG1DQUNBc0MsRUFBb0IsU0FBUyxjQUFjRCxDQUF5QixFQUMxRSxHQUFJLENBQUNDLEVBQW1CLE9BRXhCLEdBQU0sQ0FBQ0MsRUFBMEJDLENBQXVCLEVBQUkvQixFQUFZLGNBQWVDLENBQVMsRUFDaEc2QixFQUF5QixNQUFNLFFBQVUsT0FDekNBLEVBQXlCLE1BQU0sV0FBYSxNQUM1Q0EsRUFBeUIsTUFBTSxZQUFjLE1BRXhDdkMsRUFBTyx1QkFDUHNDLEVBQWtCLFFBQVFDLENBQXdCLEVBRG5CRCxFQUFrQixNQUFNQyxDQUF3QixFQUdwRnhCLEVBQ0ksQ0FBQ3dCLEVBQTBCQyxDQUF1QixFQUNsRCxJQUFNLFVBQVUsT0FBTyxLQUFLLE9BQU8sR0FDdkMsQ0FDSixFQUVBSixHQUFzQixFQUVmLElBQU1LLEVBQXdCLElBQU0sQ0FDdkMsSUFBTXJDLEVBQVcsVUFBVSxPQUFPLEtBQUssT0FBTyxJQUN4Q21DLEVBQTJCTCxFQUFrQixhQUFhLEVBRWhFSyxFQUF5QixNQUFNLFFBQVUsVUFBVSxJQUFJLFFBQVFuQyxDQUFRLEVBQUksT0FBUyxPQUVwRixFQUFFLEtBQUttQyxFQUEwQkcsRUFBc0M1QixFQUFjVixDQUFRLEdBQUssQ0FBQyxDQUFDLENBQ3hHLEVBRUEsVUFBVSxPQUFPLGlCQUFpQixhQUFjLElBQU0sQ0FDbEQsSUFBTUEsRUFBVyxVQUFVLE9BQU8sS0FBSyxLQUFLLElBQzVDLEdBQ0ksT0FBT0osRUFBTyxhQUFhLElBQzFCYyxFQUFjVixDQUFRLEdBQUssT0FBTyxtQkFBcUJ1QyxFQUFTM0MsRUFBTyxhQUFhLEVBRXJGLE9BQU8sVUFBVSxPQUFPLEtBQUssRUFFakN5QyxFQUFzQixDQUMxQixDQUFDLEVBQ0RBLEVBQXNCIiwKICAibmFtZXMiOiBbImFyIiwgImFueVBhc3MiLCAiYXIiLCAiZXEiLCAic3RyIiwgInJlYyIsICJzZyIsICJmIiwgImd1YXJkIiwgIm1lbW9pemUiLCAiZ3VhcmQ0IiwgImJyYW5jaGVzIiwgImd1YXJkIiwgInBNY2hhaW4iLCAiZiIsICJmYSIsICJpcyIsICJjIiwgImEiLCAiZmllbGQiLCAiY2h1bmNraWZ5IiwgIm4iLCAiZyIsICJmIiwgImFyIiwgInBzIiwgInBNY2hhaW4iLCAibWVtb2l6ZTIiLCAiZm4iLCAiZiIsICJtZW1vaXplIiwgImVxIiwgInN0ciIsICJhIiwgImYiLCAiU3BvdGlmeUxvYyIsICJ1cmkiLCAidWlkIiwgIndhaXRGb3JFbGVtZW50IiwgInNlbGVjdG9yIiwgInRpbWVvdXQiLCAibG9jYXRpb24iLCAibm90RWwiLCAicmVzb2x2ZSIsICJyZXMiLCAidiIsICJvYnNlcnZlciIsICJlbCIsICJzbGVlcCIsICJtcyIsICJyZXNvbHZlIiwgImlzTGlrZWQiLCAidXJpcyIsICJzZXRMaWtlZCIsICJsaWtlZCIsICJ0b2dnbGVMaWtlZCIsICJmIiwgImEiLCAiaSIsICJhY2MiLCAidXJpIiwgInRvQWRkIiwgInRvUmVtIiwgInBzIiwgImZldGNoR1FMQWxidW0iLCAidXJpIiwgIm9mZnNldCIsICJsaW1pdCIsICJyZW1vdmVXZWJQbGF5bGlzdFRyYWNrcyIsICJwbGF5bGlzdCIsICJ0cmFja3MiLCAidXJpIiwgImZldGNoV2ViQXJ0aXN0c1Nwb3QiLCAiY2h1bmNraWZ5IiwgImlkcyIsICJmZXRjaFdlYlBsYXlsaXN0c1Nwb3QiLCAiaWQiLCAiZmV0Y2hXZWJBbGJ1bXNTcG90IiwgImZldGNoV2ViVHJhY2tzU3BvdCIsICJmZXRjaFBsYXRBcnRpc3RMaWtlZFRyYWNrcyIsICJ1cmkiLCAib2Zmc2V0IiwgImxpbWl0IiwgImZldGNoUGxhdFBsYXlsaXN0Q29udGVudHMiLCAiY3JlYXRlUGxhdEZvbGRlciIsICJuYW1lIiwgImxvY2F0aW9uIiwgImNyZWF0ZVBsYXRQbGF5bGlzdCIsICJuYW1lIiwgImxvY2F0aW9uIiwgInNldFBsYXRQbGF5bGlzdFZpc2liaWxpdHkiLCAicGxheWxpc3QiLCAidmlzaWJsZUZvckFsbCIsICJmZXRjaFBsYXRGb2xkZXIiLCAiZm9sZGVyIiwgImFkZFBsYXRQbGF5bGlzdFRyYWNrcyIsICJwbGF5bGlzdCIsICJ0cmFja3MiLCAibG9jYXRpb24iLCAiZmV0Y2hUcmFja0xGTUFQSSIsICJMRk1BcGlLZXkiLCAiYXJ0aXN0IiwgInRyYWNrTmFtZSIsICJsYXN0Rm1Vc2VybmFtZSIsICJ1cmwiLCAicmVzIiwgImZldGNoVHJhY2tMRk1BUElNZW1vaXplZCIsICJtZW1vaXplMiIsICJhciIsICJyZWFkb25seUFycmF5IiwgInJlY29yZCIsICJmIiwgIm5lYSIsICJ0YXNrIiwgInRhc2siLCAiY29uc3RWb2lkIiwgIlJlYWN0IiwgIlJlYWN0RE9NIiwgIlNldHRpbmdzU2VjdGlvbiIsICJfU2V0dGluZ3NTZWN0aW9uIiwgIm5hbWUiLCAic2VjdGlvbklkIiwgInNlY3Rpb25GaWVsZHMiLCAic2xlZXAiLCAicGF0aG5hbWUiLCAidGFyZ2V0IiwgInByb3AiLCAiYWxsU2V0dGluZ3NDb250YWluZXIiLCAicGx1Z2luU2V0dGluZ3NDb250YWluZXIiLCAiaWQiLCAibmFtZUlkIiwgImRlc2NyaXB0aW9uIiwgInRleHQiLCAib25DbGljayIsICJjb25zdFZvaWQiLCAiZXZlbnRzIiwgImRlZmF1bHRWYWx1ZSIsICJ0YXNrIiwgIm9uQ2hhbmdlIiwgImlucHV0VHlwZSIsICJvcHRpb25zIiwgInZhbHVlIiwgInNldFZhbHVlU3RhdGUiLCAibmV3VmFsdWUiLCAicmVyZW5kZXIiLCAic2V0UmVyZW5kZXIiLCAiZmllbGQiLCAiaXNUeXBlIiwgImlzIiwgImd1YXJkNCIsICJzZXRWYWx1ZSIsICJlIiwgIm9wdGlvbiIsICJpIiwgImEiLCAiZiIsICJhciIsICJub25FbXB0eUFycmF5IiwgImYiLCAiVVJJIiwgImNyZWF0ZVN0YXIiLCAic3RhcnNJZCIsICJudGgiLCAic2l6ZSIsICJ4bWxucyIsICJzdGFyIiwgImlkIiwgImRlZnMiLCAiZ3JhZGllbnQiLCAic3RvcDEiLCAic3RvcDIiLCAicGF0aCIsICJjcmVhdGVTdGFycyIsICJpZFN1ZmZpeCIsICJzdGFyc0NvbnRhaW5lciIsICJzdGFyc0NvbnN0cnVjdHMiLCAibm9uRW1wdHlBcnJheSIsICJpIiwgImYiLCAiYXIiLCAic3RhckVsZW1lbnRzIiwgInN0YXJFbGVtZW50IiwgInNldFN0YXJzR3JhZGllbnRCeVJhdGluZyIsICJyYXRpbmciLCAic3RhcnNTVkdTdG9wcyIsICJzZXRIYWxmU3RhckxpdCIsICJsaXQiLCAiaGkiLCAiaW5pdCIsICJyZXN0IiwgImNhbGN1bGF0ZVJhdGluZ0Zyb21Nb3VzZUV2ZW50IiwgImUiLCAicmVjdCIsICJsZWZ0T2Zmc2V0RnJvbUhlYXJ0IiwgImlzSGFsZiIsICJDT05GSUciLCAiSEFMRl9TVEFSX0xFTkdUSCIsICJvblN0YXJDbGljayIsICJnZXRUcmFja1VyaSIsICJ0cmFja1VyaSIsICJvbGRSYXRpbmciLCAidHJhY2tzUmF0aW5ncyIsICJuZXdSYXRpbmciLCAiaGVhcnRUaHJlc2hvbGQiLCAic3RhcnNTMk4iLCAic2hvdWxkQmVIZWFydGVkIiwgImlzSGVhcnRlZCIsICJpc0xpa2VkIiwgInRvZ2dsZUxpa2VkIiwgInBsYXlsaXN0VXJpcyIsICJwbGF5bGlzdFVyaSIsICJwbGF5bGlzdElkIiwgInJlbW92ZVdlYlBsYXlsaXN0VHJhY2tzIiwgImNyZWF0ZVBsYXRQbGF5bGlzdCIsICJzdGFyc04yUyIsICJTcG90aWZ5TG9jIiwgInNldFBsYXRQbGF5bGlzdFZpc2liaWxpdHkiLCAiYWRkUGxhdFBsYXlsaXN0VHJhY2tzIiwgInVwZGF0ZU5vd1BsYXlpbmdTdGFycyIsICJ0cmFja1N0YXJzQ29udGFpbmVyIiwgImdldFN0YXJzQ29udGFpbmVyIiwgInNldFN0YXJzR3JhZGllbnRGcm9tQ29udGFpbmVyQnlSYXRpbmciLCAiUkFUSU5HU19GT0xERVJfTkFNRSIsICJTVEFSX1NJWkUiLCAiSEFMRl9TVEFSX0xFTkdUSCIsICJzdGFyc1MyTiIsICJTIiwgInN0YXJzTjJTIiwgIk4iLCAiZ2V0U3RhcnNGcm9tU3RhcnNDb250YWluZXIiLCAic3RhcnNFbGVtZW50IiwgImdldFN0YXJTdG9wc0Zyb21TdGFyIiwgInN0YXIiLCAiZ2V0U3RhcnNTdG9wc0Zyb21TdGFyc0NvbnRhaW5lciIsICJmIiwgImEiLCAic2V0U3RhcnNHcmFkaWVudEZyb21Db250YWluZXJCeVJhdGluZyIsICJyYXRpbmciLCAic2V0U3RhcnNHcmFkaWVudEJ5UmF0aW5nIiwgImdldFN0YXJzQ29udGFpbmVyIiwgImlkU3VmZml4IiwgImdldFN0YXJzIiwgImdldFN0YXJzU3RvcHMiLCAiZ2V0VHJhY2tMaXN0cyIsICJnZXRUcmFja0xpc3RIZWFkZXIiLCAidHJhY2tMaXN0IiwgImdldFRyYWNrTGlzdFRyYWNrcyIsICJnZXRMYXN0Q29sSW5kZXgiLCAicGFyZW50IiwgImxhc3RDb2wiLCAiZ2V0Rmlyc3RQbHVzIiwgImdldFRyYWNrTGlzdFRyYWNrVXJpIiwgInRyYWNrIiwgInNldHRpbmdzIiwgIlNldHRpbmdzU2VjdGlvbiIsICJ0YXNrIiwgImNyZWF0ZVBsYXRGb2xkZXIiLCAiUkFUSU5HU19GT0xERVJfTkFNRSIsICJsb2FkUmF0aW5ncyIsICJDT05GSUciLCAidyIsICJuIiwgImFnZ3JlZ2F0ZVJhdGluZ3MiLCAidXJpcyIsICJmIiwgImFyIiwgInVyaSIsICJ0cmFja3NSYXRpbmdzIiwgInIiLCAicmVhZG9ubHlBcnJheSIsICJycyIsICJ3cnMiLCAiaSIsICJzIiwgIndyIiwgImFkZFJhdGluZ3NMaXN0ZW5lcnNUb1N0YXJzIiwgInN0YXJzQ29udGFpbmVyIiwgInN0YXJzQ29uc3RydWN0cyIsICJnZXRUcmFja1VyaSIsICJzdGFyc0VsZW1lbnRzIiwgInN0YXJzU1ZHU3RvcHMiLCAic2V0U3RhcnNHcmFkaWVudEJ5UmF0aW5nIiwgIm50aCIsICJzdGFyRWxlbWVudCIsICJjYWxjdWxhdGVSYXRpbmdGcm9tTW91c2VFdmVudCIsICJvblN0YXJDbGljayIsICJsb2FkUmF0aW5ncyIsICJyYXRpbmdzRm9sZGVyIiwgImZldGNoUGxhdEZvbGRlciIsICJDT05GSUciLCAic3RhcnNTMk5hcnJheSIsICJuZWEiLCAic3RhcnNOMlMiLCAicmVjb3JkIiwgInBsYXlsaXN0VXJpcyIsICJwIiwgImFjYyIsICJ0eXBlIiwgInN0YXJzTiIsICJmZXRjaFBsYXRQbGF5bGlzdENvbnRlbnRzIiwgInBzIiwgInBNY2hhaW4iLCAidHJhY2tzIiwgInQiLCAidHJhY2tVcmlzIiwgInJhdGluZyIsICJ0cmFja1VyaSIsICJVUkkiLCAiY3VzdG9tVHJhY2tMaXN0Q29sQ3NzIiwgImxvYWRSYXRpbmdzIiwgInVwZGF0ZVRyYWNrTGlzdFN0YXJzIiwgImdldFRyYWNrTGlzdHMiLCAiYXIiLCAidHJhY2tMaXN0IiwgInRyYWNrTGlzdFRyYWNrcyIsICJnZXRUcmFja0xpc3RUcmFja3MiLCAiaGFzU3RhcnMiLCAicGFyZW50IiwgImxvY2F0aW9uVXJpIiwgImZpcnN0RWxlbWVudCIsICJnZXRUcmFja0xpc3RIZWFkZXIiLCAibGFzdENvbEluZGV4IiwgImdldExhc3RDb2xJbmRleCIsICJuZXdUcmFja0xpc3RDb2xDc3MiLCAidHJhY2siLCAiaGVhcnQiLCAiZ2V0Rmlyc3RQbHVzIiwgIkNPTkZJRyIsICJyYXRpbmdDb2x1bW4iLCAibGFzdENvbHVtbiIsICJjb2xJbmRleCIsICJ0cmFja1VyaSIsICJnZXRUcmFja0xpc3RUcmFja1VyaSIsICJ1cmkiLCAic3RhcnNDb250YWluZXIiLCAic3RhcnNDb25zdHJ1Y3RzIiwgImNyZWF0ZVN0YXJzIiwgIlNUQVJfU0laRSIsICJfIiwgInN0YXJzU3RvcHMiLCAic2V0U3RhcnNHcmFkaWVudEJ5UmF0aW5nIiwgInRyYWNrc1JhdGluZ3MiLCAiYWRkUmF0aW5nc0xpc3RlbmVyc1RvU3RhcnMiLCAic2V0VmlzaWJsZUNvbmQiLCAibWFpbkVsZW1lbnQiLCAibWFpbkVsZW1lbnRPYnNlcnZlciIsICJvbGRNYWluRWxlbWVudCIsICJ1cGRhdGVDb2xsZWN0aW9uU3RhcnMiLCAicGF0aG5hbWUiLCAiZ2V0U3RhcnNTdG9wcyIsICJ1cmlzIiwgImZldGNoR1FMQWxidW0iLCAieCIsICJmZXRjaFBsYXRBcnRpc3RMaWtlZFRyYWNrcyIsICJmZXRjaFBsYXRQbGF5bGlzdENvbnRlbnRzIiwgImFnZ3JlZ2F0ZVJhdGluZ3MiLCAibGFzdENvbGxlY3Rpb25QbGF5QnV0dG9uIiwgImFueVBhc3MiLCAid2FpdEZvckVsZW1lbnQiLCAiY29sbGVjdGlvblN0YXJzQ29udGFpbmVyIiwgImNvbGxlY3Rpb25TdGFyc0NvbnN0cnVjdHMiLCAiZ2V0U3RhcnNDb250YWluZXIiLCAiY29sbGVjdGlvblN0YXJzU3RvcHMiLCAiY3JlYXRlTm93UGxheWluZ1N0YXJzIiwgIm5vd1BsYXlpbmdFbGVtZW50U2VsZWN0b3IiLCAibm93UGxheWluZ0VsZW1lbnQiLCAibm93UGxheWluZ1N0YXJzQ29udGFpbmVyIiwgIm5vd1BsYXlpbmdTdGFyQ29uc3RydWN0IiwgInVwZGF0ZU5vd1BsYXlpbmdTdGFycyIsICJzZXRTdGFyc0dyYWRpZW50RnJvbUNvbnRhaW5lckJ5UmF0aW5nIiwgInN0YXJzUzJOIl0KfQo=
