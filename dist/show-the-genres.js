var $$=Object.create;var{defineProperty:I1,getPrototypeOf:X$,getOwnPropertyNames:Q$}=Object;var Y$=Object.prototype.hasOwnProperty;var k1=($,X,Q)=>{Q=$!=null?$$(X$($)):{};const Y=X||!$||!$.__esModule?I1(Q,"default",{value:$,enumerable:!0}):Q;for(let H of Q$($))if(!Y$.call(Y,H))I1(Y,H,{get:()=>$[H],enumerable:!0});return Y};var s4=($,X)=>()=>(X||$((X={exports:{}}).exports,X),X.exports);var s0=($,X)=>{for(var Q in X)I1($,Q,{get:X[Q],enumerable:!0,configurable:!0,set:(Y)=>X[Q]=()=>Y})};var n4=s4((DJ,r9)=>{r9.exports=Spicetify.React});var s9=s4((BJ,f9)=>{f9.exports=Spicetify.ReactDOM});function C($){return $}function d($){return function(){return $}}function H0($){return function(){var X=[];for(var Q=0;Q<arguments.length;Q++)X[Q]=arguments[Q];if(X.length>1)return $(X[1],X[0]);return function(Y){return $(Y)(X[0])}}}function D($,X,Q,Y,H,J,j,P,O){switch(arguments.length){case 1:return $;case 2:return function(){return X($.apply(this,arguments))};case 3:return function(){return Q(X($.apply(this,arguments)))};case 4:return function(){return Y(Q(X($.apply(this,arguments))))};case 5:return function(){return H(Y(Q(X($.apply(this,arguments)))))};case 6:return function(){return J(H(Y(Q(X($.apply(this,arguments))))))};case 7:return function(){return j(J(H(Y(Q(X($.apply(this,arguments)))))))};case 8:return function(){return P(j(J(H(Y(Q(X($.apply(this,arguments))))))))};case 9:return function(){return O(P(j(J(H(Y(Q(X($.apply(this,arguments)))))))))}}return}function t0($){return function(X){return $.apply(void 0,X)}}function $5($){return function(){var X=[];for(var Q=0;Q<arguments.length;Q++)X[Q]=arguments[Q];return $(X)}}function Z($,X,Q,Y,H,J,j,P,O){switch(arguments.length){case 1:return $;case 2:return X($);case 3:return Q(X($));case 4:return Y(Q(X($)));case 5:return H(Y(Q(X($))));case 6:return J(H(Y(Q(X($)))));case 7:return j(J(H(Y(Q(X($))))));case 8:return P(j(J(H(Y(Q(X($)))))));case 9:return O(P(j(J(H(Y(Q(X($))))))));default:{var A=arguments[0];for(var E0=1;E0<arguments.length;E0++)A=arguments[E0](A);return A}}}var H$=function($,X,Q){if(Q||arguments.length===2){for(var Y=0,H=X.length,J;Y<H;Y++)if(J||!(Y in X)){if(!J)J=Array.prototype.slice.call(X,0,Y);J[Y]=X[Y]}}return $.concat(J||Array.prototype.slice.call(X))};var t4=function($){return function(){return{concat:function(X,Q){return function(Y){return $.concat(X(Y),Q(Y))}}}}},i4=function($){var X=t4($);return function(){return{concat:X().concat,empty:function(){return $.empty}}}};var e4=function($){return function(X){return X($)}};var a4=d(void 0),I0=a4;var v=function($,X){var Q=typeof $==="number"?function(Y){return Y.length>=$}:$;return function(){var Y=Array.from(arguments);if(Q(arguments))return X.apply(this,Y);return function(H){return X.apply(void 0,H$([H],Y,!1))}}};var J$=function($,X,Q){if(Q||arguments.length===2){for(var Y=0,H=X.length,J;Y<H;Y++)if(J||!(Y in X)){if(!J)J=Array.prototype.slice.call(X,0,Y);J[Y]=X[Y]}}return $.concat(J||Array.prototype.slice.call(X))},i0=function($){return $._tag==="None"},k=function($){return $._tag==="Some"},G={_tag:"None"},L=function($){return{_tag:"Some",value:$}},J0=function($){return $._tag==="Left"};var b1=function($){return[$]},Z0=function($){return $.length>0},k0=function($){return $[0]},e0=function($){return $.slice(1)},b0=[],u={};var a0=function($){return J$([$[0]],$.slice(1),!0)};var X5=function($,X){return v(2,function(Q,Y){return X.flatMap(Q,function(H){return $.fromIO(Y(H))})})};function j0($){return function(X){return function(Q){return $.ap($.map(Q,function(Y){return function(){return Y}}),X)}}}function D0($){return function(X){return function(Q){return $.ap($.map(Q,function(){return function(Y){return Y}}),X)}}}function P0($){return function(X,Q){return function(Y){return $.ap($.map(Y,function(H){return function(J){var j;return Object.assign({},H,(j={},j[X]=J,j))}}),Q)}}}function $1($){return function(X){return{concat:function(Q,Y){return $.ap($.map(Q,function(H){return function(J){return X.concat(H,J)}}),Y)}}}}function x0($){return function(X){return function(Q){return $.map(Q,function(Y){return Y(X)})}}}function p($){return function(X){return function(Q){return $.map(Q,function(Y){var H;return H={},H[X]=Y,H})}}}var o=function($){return function(X,Q){return function(Y){return $.map(Y,function(H){var J;return Object.assign({},H,(J={},J[X]=Q(H),J))})}}};function h0($){return function(X,Q){return $.map(X,function(){return Q})}}function X1($){var X=h0($);return function(Q){return X(Q,void 0)}}function Q5($){var X=$1($);return function(Q){return{concat:X(Q).concat,empty:$.of(Q.empty)}}}var B={};s0(B,{zipWith:()=>{{return W7}},zip:()=>{{return g7}},zero:()=>{{return C0}},wither:()=>{{return E3}},wilt:()=>{{return I3}},updateAt:()=>{{return V3}},unzip:()=>{{return v3}},unsafeUpdateAt:()=>{{return H9}},unsafeInsertAt:()=>{{return Y9}},unsafeDeleteAt:()=>{{return J9}},uniq:()=>{{return U3}},union:()=>{{return L4}},unfold:()=>{{return W4}},traverseWithIndex:()=>{{return S4}},traverse:()=>{{return t7}},takeRight:()=>{{return e$}},takeLeftWhile:()=>{{return a$}},takeLeft:()=>{{return i$}},tail:()=>{{return s$}},splitAt:()=>{{return M7}},spanLeft:()=>{{return $3}},sortBy:()=>{{return N3}},sort:()=>{{return q3}},some:()=>{{return Z9}},snoc:()=>{{return NX}},size:()=>{{return o$}},sequence:()=>{{return d0}},separate:()=>{{return U0}},scanRight:()=>{{return p$}},scanLeft:()=>{{return d$}},rotate:()=>{{return w3}},rights:()=>{{return B3}},reverse:()=>{{return z3}},replicate:()=>{{return q7}},reduceWithIndex:()=>{{return R4}},reduceRightWithIndex:()=>{{return s7}},reduceRight:()=>{{return f7}},reduce:()=>{{return O4}},range:()=>{{return CX}},prependW:()=>{{return y$}},prependToAll:()=>{{return TX}},prependAll:()=>{{return F7}},prepend:()=>{{return h$}},partitionWithIndex:()=>{{return N4}},partitionMapWithIndex:()=>{{return T4}},partitionMap:()=>{{return _7}},partition:()=>{{return l7}},of:()=>{{return e}},modifyAt:()=>{{return S7}},matchW:()=>{{return w7}},matchRightW:()=>{{return T7}},matchRight:()=>{{return A7}},matchLeftW:()=>{{return U7}},matchLeft:()=>{{return N7}},match:()=>{{return m$}},mapWithIndex:()=>{{return c7}},map:()=>{{return _0}},makeBy:()=>{{return K7}},lookup:()=>{{return r$}},let:()=>{{return BX}},lefts:()=>{{return K3}},last:()=>{{return f$}},isOutOfBound:()=>{{return l0}},isNonEmpty:()=>{{return q}},isEmpty:()=>{{return t}},intersperse:()=>{{return C3}},intersection:()=>{{return z4}},intercalate:()=>{{return VX}},insertAt:()=>{{return G3}},init:()=>{{return t$}},head:()=>{{return n$}},guard:()=>{{return s3}},getUnionSemigroup:()=>{{return e7}},getUnionMonoid:()=>{{return y3}},getShow:()=>{{return k3}},getSemigroup:()=>{{return i7}},getOrd:()=>{{return h3}},getMonoid:()=>{{return b3}},getIntersectionSemigroup:()=>{{return u3}},getEq:()=>{{return x3}},getDifferenceMagma:()=>{{return c3}},fromPredicate:()=>{{return c$}},fromOptionK:()=>{{return O3}},fromOption:()=>{{return v7}},fromEitherK:()=>{{return DX}},fromEither:()=>{{return C7}},foldRight:()=>{{return _$}},foldMapWithIndex:()=>{{return n7}},foldMap:()=>{{return r7}},foldLeft:()=>{{return l$}},flatten:()=>{{return F3}},flatMap:()=>{{return E}},flap:()=>{{return m3}},findLastMap:()=>{{return D3}},findLastIndex:()=>{{return P3}},findLast:()=>{{return j3}},findIndex:()=>{{return H3}},findFirstMap:()=>{{return Z3}},findFirst:()=>{{return J3}},filterWithIndex:()=>{{return o7}},filterMapWithIndex:()=>{{return w4}},filterMap:()=>{{return U4}},filterE:()=>{{return jX}},filter:()=>{{return m7}},extend:()=>{{return A4}},exists:()=>{{return GX}},every:()=>{{return PX}},empty:()=>{{return wX}},elem:()=>{{return V4}},duplicate:()=>{{return M3}},dropRight:()=>{{return Q3}},dropLeftWhile:()=>{{return Y3}},dropLeft:()=>{{return X3}},difference:()=>{{return B4}},deleteAt:()=>{{return L3}},copy:()=>{{return U}},cons:()=>{{return UX}},concatW:()=>{{return E7}},concat:()=>{{return S3}},comprehension:()=>{{return R3}},compact:()=>{{return w0}},chunksOf:()=>{{return A3}},chop:()=>{{return T3}},chainWithIndex:()=>{{return O7}},chainRecDepthFirst:()=>{{return YX}},chainRecBreadthFirst:()=>{{return JX}},chainFirst:()=>{{return o3}},chain:()=>{{return vX}},bindTo:()=>{{return zX}},bind:()=>{{return KX}},array:()=>{{return AX}},appendW:()=>{{return u$}},append:()=>{{return V1}},apSecond:()=>{{return d3}},apS:()=>{{return qX}},apFirst:()=>{{return _3}},ap:()=>{{return u7}},altW:()=>{{return d7}},alt:()=>{{return p7}},Zero:()=>{{return $9}},Witherable:()=>{{return X9}},Unfoldable:()=>{{return n3}},URI:()=>{{return V}},TraversableWithIndex:()=>{{return QX}},Traversable:()=>{{return M4}},Pointed:()=>{{return a7}},Monad:()=>{{return r3}},FunctorWithIndex:()=>{{return l3}},Functor:()=>{{return C1}},FromEither:()=>{{return Q9}},FoldableWithIndex:()=>{{return XX}},Foldable:()=>{{return $X}},FilterableWithIndex:()=>{{return a3}},Filterable:()=>{{return e3}},Extend:()=>{{return i3}},Do:()=>{{return LX}},Compactable:()=>{{return F4}},ChainRecDepthFirst:()=>{{return HX}},ChainRecBreadthFirst:()=>{{return ZX}},Chain:()=>{{return g4}},Apply:()=>{{return w1}},Applicative:()=>{{return p3}},Alternative:()=>{{return t3}},Alt:()=>{{return f3}}});function Y5($){var X=b($);return function(Q){return function(Y){return X(Y,Q)}}}function b($){return function(X,Q){return $.chain(X,function(Y){return $.map(Q(Y),function(){return Y})})}}function r($){return function(X,Q){return function(Y){return $.chain(Y,function(H){return $.map(Q(H),function(J){var j;return Object.assign({},H,(j={},j[X]=J,j))})})}}}function Q1($){return function(X){return D(X,$.fromEither)}}function J5($,X){var Q=Q1($),Y=b(X);return function(H,J){return Y(H,Q(J))}}var Y1={};s0(Y1,{tuple:()=>{{return j5}},struct:()=>{{return Z5}},strictEqual:()=>{{return V$}},getTupleEq:()=>{{return P$}},getStructEq:()=>{{return G$}},getSemigroup:()=>{{return G5}},getMonoid:()=>{{return D$}},fromEquals:()=>{{return n}},eqString:()=>{{return B$}},eqStrict:()=>{{return f}},eqNumber:()=>{{return K$}},eqDate:()=>{{return q$}},eqBoolean:()=>{{return z$}},eq:()=>{{return L$}},contramap:()=>{{return D5}},URI:()=>{{return P5}},Contravariant:()=>{{return V5}}});var n=function($){return{equals:function(X,Q){return X===Q||$(X,Q)}}},Z5=function($){return n(function(X,Q){for(var Y in $)if(!$[Y].equals(X[Y],Q[Y]))return!1;return!0})},j5=function(){var $=[];for(var X=0;X<arguments.length;X++)$[X]=arguments[X];return n(function(Q,Y){return $.every(function(H,J){return H.equals(Q[J],Y[J])})})},Z$=function($,X){return Z($,D5(X))},D5=function($){return function(X){return n(function(Q,Y){return X.equals($(Q),$(Y))})}},P5="Eq",f={equals:function($,X){return $===X}},j$={equals:function(){return!0}},G5=function(){return{concat:function($,X){return n(function(Q,Y){return $.equals(Q,Y)&&X.equals(Q,Y)})}}},D$=function(){return{concat:G5().concat,empty:j$}},V5={URI:P5,contramap:Z$},P$=j5,G$=Z5,V$=f.equals,L$=V5,z$=f,B$=f,K$=f,q$={equals:function($,X){return $.valueOf()===X.valueOf()}};var w$=function($,X){return $<X?-1:$>X?1:0},v$=function($){return function(X,Q){return X===Q||$(X,Q)===0}},H1=function($){return{equals:v$($),compare:function(X,Q){return X===Q?0:$(X,Q)}}};var C$=function(){return{concat:function($,X){return H1(function(Q,Y){var H=$.compare(Q,Y);return H!==0?H:X.compare(Q,Y)})}}},L5=function(){return{concat:C$().concat,empty:H1(function(){return 0})}};var z5=function($){return function(X,Q){return X===Q||$.compare(X,Q)<1?X:Q}},y0=function($){return function(X,Q){return X===Q||$.compare(X,Q)>-1?X:Q}};var jQ={equals:f.equals,compare:w$};var B5=function($){return function(X){return function(Q){return Q.reduce(function(Y,H){return $.concat(Y,H)},X)}}};var x1=function($){return{concat:z5($)}},h1=function($){return{concat:y0($)}},T$=function($){return{concat:function(){return $}}};var K5=function(){return{concat:C}};var q5=B5,v5=T$(void 0);var C5={concat:function($,X){return $&&X}},w5={concat:function($,X){return $||X}};var U5={concat:function($,X){return $+X}},N5={concat:function($,X){return $+X}},T5={concat:function($,X){return $*X}};var S$=function($,X,Q){if(Q||arguments.length===2){for(var Y=0,H=X.length,J;Y<H;Y++)if(J||!(Y in X)){if(!J)J=Array.prototype.slice.call(X,0,Y);J[Y]=X[Y]}}return $.concat(J||Array.prototype.slice.call(X))},A5=b0,G0=Z0,O5=function($,X){return $<0||$>=X.length},R5=function($){return function(X){return S$([$],X,!0)}},S5=R5;var W5=function($,X,Q){if(G0(Q)){var Y=a0(Q);return Y.splice($,0,X),Y}return[X]};var g5=function($){return function(X){return X.length===1?X:X.slice().sort($.compare)}};var F5=function($){return function(X){var Q=[$,X[0]];for(var Y=1;Y<X.length;Y++)Q.push($,X[Y]);return Q}},M5=function($){return function(X){var Q=E5(X);return G0(Q)?Z(Q,F5($),S5(V0(X))):X}};var W$=k0;var V0=W$,E5=e0,J1=function($){return $[$.length-1]};var u0=function($){return function(X){return X.reduce($.concat)}};var y1=function($){var X=u0($);return function(Q){return D(M5(Q),X)}};function y5($,X){return X?$.concat(X):function(Q){return Q.concat($)}}function _5($,X){return X===void 0?L0($):Z(X,L0($))}var c1=function($,X,Q){if(Q||arguments.length===2){for(var Y=0,H=X.length,J;Y<H;Y++)if(J||!(Y in X)){if(!J)J=Array.prototype.slice.call(X,0,Y);J[Y]=X[Y]}}return $.concat(J||Array.prototype.slice.call(X))},z0=function($){return $.length>0},m1=function($,X){return $<0||$>=X.length},l1=function($){return function(X){return c1([$],X,!0)}},L0=l1,_1=function($){return function(X){return c1(c1([],X,!0),[$],!1)}},d1=_1,I5=function($,X,Q){if(z0(Q)){var Y=r1(Q);return Y.splice($,0,X),Y}return[X]},k5=function($,X,Q){var Y=r1(Q);return Y[$]=X,Y},p1=function($){return function(X){if(X.length===1)return c0(X);var Q=[B0(X)],Y=K0(X),H=function(O){if(Q.every(function(A){return!$.equals(A,O)}))Q.push(O)};for(var J=0,j=Y;J<j.length;J++){var P=j[J];H(P)}return Q}},b5=function($){if(z0($)){var X=L5();return g$($.reduce(X.concat,X.empty))}return c0},x5=function($){var X=p1($);return function(Q){return function(Y){return X(Z(Y,y5(Q)))}}},o1=function($){return function(X){var Q=X.length,Y=Math.round($)%Q;if(m1(Math.abs(Y),X)||Y===0)return c0(X);if(Y<0){var H=Z1(-Y)(X),J=H[0],j=H[1];return Z(j,y5(J))}else return o1(Y-Q)(X)}},r1=a0;var n1=function($){return function(X){var Q=Math.max(0,Math.floor(X)),Y=[$(0)];for(var H=1;H<Q;H++)Y.push($(H));return Y}};var h5=function($,X){return $<=X?n1(function(Q){return $+Q})(X-$+1):[$]};var g$=function($){return function(X){return X.slice().sort($.compare)}};var c0=r1,u5=function($){return[$]};var f1=function($){return function(X){var Q=[$,X[0]];for(var Y=1;Y<X.length;Y++)Q.push($,X[Y]);return Q}},c5=function($){return function(X){var Q=K0(X);return z0(Q)?Z(Q,f1($),L0(B0(X))):c0(X)}};var s1=function($){return function(X){var Q=$(X),Y=Q[0],H=Q[1],J=[Y],j=H;while(z0(j)){var P=$(j),O=P[0],A=P[1];J.push(O),j=A}return J}},Z1=function($){return function(X){var Q=Math.max(1,$);return Q>=X.length?[c0(X),[]]:[Z(X.slice(1,Q),L0(B0(X))),X.slice(Q)]}},m5=function($){return s1(Z1($))};var B0=V0,K0=function($){return $.slice(1)},l5=J1,t1=function($){return $.slice(0,-1)};var d5=function($,X){return Z($,d1(X))};var p5={equals:function($,X){return $===X}},m={equals:p5.equals,compare:function($,X){return $<X?-1:$>X?1:0}},AQ={equals:p5.equals,compare:m.compare,top:Infinity,bottom:(-Infinity)};var M$={concat:function($,X){return $-X}},o5={concat:function($,X){return $+X}},r5={concat:function($,X){return $*X}},n5={concat:o5.concat,empty:0},f5={concat:r5.concat,empty:1},OQ={add:o5.concat,zero:0,mul:r5.concat,one:1,sub:M$.concat,degree:function($){return 1},div:function($,X){return $/X},mod:function($,X){return $%X}};var j1=function($,X){return{left:$,right:X}};function s5($,X){return function(Q){var Y=$.traverse(Q);return function(H,J){return Q.map(Y(H,J),X.separate)}}}function t5($,X){return function(Q){var Y=$.traverse(Q);return function(H,J){return Q.map(Y(H,J),X.compact)}}}function i5($){return function(X){var Q=$.wither(X);return function(Y){return function(H){return Q(H,function(J){return X.map(Y(J),function(j){return j?L(J):G})})}}}}function e5($,X){return function(Q){return Q?X.of(void 0):$.zero()}}function m0($,X){return X===void 0?function(Q){return m0($,Q)}:e1($,X)?G:L(X[$])}function D1($){return function(X){var Q=[];for(var Y=0,H=X;Y<H.length;Y++){var J=H[Y];if(!$(J))break;Q.push(J)}var j=Q.length;return j===X.length?X:j===0?P4:Q}}function $4($){return function(X){var Q=x$(X,$);return Q===0?X:Q===X.length?P4:X.slice(Q)}}function $7($){return function(X){for(var Q=0;Q<X.length;Q++)if($(X[Q]))return L(X[Q]);return G}}function Q7($){return function(X){for(var Q=X.length-1;Q>=0;Q--)if($(X[Q]))return L(X[Q]);return G}}function P1($){return function(X,Q){if(Q===void 0){var Y=P1($);return function(j){return Y(X,j)}}var H=function(j){return $.equals(j,X)},J=0;for(;J<Q.length;J++)if(H(Q[J]))return!0;return!1}}function G1($){return function(X){return X.every($)}}var I$=function($,X,Q){if(Q||arguments.length===2){for(var Y=0,H=X.length,J;Y<H;Y++)if(J||!(Y in X)){if(!J)J=Array.prototype.slice.call(X,0,Y);J[Y]=X[Y]}}return $.concat(J||Array.prototype.slice.call(X))};var i1=G0;var k$=function($,X){return function(Q){return i1(Q)?X(Q):$()}},b$=k$;var e1=O5,a1=function($){return i1($)?L(V0($)):G},a5=function($){return i1($)?L(J1($)):G};var x$=function($,X){var Q=$.length,Y=0;for(;Y<Q;Y++)if(!X($[Y]))break;return Y};var X4=function($){return function(X){for(var Q=0;Q<X.length;Q++)if($(X[Q]))return L(Q);return G}},X7=function($){return function(X){for(var Q=0;Q<X.length;Q++){var Y=$(X[Q]);if(k(Y))return Y}return G}},Y7=function($){return function(X){for(var Q=X.length-1;Q>=0;Q--){var Y=$(X[Q]);if(k(Y))return Y}return G}},H7=function($){return function(X){for(var Q=X.length-1;Q>=0;Q--)if($(X[Q]))return L(Q);return G}},J7=function($,X){return function(Q){return $<0||$>Q.length?G:L(W5($,X,Q))}};var Z7=function($){return function(X){return e1($,X)?G:L(z7($,X))}};var s=function($){return $.length<=1?$:$.slice().reverse()};var j7=function($,X){return Z($,j4(X))},D7=function($,X){return Z($,D4(X))};var Q4=function($){return function(X){return function(Q){return Q.reduce(function(Y,H,J){return $.concat(Y,X(J,H))},$.empty)}}},Y4=function($,X){return H4($,function(Q,Y,H){return X(Y,H)})},P7=function($){var X=Q4($);return function(Q){return X(function(Y,H){return Q(H)})}},H4=function($,X){return function(Q){var Y=Q.length,H=$;for(var J=0;J<Y;J++)H=X(J,H,Q[J]);return H}},G7=function($,X){return J4($,function(Q,Y,H){return X(Y,H)})},J4=function($,X){return function(Q){return Q.reduceRight(function(Y,H,J){return X(J,H,Y)},$)}};var V7=function($){return{show:function(X){return"[".concat(X.map($.show).join(", "),"]")}}};var Z4=function($){return n(function(X,Q){return X.length===Q.length&&X.every(function(Y,H){return $.equals(Y,Q[H])})})},L7=function($){return H1(function(X,Q){var Y=X.length,H=Q.length,J=Math.min(Y,H);for(var j=0;j<J;j++){var P=$.compare(X[j],Q[j]);if(P!==0)return P}return m.compare(Y,H)})};var j4=function($){return function(X){var Q=I$([],$(X),!0),Y=[];while(Q.length>0){var H=Q.shift();if(J0(H))Q.unshift.apply(Q,$(H.left));else Y.push(H.right)}return Y}};var D4=function($){return function(X){var Q=$(X),Y=[],H=[];function J(A){if(J0(A))$(A.left).forEach(function(E0){return Y.push(E0)});else H.push(A.right)}for(var j=0,P=Q;j<P.length;j++){var O=P[j];J(O)}while(Y.length>0)J(Y.shift());return H}};var z7=function($,X){var Q=X.slice();return Q.splice($,1),Q};var P4=A5;var B7=function($){var X=y1($);return function(Q){return b$(function(){return $.empty},X(Q))}};function c$($){return function(X){return $(X)?[X]:[]}}function a$($){return function(X){var Q=[];for(var Y=0,H=X;Y<H.length;Y++){var J=H[Y];if(!$(J))break;Q.push(J)}return Q}}function $3($){return function(X){var Q=M7(R7(X,$))(X),Y=Q[0],H=Q[1];return{init:Y,rest:H}}}function Y3($){return function(X){return X.slice(R7(X,$))}}function J3($){return $7($)}function j3($){return Q7($)}function g7($,X){if(X===void 0)return function(Q){return g7(Q,$)};return W7($,X,function(Q,Y){return[Q,Y]})}function R3($,X,Q){if(Q===void 0)Q=function(){return!0};var Y=function(H,J){return q(J)?E(B0(J),function(j){return Y(Z(H,V1(j)),K0(J))}):Q.apply(void 0,H)?[X.apply(void 0,H)]:[]};return Y([],$)}function L4($){var X=x5($);return function(Q,Y){if(Y===void 0){var H=L4($);return function(J){return H(J,Q)}}return q(Q)&&q(Y)?X(Y)(Q):q(Q)?U(Q):U(Y)}}function z4($){var X=V4($);return function(Q,Y){if(Y===void 0){var H=z4($);return function(J){return H(J,Q)}}return Q.filter(function(J){return X(J,Y)})}}function B4($){var X=V4($);return function(Q,Y){if(Y===void 0){var H=B4($);return function(J){return H(J,Q)}}return Q.filter(function(J){return!X(J,Y)})}}var t=function($){return $.length===0},q=z0,h$=L0,y$=l1,V1=d1,u$=_1,K7=function($,X){return $<=0?[]:n1(X)($)},q7=function($,X){return K7($,function(){return X})},v7=function($){return i0($)?[]:[$.value]},C7=function($){return J0($)?[]:[$.right]},w7=function($,X){return function(Q){return q(Q)?X(Q):$()}},m$=w7,U7=function($,X){return function(Q){return q(Q)?X(B0(Q),K0(Q)):$()}},N7=U7,l$=N7,T7=function($,X){return function(Q){return q(Q)?X(t1(Q),l5(Q)):$()}},A7=T7,_$=A7,O7=function($){return function(X){var Q=[];for(var Y=0;Y<X.length;Y++)Q.push.apply(Q,$(Y,X[Y]));return Q}},d$=function($,X){return function(Q){var Y=Q.length,H=new Array(Y+1);H[0]=$;for(var J=0;J<Y;J++)H[J+1]=X(H[J],Q[J]);return H}},p$=function($,X){return function(Q){var Y=Q.length,H=new Array(Y+1);H[Y]=$;for(var J=Y-1;J>=0;J--)H[J]=X(Q[J],H[J+1]);return H}},o$=function($){return $.length},l0=m1,r$=m0,n$=a1,f$=a5,s$=function($){return q($)?L(K0($)):G},t$=function($){return q($)?L(t1($)):G},i$=function($){return function(X){return l0($,X)?U(X):X.slice(0,$)}},e$=function($){return function(X){return l0($,X)?U(X):$===0?[]:X.slice(-$)}},R7=function($,X){var Q=$.length,Y=0;for(;Y<Q;Y++)if(!X($[Y]))break;return Y},X3=function($){return function(X){return $<=0||t(X)?U(X):$>=X.length?[]:X.slice($,X.length)}},Q3=function($){return function(X){return $<=0||t(X)?U(X):$>=X.length?[]:X.slice(0,X.length-$)}},H3=X4,Z3=X7,D3=Y7,P3=H7,U=function($){return $.slice()},G3=function($,X){return function(Q){return $<0||$>Q.length?G:L(Y9($,X,Q))}},V3=function($,X){return S7($,function(){return X})},L3=function($){return function(X){return l0($,X)?G:L(J9($,X))}},S7=function($,X){return function(Q){return l0($,Q)?G:L(H9($,X(Q[$]),Q))}},z3=function($){return t($)?[]:$.slice().reverse()},B3=function($){var X=[];for(var Q=0;Q<$.length;Q++){var Y=$[Q];if(Y._tag==="Right")X.push(Y.right)}return X},K3=function($){var X=[];for(var Q=0;Q<$.length;Q++){var Y=$[Q];if(Y._tag==="Left")X.push(Y.left)}return X},q3=function($){return function(X){return X.length<=1?U(X):X.slice().sort($.compare)}},W7=function($,X,Q){var Y=[],H=Math.min($.length,X.length);for(var J=0;J<H;J++)Y[J]=Q($[J],X[J]);return Y},v3=function($){var X=[],Q=[];for(var Y=0;Y<$.length;Y++)X[Y]=$[Y][0],Q[Y]=$[Y][1];return[X,Q]},F7=function($){var X=f1($);return function(Q){return q(Q)?X(Q):[]}},C3=function($){var X=c5($);return function(Q){return q(Q)?X(Q):U(Q)}},w3=function($){var X=o1($);return function(Q){return q(Q)?X(Q):U(Q)}},V4=P1,U3=function($){var X=p1($);return function(Q){return q(Q)?X(Q):U(Q)}},N3=function($){var X=b5($);return function(Q){return q(Q)?X(Q):U(Q)}},T3=function($){var X=s1($);return function(Q){return q(Q)?X(Q):[]}},M7=function($){return function(X){return $>=1&&q(X)?Z1($)(X):t(X)?[U(X),[]]:[[],U(X)]}},A3=function($){var X=m5($);return function(Q){return q(Q)?X(Q):[]}},O3=function($){return function(){var X=[];for(var Q=0;Q<arguments.length;Q++)X[Q]=arguments[Q];return v7($.apply(void 0,X))}},E7=function($){return function(X){return t(X)?U($):t($)?U(X):X.concat($)}},S3=E7,w=function($,X){return Z($,_0(X))},L1=function($,X){return Z($,c7(X))},l=function($,X){return Z($,u7(X))},z1=function($,X){return Z($,m7(X))},B1=function($,X){return Z($,U4(X))},K1=function($,X){return Z($,l7(X))},q1=function($,X){return Z($,_7(X))},I7=function($,X){return Z($,N4(X))},k7=function($,X){return Z($,T4(X))},K4=function($,X){return Z($,p7(X))},i=function($,X,Q){return Z($,O4(X,Q))},q0=function($){var X=r7($);return function(Q,Y){return Z(Q,X(Y))}},v0=function($,X,Q){return Z($,f7(X,Q))},q4=function($,X,Q){return Z($,R4(X,Q))},v4=function($){var X=n7($);return function(Q,Y){return Z(Q,X(Y))}},C4=function($,X,Q){return Z($,s7(X,Q))},b7=function($,X){return Z($,w4(X))},x7=function($,X){return Z($,o7(X))},h7=function($,X){return Z($,A4(X))},v1=function($){var X=t7($);return function(Q,Y){return Z(Q,X(Y))}},y7=function($){var X=S4($);return function(Q,Y){return Z(Q,X(Y))}},W3=j7,g3=D7,e=u5,C0=function(){return[]},_0=function($){return function(X){return X.map(function(Q){return $(Q)})}},u7=function($){return E(function(X){return Z($,_0(X))})},E=v(2,function($,X){return Z($,O7(function(Q,Y){return X(Y,Q)}))}),F3=E(C),c7=function($){return function(X){return X.map(function(Q,Y){return $(Y,Q)})}},w4=function($){return function(X){var Q=[];for(var Y=0;Y<X.length;Y++){var H=$(Y,X[Y]);if(k(H))Q.push(H.value)}return Q}},U4=function($){return w4(function(X,Q){return $(Q)})},w0=U4(C),U0=function($){var X=[],Q=[];for(var Y=0,H=$;Y<H.length;Y++){var J=H[Y];if(J._tag==="Left")X.push(J.left);else Q.push(J.right)}return j1(X,Q)},m7=function($){return function(X){return X.filter($)}},l7=function($){return N4(function(X,Q){return $(Q)})},N4=function($){return function(X){var Q=[],Y=[];for(var H=0;H<X.length;H++){var J=X[H];if($(H,J))Y.push(J);else Q.push(J)}return j1(Q,Y)}},_7=function($){return T4(function(X,Q){return $(Q)})},T4=function($){return function(X){var Q=[],Y=[];for(var H=0;H<X.length;H++){var J=$(H,X[H]);if(J._tag==="Left")Q.push(J.left);else Y.push(J.right)}return j1(Q,Y)}},d7=function($){return function(X){return X.concat($())}},p7=d7,o7=function($){return function(X){return X.filter(function(Q,Y){return $(Y,Q)})}},A4=function($){return function(X){return X.map(function(Q,Y){return $(X.slice(Y))})}},M3=A4(C),r7=P7,n7=Q4,O4=Y4,R4=H4,f7=G7,s7=J4,t7=function($){var X=S4($);return function(Q){return X(function(Y,H){return Q(H)})}},d0=function($){return function(X){return i(X,$.of(C0()),function(Q,Y){return $.ap($.map(Q,function(H){return function(J){return Z(H,V1(J))}}),Y)})}},S4=function($){return function(X){return R4($.of(C0()),function(Q,Y,H){return $.ap($.map(Y,function(J){return function(j){return Z(J,V1(j))}}),X(Q,H))})}},E3=function($){var X=E4($);return function(Q){return function(Y){return X(Y,Q)}}},I3=function($){var X=I4($);return function(Q){return function(Y){return X(Y,Q)}}},W4=function($,X){var Q=[],Y=$;while(!0){var H=X(Y);if(k(H)){var J=H.value,j=J[0],P=J[1];Q.push(j),Y=P}else break}return Q},V="Array",k3=V7,i7=function(){return{concat:function($,X){return $.concat(X)}}},b3=function(){return{concat:i7().concat,empty:[]}},x3=Z4,h3=L7,e7=function($){var X=L4($);return{concat:function(Q,Y){return X(Y)(Q)}}},y3=function($){return{concat:e7($).concat,empty:[]}},u3=function($){var X=z4($);return{concat:function(Q,Y){return X(Y)(Q)}}},c3=function($){var X=B4($);return{concat:function(Q,Y){return X(Y)(Q)}}},C1={URI:V,map:w},m3=x0(C1),a7={URI:V,of:e},l3={URI:V,map:w,mapWithIndex:L1},w1={URI:V,map:w,ap:l},_3=j0(w1),d3=D0(w1),p3={URI:V,map:w,ap:l,of:e},g4={URI:V,map:w,ap:l,chain:E},o3=Y5(g4),r3={URI:V,map:w,ap:l,of:e,chain:E},n3={URI:V,unfold:W4},f3={URI:V,map:w,alt:K4},$9={URI:V,zero:C0},s3=e5($9,a7),t3={URI:V,map:w,ap:l,of:e,alt:K4,zero:C0},i3={URI:V,map:w,extend:h7},F4={URI:V,compact:w0,separate:U0},e3={URI:V,map:w,compact:w0,separate:U0,filter:z1,filterMap:B1,partition:K1,partitionMap:q1},a3={URI:V,map:w,mapWithIndex:L1,compact:w0,separate:U0,filter:z1,filterMap:B1,partition:K1,partitionMap:q1,partitionMapWithIndex:k7,partitionWithIndex:I7,filterMapWithIndex:b7,filterWithIndex:x7},$X={URI:V,reduce:i,foldMap:q0,reduceRight:v0},XX={URI:V,reduce:i,foldMap:q0,reduceRight:v0,reduceWithIndex:q4,foldMapWithIndex:v4,reduceRightWithIndex:C4},M4={URI:V,map:w,reduce:i,foldMap:q0,reduceRight:v0,traverse:v1,sequence:d0},QX={URI:V,map:w,mapWithIndex:L1,reduce:i,foldMap:q0,reduceRight:v0,reduceWithIndex:q4,foldMapWithIndex:v4,reduceRightWithIndex:C4,traverse:v1,sequence:d0,traverseWithIndex:y7},E4=t5(M4,F4),I4=s5(M4,F4),X9={URI:V,map:w,compact:w0,separate:U0,filter:z1,filterMap:B1,partition:K1,partitionMap:q1,reduce:i,foldMap:q0,reduceRight:v0,traverse:v1,sequence:d0,wither:E4,wilt:I4},YX=j4,HX={URI:V,map:w,ap:l,chain:E,chainRec:W3},JX=D4,ZX={URI:V,map:w,ap:l,chain:E,chainRec:g3},jX=i5(X9),Q9={URI:V,fromEither:C7},DX=Q1(Q9),Y9=I5,H9=function($,X,Q){return q(Q)?k5($,X,Q):[]},J9=function($,X){var Q=X.slice();return Q.splice($,1),Q},PX=G1,Z9=function($){return function(X){return X.some($)}},GX=Z9,VX=B7,LX=e(u),zX=p(C1),BX=o(C1);var KX=r(g4),qX=P0(w1),vX=E,CX=h5,wX=[],UX=_5,NX=d5,TX=F7,AX={URI:V,compact:w0,separate:U0,map:w,ap:l,of:e,chain:E,filter:z1,filterMap:B1,partition:K1,partitionMap:q1,mapWithIndex:L1,partitionMapWithIndex:k7,partitionWithIndex:I7,filterMapWithIndex:b7,filterWithIndex:x7,alt:K4,zero:C0,unfold:W4,reduce:i,foldMap:q0,reduceRight:v0,traverse:v1,sequence:d0,reduceWithIndex:q4,foldMapWithIndex:v4,reduceRightWithIndex:C4,traverseWithIndex:y7,extend:h7,wither:E4,wilt:I4};var x=function($){return function(X){return!$(X)}};function $0($){return function(X){return $(X)?a(X):h}}var h=G,a=L;var OX=function($){return $._tag==="Left"?h:a($.right)},j9=function($,X){return Z($,R(X))},RX=function($,X){return Z($,SX(X))};var k4="Option";var D9=function($){return{concat:function(X,Q){return _(X)?Q:_(Q)?X:a($.concat(X.value,Q.value))},empty:h}},R=function($){return function(X){return _(X)?h:a($(X.value))}},P9={URI:k4,map:j9},jY=v(2,h0(P9)),DY=X1(P9);var SX=function($){return function(X){return _(X)?h:_($)?h:a(X.value($.value))}};var G9=v(2,function($,X){return _($)?h:X($.value)}),V9={URI:k4,map:j9,ap:RX,chain:G9};var PY=v(2,function($,X){return _($)?X():$});var WX=OX,gX={URI:k4,fromEither:WX},L9=k,_=function($){return $._tag==="None"};var FX=function($){return function(X){return _(X)?$():X.value}},b4=FX;var GY=v(2,b(V9)),VY=v(2,J5(gX,V9));var U1=G9;var MX=function(){return{concat:function($,X){return D($,X)}}},z9=function(){return{concat:MX().concat,empty:C}};function B9($){return function(X){return D(X,$.fromIO)}}function K9($,X){var Q=b(X);return function(Y,H){return Q(Y,D(H,$.fromIO))}}function q9($){return function(X,Q){if(Q===void 0){var Y=q9($);return function(A){return Y(X,A)}}var H=Q.entries(),J;while(!(J=H.next()).done){var j=J.value,P=j[0],O=j[1];if($.equals(P,X))return L([P,O])}return G}}function x4($){var X=q9($);return function(Q,Y){if(Y===void 0){var H=x4($);return function(J){return H(Q,J)}}return Z(X(Q,Y),R(function(J){var j=J[0],P=J[1];return P}))}}var v9=x4;var N0=function($){return q5($)($.empty)},cY={concat:v5.concat,empty:void 0};var mY={concat:C5.concat,empty:!0},lY={concat:w5.concat,empty:!1};var _Y={concat:U5.concat,empty:""},dY={concat:N5.concat,empty:0},pY={concat:T5.concat,empty:1};var y={};s0(y,{traverseSeqArrayWithIndex:()=>{{return J8}},traverseSeqArray:()=>{{return g9}},traverseReadonlyNonEmptyArrayWithIndexSeq:()=>{{return S9}},traverseReadonlyNonEmptyArrayWithIndex:()=>{{return R9}},traverseReadonlyArrayWithIndexSeq:()=>{{return m4}},traverseReadonlyArrayWithIndex:()=>{{return c4}},traverseArrayWithIndex:()=>{{return Y8}},traverseArray:()=>{{return W9}},taskSeq:()=>{{return G8}},task:()=>{{return P8}},tapIO:()=>{{return A9}},tap:()=>{{return T9}},sequenceSeqArray:()=>{{return Z8}},sequenceArray:()=>{{return H8}},of:()=>{{return W}},never:()=>{{return O9}},map:()=>{{return y4}},let:()=>{{return $8}},getSemigroup:()=>{{return V8}},getRaceMonoid:()=>{{return xX}},getMonoid:()=>{{return L8}},fromTask:()=>{{return p0}},fromIOK:()=>{{return fX}},fromIO:()=>{{return X0}},flatten:()=>{{return bX}},flatMapIO:()=>{{return N9}},flatMap:()=>{{return g}},flap:()=>{{return uX}},delay:()=>{{return kX}},chainIOK:()=>{{return sX}},chainFirstIOK:()=>{{return tX}},chainFirst:()=>{{return D8}},chain:()=>{{return j8}},bindTo:()=>{{return aX}},bind:()=>{{return X8}},asUnit:()=>{{return yX}},as:()=>{{return hX}},apSecond:()=>{{return lX}},apS:()=>{{return Q8}},apFirst:()=>{{return mX}},ap:()=>{{return C9}},URI:()=>{{return N}},Pointed:()=>{{return cX}},MonadTask:()=>{{return oX}},MonadIO:()=>{{return pX}},Monad:()=>{{return dX}},Functor:()=>{{return T0}},FromTask:()=>{{return iX}},FromIO:()=>{{return O1}},Do:()=>{{return eX}},Chain:()=>{{return A1}},ApplySeq:()=>{{return w9}},ApplyPar:()=>{{return T1}},ApplicativeSeq:()=>{{return U9}},ApplicativePar:()=>{{return _X}},ApT:()=>{{return u4}}});function kX($){return function(X){return function(){return new Promise(function(Q){setTimeout(function(){Promise.resolve().then(X).then(Q)},$)})}}}function xX(){return{concat:function($,X){return function(){return Promise.race([Promise.resolve().then($),Promise.resolve().then(X)])}},empty:O9}}var X0=function($){return function(){return Promise.resolve().then($)}},S=function($,X){return Z($,y4(X))},Q0=function($,X){return Z($,C9(X))},h4=function($,X){return g($,function(Q){return Z(X,y4(Q))})},y4=function($){return function(X){return function(){return Promise.resolve().then(X).then($)}}},C9=function($){return function(X){return function(){return Promise.all([Promise.resolve().then(X),Promise.resolve().then($)]).then(function(Q){var Y=Q[0],H=Q[1];return Y(H)})}}},W=function($){return function(){return Promise.resolve($)}},g=v(2,function($,X){return function(){return Promise.resolve().then($).then(function(Q){return X(Q)()})}}),bX=g(C),N="Task",T0={URI:N,map:S},hX=v(2,h0(T0)),yX=X1(T0),uX=x0(T0),cX={URI:N,of:W},T1={URI:N,map:S,ap:Q0},mX=j0(T1),lX=D0(T1),_X={URI:N,map:S,ap:Q0,of:W},w9={URI:N,map:S,ap:h4},U9={URI:N,map:S,ap:h4,of:W},A1={URI:N,map:S,ap:Q0,chain:g},dX={URI:N,map:S,of:W,ap:Q0,chain:g},pX={URI:N,map:S,of:W,ap:Q0,chain:g,fromIO:X0},p0=C,oX={URI:N,map:S,of:W,ap:Q0,chain:g,fromIO:X0,fromTask:p0},O1={URI:N,fromIO:X0},rX={flatMap:g},nX={fromIO:O1.fromIO},N9=X5(nX,rX),T9=v(2,b(A1)),A9=v(2,K9(O1,A1)),fX=B9(O1),sX=N9,tX=A9,iX={URI:N,fromIO:X0,fromTask:p0},O9=function(){return new Promise(function($){return})},eX=W(u),aX=p(T0),$8=o(T0);var X8=r(A1),Q8=P0(T1),u4=W(b0),R9=function($){return function(X){return function(){return Promise.all(X.map(function(Q,Y){return Promise.resolve().then(function(){return $(Y,Q)()})}))}}},c4=function($){var X=R9($);return function(Q){return Z0(Q)?X(Q):u4}},S9=function($){return function(X){return function(){return e0(X).reduce(function(Q,Y,H){return Q.then(function(J){return Promise.resolve().then($(H+1,Y)).then(function(j){return J.push(j),J})})},Promise.resolve().then($(0,k0(X))).then(b1))}}},m4=function($){var X=S9($);return function(Q){return Z0(Q)?X(Q):u4}},Y8=c4,W9=function($){return c4(function(X,Q){return $(Q)})},H8=W9(C),J8=m4,g9=function($){return m4(function(X,Q){return $(Q)})},Z8=g9(C),j8=g,D8=T9,P8={URI:N,map:S,of:W,ap:Q0,chain:g,fromIO:X0,fromTask:p0},G8={URI:N,map:S,of:W,ap:h4,chain:g,fromIO:X0,fromTask:p0},V8=$1(w9),L8=Q5(U9);var I={};s0(I,{trimRight:()=>{{return T8}},trimLeft:()=>{{return N8}},trim:()=>{{return U8}},toUpperCase:()=>{{return v8}},toLowerCase:()=>{{return C8}},startsWith:()=>{{return I9}},split:()=>{{return o0}},slice:()=>{{return R1}},size:()=>{{return A8}},replace:()=>{{return w8}},isString:()=>{{return q8}},isEmpty:()=>{{return A0}},includes:()=>{{return O8}},endsWith:()=>{{return k9}},empty:()=>{{return E9}},Show:()=>{{return K8}},Semigroup:()=>{{return M9}},Ord:()=>{{return B8}},Monoid:()=>{{return z8}},Eq:()=>{{return F9}}});var F9={equals:function($,X){return $===X}},M9={concat:function($,X){return $+X}},E9="",z8={concat:M9.concat,empty:E9},B8={equals:F9.equals,compare:function($,X){return $<X?-1:$>X?1:0}},K8={show:function($){return JSON.stringify($)}},q8=function($){return typeof $==="string"},v8=function($){return $.toUpperCase()},C8=function($){return $.toLowerCase()},w8=function($,X){return function(Q){return Q.replace($,X)}},U8=function($){return $.trim()},N8=function($){return $.trimLeft()},T8=function($){return $.trimRight()},R1=function($,X){return function(Q){return Q.slice($,X)}},A0=function($){return $.length===0},A8=function($){return $.length},o0=function($){return function(X){var Q=X.split($);return G0(Q)?Q:[X]}},O8=function($,X){return function(Q){return Q.includes($,X)}},I9=function($,X){return function(Q){return Q.startsWith($,X)}},k9=function($,X){return function(Q){return Q.endsWith($,X)}};var R8="Function",S8=($)=>(X)=>D(X,$),l4={URI:R8,map:($,X)=>S8(X)($)},b9=d,W8=($)=>(X)=>(Q)=>X(Q)($(Q)),S1={...l4,of:b9,ap:($,X)=>W8(X)($)},D6=j0(S1),P6=D0(S1),g8=($)=>(X)=>(Q)=>$(X(Q))(Q);var F8={...S1,chain:($,X)=>g8(X)($)},G6=b9({}),V6=p(l4),L6=r(F8),z6=P0(S1),B6=o(l4);var W1=t0,x9=($)=>(X)=>(Q)=>Z($,_0(([Y,H])=>D($0(Y),R(H))),N0(i4(D9(K5()))()),e4(Q),b4(()=>X(Q)));var M8=($)=>(X)=>(Q)=>$(Q)?Q:X(Q),E8=D(x,M8);var O0=($)=>(X)=>(Q)=>Q[$](...X),K6=H0(O0)([]);var h9=($)=>(X)=>{const Q=new Map;return(Y)=>{const H=v9($)(Y)(Q);if(L9(H))return H.value;const J=X(Y);return Q.set(Y,J),J}},I8=($)=>(X)=>(Q)=>$([X,Q]),q6=D(W1,I8),k8=($)=>(X)=>(Q)=>(Y)=>$([X,Q,Y]),v6=D(W1,k8),b8=($)=>(X)=>(Q)=>(Y)=>(H)=>$([X,Q,Y,H]),C6=D(W1,b8),x8=($)=>(X)=>(Q)=>(Y)=>(H)=>(J)=>$([X,Q,Y,H,J]),w6=D(W1,x8);var U6=N0(z9());var y9=($)=>x9($);var F=($)=>async(X)=>$(await X),u9=($)=>(X)=>(Q)=>Q[$]===X;var r0=($)=>(X)=>D(B.chunksOf($),B.map(X),(Q)=>Promise.all(Q),F(B.flatten));var c9=($)=>Z($,t0,h9(Y1.contramap(JSON.stringify)(I.Eq)),$5);var m9;(function(g1){let $;(function(R0){R0.start=d({before:"start"}),R0.fromUri=(J)=>({before:{uri:J}}),R0.fromUid=(J)=>({before:{uid:J}})})($=g1.before||(g1.before={}));let X;(function(S0){S0.end=d({after:"end"}),S0.fromUri=(J)=>({before:{uri:J}}),S0.fromUid=(J)=>({before:{uid:J}})})(X=g1.after||(g1.after={}))})(m9||(m9={}));var l9=($)=>$.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),Y0=($)=>$.replace(/\b\w/g,(X)=>X.toUpperCase());//! Does location actually point to document.body?
var n0=($,X=1000,Q=document.body,Y)=>new Promise((H)=>{const J=(P)=>{j.disconnect(),H(P)},j=new MutationObserver(()=>{const P=document.querySelector($);if(P&&(!Y||P!==Y))return J(P)});if(j.observe(Q,{childList:!0,subtree:!0}),X)setTimeout(()=>J(null),X)});var F1=($)=>new Promise((X)=>setTimeout(X,$));var{URI:b6}=Spicetify;var _9=async($)=>(await Spicetify.GraphQL.Request(Spicetify.GraphQL.Definitions.queryArtistRelated,{uri:$,locale:Spicetify.Locale.getLocale()})).data.artistUnion.relatedContent.relatedArtists.items;var d9=r0(50)(async($)=>(await Spicetify.CosmosAsync.get(`https://api.spotify.com/v1/artists?ids=${$.join(",")}`)).artists),x6=r0(1)(async([$])=>[await Spicetify.CosmosAsync.get(`https://api.spotify.com/v1/playlists/${$}`)]),h6=r0(50)(async($)=>(await Spicetify.CosmosAsync.get(`https://api.spotify.com/v1/albums?ids=${$.join(",")}`)).albums),y6=r0(50)(async($)=>(await Spicetify.CosmosAsync.get(`https://api.spotify.com/v1/tracks?ids=${$.join(",")}`)).tracks),h8=async($,X)=>Spicetify.CosmosAsync.get(`https://api.spotify.com/v1/search?q=${encodeURIComponent($)}&type=${X.join(",")}`),W0=async($)=>{const X=`The Sound Of ${$}`,Q=new RegExp(`^${l9(X)}\$`,"i"),H=(await h8(X,["playlist"])).playlists.items[0];return H?.owner.id==="thesoundsofspotify"&&Q.test(H.name)?H.uri:null};var _4=async($,X,Q,Y="")=>{const H=new URL("https://ws.audioscrobbler.com/2.0/");return H.searchParams.append("method","track.getInfo"),H.searchParams.append("api_key",$),H.searchParams.append("artist",X),H.searchParams.append("track",Q),H.searchParams.append("format","json"),H.searchParams.append("username",Y),await fetch(H).then((J)=>J.json())},u6=c9(_4);var vH=D(x,($)=>G1($)),M1=($)=>O0("join")([$]);var CH=N0(n5),wH=N0(f5);var UH=D(g5(m),($)=>{const X=$.length/2;return X%1===0?($[X-1]+$[X])/2:$[Math.floor(X)]});var y8=($)=>(X)=>(Q)=>$>=Q.length||X>=Q.length?h:$===X?a(Q):Z(Q,m0($),U1((Y)=>Z(Z7($)(Q),U1(J7(X,Y))))),NH=H0(y8);var p9=($)=>D(s,$4($),s);var o9=($)=>D(s,D1($),s);var TH=D(x1,u0),AH=D(h1,u0);var OH=Array.from;var d4=($)=>(X)=>$+X;var xH=H0(d4);var u8=($)=>R1(0,y0(m)(0,$)),c8=($)=>(X)=>R1(y0(m)(0,X.length-Math.floor($)),Infinity)(X);var E1=($)=>D(o0(""),$,M1("")),hH=E1(s),yH=o0(/\r\n|\r|\n/),uH=M1("\n"),f0=($)=>(X)=>{const Q=$.lastIndex,Y=$.test(X);return $.lastIndex=Q,Y};var m8=($)=>O0("substring")([$]),l8=($)=>(X)=>Z(X,O0("substring")([0,X.length-Math.floor($)]));var cH=D(p9,E1),mH=D($0(x(A0)),R(u8(1))),lH=D($0(x(A0)),R(m8(1))),_H=D($0(x(A0)),R(c8(1))),dH=D($0(x(A0)),R(l8(1)));var pH=D(($)=>D1($),E1),oH=D(o9,E1);var rH=f0(/^\p{Alpha}+$/u),nH=f0(/^(\p{Alpha}|\p{Number})+$/u),fH=f0(/^\p{Lower}+$/u),sH=f0(/^\p{Upper}+$/u),tH=f0(/^\s+$/),iH=o0(/\s/),eH=M1(" ");var{URI:p4}=Spicetify,o4=async({pathname:$})=>{const X=p4.fromString($);if(!p4.isArtist(X))return;const Q=document.createElement("div");Q.className="main-entityHeader-detailsText genre-container",Q.innerHTML=await Z(await r4([`${X}`]),B.takeLeft(5),B.map(async(H)=>{const J=await W0(H);return`<a class="main-entityHeader-genreLink" ${J===null?`href="#" data-value="${H}" onclick="searchPlaylist(this.getAttribute('data-value'))`:`href="${J}"`} style="color: var(--spice-subtext); font-size: 1rem">${Y0(H)}</a>`}),(H)=>Promise.all(H),F(B.intercalate(I.Monoid)("<span>, </span>")),F(d4("<span>Artist Genres : </span>"))),document.querySelector(".genre-container")?.remove(),(await n0("div.main-entityHeader-headerText"))?.insertBefore(Q,await n0("span.main-entityHeader-detailsText"))},r4=async($,X=null)=>{const Q=D(B.map((H)=>p4.fromString(H).id),d9,F(B.flatMap((H)=>H.genres)),F(B.uniq(I.Eq))),Y=await Q($);return Y.length?Y:await Z($[0],_9,F(B.map((H)=>H.uri)),F(B.chunksOf(5)),F(B.reduce(Promise.resolve([]),async(H,J)=>(await H).length?await H:await Q(J))))};var K=k1(n4(),1);var f4=()=>{Spicetify.PopupModal.display({title:`Genres of: ${Spicetify.Player.data.track?.metadata?.title}`,content:K.default.createElement("div",{className:"genres-popup"},F0.length===0?K.default.createElement(K.default.Fragment,null):K.default.createElement(_8,null),g0.length===0?K.default.createElement(K.default.Fragment,null):K.default.createElement(d8,null)),isLarge:!0})};globalThis.genrePopup=f4;var n9=({name:$="",color:X="",onClick:Q=y.of(void 0)})=>K.default.createElement("button",{className:`login-button${X}`,onClick:Q},$),_8=()=>{let[$,X]=K.useState(F0);Spicetify.Player.addEventListener("songchange",()=>setTimeout(()=>X(F0),500));const Q=(Y)=>async()=>{let H=await W0(Y);if(H===null)Spicetify.Platform.History.push(`/search/${Y}/playlists`);else Spicetify.Platform.History.push(`/playlist/${H.split(":")[2]}`);Spicetify.PopupModal.hide()};return K.default.createElement("div",{className:"spaced-down"},K.default.createElement("h1",{className:"title"},"Spotify Genres"),$.map((Y)=>K.default.createElement(n9,{name:Y0(Y),onClick:Q(Y)})))},d8=()=>{if(g0.length==0)return K.default.createElement(K.default.Fragment,null);let[$,X]=K.useState(g0);Spicetify.Player.addEventListener("songchange",()=>setTimeout(()=>X(g0),100));const Q=(Y)=>async()=>{Spicetify.Platform.History.push(`/search/${Y}/playlists`),Spicetify.PopupModal.hide()};return K.default.createElement("div",{className:"spaced-down"},K.default.createElement("h1",{className:"title"},"Last FM Tags"),$.map((Y)=>K.default.createElement(n9,{name:Y0(Y),onClick:Q(Y)})))};var z=k1(n4(),1),t9=k1(s9(),1);class T{$;X;Q;stopHistoryListener;setRerender=null;constructor($,X,Q={}){this.name=$;this.sectionId=X;this.sectionFields=Q}static waitForReact=async()=>{while(!(Spicetify.React&&Spicetify.ReactDOM))F1(100);return this};pushSettings=async()=>{while(!Spicetify?.Platform?.History?.listen)await F1(100);if(this.stopHistoryListener)this.stopHistoryListener();if(this.stopHistoryListener=Spicetify.Platform.History.listen(({pathname:$=""})=>{if($==="/preferences")this.render()}),Spicetify.Platform.History.location.pathname==="/preferences")await this.render()};toObject=()=>new Proxy({},{get:($,X)=>T.getFieldValue(this.getId(X.toString()))});rerender=()=>{if(this.setRerender)this.setRerender(Math.random())};render=async()=>{while(!document.getElementById("desktop.settings.selectLanguage")){if(Spicetify.Platform.History.location.pathname!=="/preferences")return;await F1(100)}const $=document.querySelector(".x-settings-container");let X=Array.from($.children).find(({id:Q})=>Q===this.sectionId);if(!X)X=document.createElement("div"),X.id=this.sectionId,X.className="settingsContainer",$.appendChild(X);t9.default.render(z.default.createElement(this.FieldsContainer,null),X)};addButton=($,X,Q,Y=I0,H={})=>{const J=this.getId($);return H.onClick=Y,this.sectionFields[$]={id:J,type:M.BUTTON,description:X,text:Q,events:H},this};addToggle=($,X,Q=y.of(!0),Y=I0,H={})=>{const J=this.getId($);return T.setDefaultFieldValue(J,Q),H.onChange=Y,this.sectionFields[$]={id:J,type:M.TOGGLE,description:X,events:H},this};addInput=($,X,Q,Y=I0,H="text",J={})=>{const j=this.getId($);return T.setDefaultFieldValue(j,Q),J.onChange=Y,this.sectionFields[$]={id:j,type:M.INPUT,description:X,inputType:H,events:J},this};addDropDown=($,X,Q,Y=y.of(0),H=I0,J={})=>{const j=this.getId($);return T.setDefaultFieldValue(j,Y),J.onChange=H,this.sectionFields[$]={id:j,type:M.DROPDOWN,description:X,options:Q,events:J},this};addHidden=($,X)=>{const Q=this.getId($);return T.setDefaultFieldValue(Q,X),this.sectionFields[$]={id:Q,type:M.HIDDEN,description:""},this};getId=($)=>`extensions:${this.sectionId}:${$}`;useStateFor=($)=>{const[X,Q]=z.useState(T.getFieldValue($));return[X,(Y)=>{if(Y!==void 0)Q(Y),T.setFieldValue($,Y)}]};static getFieldValue=($)=>{return JSON.parse(Spicetify.LocalStorage.get($)??"null")};static setFieldValue=($,X)=>{Spicetify.LocalStorage.set($,JSON.stringify(X))};static setDefaultFieldValue=async($,X)=>{if(T.getFieldValue($)===null)T.setFieldValue($,await X())};FieldsContainer=()=>{const[$,X]=z.useState(0);return this.setRerender=X,z.default.createElement("div",{className:"x-settings-section",key:$},z.default.createElement("h2",{className:"Type__TypeElement-sc-goli3j-0 TypeElement-cello-textBase-type"},this.name),Object.entries(this.sectionFields).map(([Q,Y])=>{return z.default.createElement(this.Field,{field:Y})}))};Field=({field:$})=>{const X=u9("type");return z.default.createElement("div",{className:"x-settings-row"},z.default.createElement(this.SettingDescription,{id:$.id,description:$.description}),z.default.createElement("div",{className:"x-settings-secondColumn"},y9([[X(M.INPUT),this.SettingInputField],[X(M.BUTTON),this.SettingButtonField],[X(M.TOGGLE),this.SettingToggleField],[X(M.DROPDOWN),this.SettingDropdownField]])(this.SettingHidden)($)))};SettingDescription=({id:$,description:X})=>z.default.createElement("div",{className:"x-settings-firstColumn"},z.default.createElement("label",{className:"Type__TypeElement-sc-goli3j-0 TypeElement-viola-textSubdued-type",htmlFor:$},X));SettingButtonField=($)=>z.default.createElement("span",{className:""},z.default.createElement("button",{id:$.id,className:"Button-sc-y0gtbx-0 Button-sm-buttonSecondary-useBrowserDefaultFocusStyle x-settings-button",...$.events,type:$.type},$.text));SettingToggleField=($)=>{const[X,Q]=this.useStateFor($.id);return z.default.createElement("label",{className:"x-settings-secondColumn x-toggle-wrapper"},z.default.createElement("input",{id:$.id,className:"x-toggle-input",type:"checkbox",checked:T.getFieldValue($.id),...$.events,onChange:(Y)=>{Q(Y.currentTarget.checked),$.events.onChange?.(Y)}}),z.default.createElement("span",{className:"x-toggle-indicatorWrapper"},z.default.createElement("span",{className:"x-toggle-indicator"})))};SettingInputField=($)=>{const[X,Q]=this.useStateFor($.id);return z.default.createElement("input",{className:"x-settings-input",id:$.id,dir:"ltr",value:T.getFieldValue($.id),type:$.inputType,...$.events,onChange:(Y)=>{Q(Y.currentTarget.value),$.events.onChange?.(Y)}})};SettingDropdownField=($)=>{const[X,Q]=this.useStateFor($.id);return z.default.createElement("select",{className:"main-dropDown-dropDown",id:$.id,...$.events,onChange:(Y)=>{Q(Y.currentTarget.selectedIndex),$.events.onChange?.(Y)}},$.options.map((Y,H)=>z.default.createElement("option",{selected:H===T.getFieldValue($.id),value:H+1},Y)))};SettingHidden=()=>z.default.createElement(z.default.Fragment,null)}var M;(function(J){J["HIDDEN"]="hidden";J["INPUT"]="input";J["DROPDOWN"]="dropdown";J["BUTTON"]="button";J["TOGGLE"]="toggle"})(M||(M={}));var i9=new T("Show The Genres","show-the-genres").addInput("LFMApiKey","Last.fm API Key",y.of("44654ea047786d90338c17331a5f5d95"));i9.pushSettings();var e9=i9.toObject();(async()=>{if(!document.getElementById("F3zgswjydEILy2a_6lHDIyhG7Flt8-wqcPTy_caaMyI")){const X=document.createElement("style");X.id="F3zgswjydEILy2a_6lHDIyhG7Flt8-wqcPTy_caaMyI",X.textContent=".genres-popup::after {\n  content: \"\";\n  display: table;\n  clear: both;\n}\n.genres-popup .title {\n  color: var(--spice-text);\n}\n.genres-popup .spaced-down {\n  margin-bottom: 20px;\n}\n.genres-popup .login-button {\n  background-color: var(--spice-button);\n  border-radius: 8px;\n  border-style: none;\n  color: var(--spice-text);\n  cursor: pointer;\n  font-size: 14px;\n  height: 40px;\n  margin: 10px;\n  padding: 5px 10px;\n  text-align: center;\n}\n.genres-popup .login-button:hover {\n  background-color: var(--spice-button-active);\n}\n\n.main-nowPlayingWidget-trackInfo.main-trackInfo-container {\n  grid-template: \"title title\" \"badges subtitle\" \"genres genres\"/auto 1fr auto;\n}",document.head.appendChild(X)}})();var p8=($)=>Spicetify.Platform.History.push(`/search/${$}/playlists`);globalThis.searchPlaylist=p8;var F0=new Array,g0=new Array,o8=async($)=>{return M0.innerHTML=await Z($,B.map(async(X)=>{return`<a href="${await W0(X)??"#"}" style="color: var(--spice-subtext); font-size: 12px">${Y0(X)}</a>`}),(X)=>Promise.all(X),F(B.intercalate(I.Monoid)("<span>, </span>"))),M0},r8=async($)=>{const X=await n0("div.main-trackInfo-container"),{uri:Q,metadata:Y}=Spicetify.Player.data.track;if(Y&&!Y.is_local&&Spicetify.URI.isTrack(Q)&&$.length)X?.appendChild(await o8($)),g0=Z(await _4(e9.LFMApiKey,Y.artist_name,Y.title),({track:H})=>H.toptags.tag,B.map(({name:H})=>H));else X?.removeChild(M0)},n8=()=>{let $=Spicetify.Player.data?.track?.metadata??{};return[...Array(10).keys()].map((X)=>$["artist_uri"+(X?`:${X}`:"")]).filter(Boolean)},a9=async()=>{const $=n8();F0=await r4($),await r8(F0.slice(0,5))},M0=document.createElement("div");M0.className="main-trackInfo-genres ellipsis-one-line main-type-finale";M0.style.gridArea="genres";M0.addEventListener("contextmenu",f4);Spicetify.Player.addEventListener("songchange",a9);a9();Spicetify.Platform.History.listen(o4);o4(Spicetify.Platform.History.location);;

//# debugId=EB32C15415963DBB64756e2164756e21
