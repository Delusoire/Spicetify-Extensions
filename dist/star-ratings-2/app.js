import{anyPass as bt}from"https://esm.sh/fp-ts-std/Predicate";import{array as L,function as A}from"https://esm.sh/fp-ts";import{array as w,eq as ot,string as lt,record as Rt,semigroup as It,function as S}from"https://esm.sh/fp-ts";import{guard as pt,memoize as ct}from"https://esm.sh/fp-ts-std/Function";var C=e=>pt(e);var u=e=>async t=>e(await t),D=e=>t=>i=>i[e]===t;var m=e=>t=>S.flow(w.chunksOf(e),w.map(t),i=>Promise.all(i),u(w.flatten));var M=e=>S.pipe(e,S.tupled,ct(ot.contramap(JSON.stringify)(lt.Eq)),S.untupled);import{array as kt,function as N}from"https://esm.sh/fp-ts";var O={before:{start:N.constant({before:"start"}),fromUri:e=>({before:{uri:e}}),fromUid:e=>({before:{uid:e}})},after:{end:N.constant({after:"end"}),fromUri:e=>({after:{uri:e}}),fromUid:e=>({after:{uid:e}})}};var b=e=>new Promise(t=>setTimeout(t,e));var H=async(e,t=0,i=487)=>(await Spicetify.GraphQL.Request(Spicetify.GraphQL.Definitions.getAlbum,{uri:e,locale:Spicetify.Locale.getLocale(),offset:t,limit:i})).data.albumUnion;var _=async(e,t)=>Spicetify.CosmosAsync.del(`https://api.spotify.com/v1/playlists/${e}/tracks`,{tracks:t.map(i=>({uri:i}))}),Mt=m(50)(async e=>(await Spicetify.CosmosAsync.get(`https://api.spotify.com/v1/artists?ids=${e.join(",")}`)).artists),Nt=m(1)(async([e])=>[await Spicetify.CosmosAsync.get(`https://api.spotify.com/v1/playlists/${e}`)]),Ot=m(50)(async e=>(await Spicetify.CosmosAsync.get(`https://api.spotify.com/v1/albums?ids=${e.join(",")}`)).albums),Ht=m(50)(async e=>(await Spicetify.CosmosAsync.get(`https://api.spotify.com/v1/tracks?ids=${e.join(",")}`)).tracks);var G=async(e,t=0,i=100)=>(await Spicetify.Platform.LibraryAPI.getTracks({uri:e,offset:t,limit:i})).items,x=async e=>(await Spicetify.Platform.PlaylistAPI.getContents(e)).items,q=async(e,t={})=>await Spicetify.Platform.RootlistAPI.createFolder(e,t);var V=async(e,t={})=>await Spicetify.Platform.RootlistAPI.createPlaylist(e,t);var j=async(e,t)=>await Spicetify.Platform.PlaylistPermissionsAPI.setBasePermission(e,t?"VIEWER":"BLOCKED");var Q=async e=>await Spicetify.Platform.RootlistAPI.getContents({folderUri:e});var $=async(e,t,i={})=>await Spicetify.Platform.PlaylistAPI.add(e,t,i);var ut=async(e,t,i,s="")=>{let r=new URL("https://ws.audioscrobbler.com/2.0/");return r.searchParams.append("method","track.getInfo"),r.searchParams.append("api_key",e),r.searchParams.append("artist",t),r.searchParams.append("track",i),r.searchParams.append("format","json"),r.searchParams.append("username",s),await fetch(r).then(n=>n.json())},_t=M(ut);import{range as yt}from"https://esm.sh/fp-ts/lib/ReadonlyNonEmptyArray";import{array as l,function as U}from"https://esm.sh/fp-ts";import{task as z}from"https://esm.sh/fp-ts";import{task as W}from"https://esm.sh/fp-ts";import{constVoid as R}from"https://esm.sh/fp-ts/function";var{React:o,ReactDOM:dt}=Spicetify,P=class e{constructor(t,i,s={}){this.name=t;this.sectionId=i;this.sectionFields=s}stopHistoryListener;setRerender=null;static waitForReact=async()=>{for(;!(Spicetify.React&&Spicetify.ReactDOM);)b(100);return this};pushSettings=async()=>{for(;!Spicetify?.Platform?.History?.listen;)await b(100);this.stopHistoryListener&&this.stopHistoryListener(),this.stopHistoryListener=Spicetify.Platform.History.listen(({pathname:t=""})=>{t==="/preferences"&&this.render()}),Spicetify.Platform.History.location.pathname==="/preferences"&&await this.render()};toObject=()=>new Proxy({},{get:(t,i)=>e.getFieldValue(this.getId(i.toString()))});rerender=()=>{this.setRerender&&this.setRerender(Math.random())};render=async()=>{for(;!document.getElementById("desktop.settings.selectLanguage");){if(Spicetify.Platform.History.location.pathname!=="/preferences")return;await b(100)}let t=document.querySelector(".x-settings-container"),i=Array.from(t.children).find(({id:s})=>s===this.sectionId);i||(i=document.createElement("div"),i.id=this.sectionId,i.className="settingsContainer",t.appendChild(i)),dt.render(o.createElement(this.FieldsContainer,null),i)};addButton=(t,i,s,r=R,n={})=>{let a=this.getId(t);return n.onClick=r,this.sectionFields[t]={id:a,type:"button",description:i,text:s,events:n},this};addToggle=(t,i,s=W.of(!0),r=R,n={})=>{let a=this.getId(t);return e.setDefaultFieldValue(a,s),n.onChange=r,this.sectionFields[t]={id:a,type:"toggle",description:i,events:n},this};addInput=(t,i,s,r=R,n="text",a={})=>{let c=this.getId(t);return e.setDefaultFieldValue(c,s),a.onChange=r,this.sectionFields[t]={id:c,type:"input",description:i,inputType:n,events:a},this};addDropDown=(t,i,s,r=W.of(0),n=R,a={})=>{let c=this.getId(t);return e.setDefaultFieldValue(c,r),a.onChange=n,this.sectionFields[t]={id:c,type:"dropdown",description:i,options:s,events:a},this};addHidden=(t,i)=>{let s=this.getId(t);return e.setDefaultFieldValue(s,i),this.sectionFields[t]={id:s,type:"hidden",description:""},this};getId=t=>`extensions:${this.sectionId}:${t}`;useStateFor=t=>{let[i,s]=o.useState(e.getFieldValue(t));return[i,r=>{r!==void 0&&(s(r),e.setFieldValue(t,r))}]};static getFieldValue=t=>JSON.parse(Spicetify.LocalStorage.get(t)??"null");static setFieldValue=(t,i)=>{Spicetify.LocalStorage.set(t,JSON.stringify(i))};static setDefaultFieldValue=async(t,i)=>{e.getFieldValue(t)===null&&e.setFieldValue(t,await i())};FieldsContainer=()=>{let[t,i]=o.useState(0);return this.setRerender=i,o.createElement("div",{className:"x-settings-section",key:t},o.createElement("h2",{className:"Type__TypeElement-sc-goli3j-0 TypeElement-cello-textBase-type"},this.name),Object.entries(this.sectionFields).map(([s,r])=>o.createElement(this.Field,{field:r})))};Field=({field:t})=>{let i=D("type");return o.createElement("div",{className:"x-settings-row"},o.createElement(this.SettingDescription,{id:t.id,description:t.description}),o.createElement("div",{className:"x-settings-secondColumn"},C([[i("input"),this.SettingInputField],[i("button"),this.SettingButtonField],[i("toggle"),this.SettingToggleField],[i("dropdown"),this.SettingDropdownField]])(this.SettingHidden)(t)))};SettingDescription=({id:t,description:i})=>o.createElement("div",{className:"x-settings-firstColumn"},o.createElement("label",{className:"Type__TypeElement-sc-goli3j-0 TypeElement-viola-textSubdued-type",htmlFor:t},i));SettingButtonField=t=>o.createElement("span",{className:""},o.createElement("button",{id:t.id,className:"Button-sc-y0gtbx-0 Button-sm-buttonSecondary-useBrowserDefaultFocusStyle x-settings-button",...t.events,type:t.type},t.text));SettingToggleField=t=>{let[i,s]=this.useStateFor(t.id);return o.createElement("label",{className:"x-settings-secondColumn x-toggle-wrapper"},o.createElement("input",{id:t.id,className:"x-toggle-input",type:"checkbox",checked:e.getFieldValue(t.id),...t.events,onChange:r=>{s(r.currentTarget.checked),t.events.onChange?.(r)}}),o.createElement("span",{className:"x-toggle-indicatorWrapper"},o.createElement("span",{className:"x-toggle-indicator"})))};SettingInputField=t=>{let[i,s]=this.useStateFor(t.id);return o.createElement("input",{className:"x-settings-input",id:t.id,dir:"ltr",value:e.getFieldValue(t.id),type:t.inputType,...t.events,onChange:r=>{s(r.currentTarget.value),t.events.onChange?.(r)}})};SettingDropdownField=t=>{let[i,s]=this.useStateFor(t.id);return o.createElement("select",{className:"main-dropDown-dropDown",id:t.id,...t.events,onChange:r=>{s(r.currentTarget.selectedIndex),t.events.onChange?.(r)}},t.options.map((r,n)=>o.createElement("option",{selected:n===e.getFieldValue(t.id),value:n+1},r)))};SettingHidden=()=>o.createElement(o.Fragment,null)};var mt="Ratings",J=new P("Star Ratings 2","star-ratings-2").addInput("heartThreshold","Threshold for liking trakcs",z.of("3")).addInput("skipThreshold","Threshold for skipping trakcs",z.of("1")).addInput("ratingsFolderUri","Ratings folder uri",async()=>(await q(mt)).uri,I);J.pushSettings();var d=J.toObject();var I=async()=>{let e=await Q(d.ratingsFolderUri);y=U.pipe(e.items,l.map(t=>[t.uri,Number(t.name)]),l.reduce([],(t,[i,s])=>(t[s]=i,t))),globalThis.tracksRatings=p=await U.pipe(y,l.map(x),t=>Promise.all(t),u(l.map(t=>t??[])),u(l.map(l.map(t=>t.uri))),u(l.flatMap((t,i)=>t.map(s=>[s,i]))),u(l.reduce({},(t,[i,s])=>Object.assign(t,{[i]:Math.max(s,t[i]??0)}))))},K=async(e,t)=>{let i=p[e];if(i===t&&(t=0),i&&U.pipe(y.slice(0,i+1),l.filter(Boolean),l.map(n=>Spicetify.URI.fromString(n).id),l.map(n=>_(n,[e]))),p[e]=t,t>0){let n=y[t];n||(n=await V(t.toFixed(0),O.after.fromUri(d.ratingsFolderUri)),j(n,!1),y[t]=n),$(n,[e])}let s=Spicetify.Player.data.track?.uri;s===e&&g(s,!1),v();let{pathname:r}=Spicetify.Platform.History.location;T(Spicetify.URI.fromString(r))},y=[],p={};var{React:f}=Spicetify,gt=({i:e,uri:t})=>f.createElement("button",{className:"Button-sc-1dqy6lx-0 Button-textBrightAccent-sm-16-buttonTertiary-iconOnly-condensed-isUsingKeyboard-useBrowserDefaultFocusStyle rating-button",onClick:()=>K(t,e)},f.createElement("svg",{role:"img",height:16,width:16,viewBox:"0 0 16 16",className:`Svg-sc-ytk21e-0 Svg-img-icon rating-${e}`},f.createElement("path",{d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm11.748-1.97a.75.75 0 0 0-1.06-1.06l-4.47 4.47-1.405-1.406a.75.75 0 1 0-1.061 1.06l2.466 2.467 5.53-5.53z"}))),Y=({uri:e})=>f.createElement("div",{className:"rating-dropdown"},yt(1,5).map(t=>f.createElement(gt,{i:t,uri:e})));var X=()=>Array.from(document.querySelectorAll(".main-trackList-indexable")),Z=e=>Array.from(e.querySelectorAll("div.main-trackList-trackListRow")),tt=e=>(e=Object.values(e)[0].child.child.child.child,e.pendingProps.uri??e.child.pendingProps.uri),et=()=>document.querySelector("div.main-nowPlayingBar-nowPlayingBar"),ft=()=>document.querySelector("div.main-actionBar-ActionBarRow"),At='button[aria-label="Add to Liked Songs"], button[aria-label="Add to playlist"]',E=e=>e.querySelector(At),it=()=>ft().querySelector('button[aria-label="Remove from Your Library"], button[aria-label="Save to Your Library"]');var{URI:h}=Spicetify,{React:ht,ReactDOM:St}=Spicetify,rt=["unset","#ED5564","#FFCE54","A0D568","#4FC1E8","#AC92EB"],B=(e,t)=>{if(e.style.fill===rt[t])return;e.style.opacity=t>0?"1":"unset";let i=e.querySelector("svg");i.style.fill=rt[t]},nt,st=(e,t,i=!1)=>{if(e.hasAttribute("dropdown-enabled")){if(!i)return}else e.setAttribute("dropdown-enabled","");let s=document.createElement("div");i&&(nt.outerHTML="",nt=s),e.appendChild(s),St.render(ht.createElement(Y,{uri:t}),s),Spicetify.Tippy(e,{content:s,interactive:!0,animateFill:!1,placement:"left",animation:"fade",zIndex:1e4,delay:[200,0],render(r){let n=document.createElement("div"),a=document.createElement("div");return n.id="context-menu",n.appendChild(a),a.className="main-contextMenu-tippy",a.appendChild(r.props.content),{popper:n,onUpdate:A.constVoid}},onShow(r){r.popper.firstChild.classList.add("main-contextMenu-tippyEnter");let n=r.reference.parentElement.children,a=n.item(n.length-1);a.style.marginRight="0px"},onMount(r){requestAnimationFrame(()=>{r.popper.firstChild.classList.remove("main-contextMenu-tippyEnter"),r.popper.firstChild.classList.add("main-contextMenu-tippyEnterActive")})},onHide(r){requestAnimationFrame(()=>{r.popper.firstChild.classList.remove("main-contextMenu-tippyEnterActive");let n=r.reference.parentElement.children,a=n.item(n.length-2);a.style.marginRight="unset",r.unmount()})}})},g=(e,t=!0)=>{let i=et(),s=E(i);B(s,p[e]),t&&st(s,e,!0)},v=(e=!0)=>{let t=X();A.pipe(t,L.map(i=>{Z(i).map(r=>{let n=h.fromString(tt(r)).toURI();if(!h.isTrack(n))return;let a=p[n],c=E(r);B(c,a),e&&st(c,n)})}))},T=async e=>{let t;if(h.isAlbum(e))t=A.pipe(await H(`${e}`),n=>n.tracks.items,L.map(n=>n.track.uri));else if(h.isArtist(e))t=A.pipe(await G(`${e}`),L.map(n=>n.uri));else if(h.isPlaylistV1OrV2(e))t=A.pipe(await x(`${e}`),L.map(n=>n.uri));else throw"me out the window";let i=t.map(n=>p[n]).filter(Boolean),s=Math.round(i.reduce((n,a)=>n+a)/i.length),r=it();B(r,s)};debugger;var{URI:k}=Spicetify;I();Spicetify.Player.addEventListener("songchange",()=>{let e=Spicetify.Player.data.track?.uri;if(Number(d.skipThreshold)&&(p[e]||Number.MAX_SAFE_INTEGER)<=Number(d.skipThreshold))return void Spicetify.Player.next();g(e)});g(Spicetify.Player.data.track?.uri);var F,at=new MutationObserver(()=>v());new MutationObserver(()=>{let e=document.querySelector("main");e&&!e.isEqualNode(F)&&(F&&at.disconnect(),F=e,at.observe(F,{childList:!0,subtree:!0}))}).observe(document.body,{childList:!0,subtree:!0});Spicetify.Platform.History.listen(async({pathname:e})=>{bt([k.isAlbum,k.isArtist,k.isPlaylistV1OrV2])(e)&&T(k.fromString(e))});
//! Does location actually point to document.body?
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vZXh0ZW5zaW9ucy9zdGFyLXJhdGluZ3MtMi9hcHAudHMiLCAiLi4vLi4vZXh0ZW5zaW9ucy9zdGFyLXJhdGluZ3MtMi9jb250cm9scy50c3giLCAiLi4vLi4vc2hhcmVkL2ZwLnRzIiwgIi4uLy4uL3NoYXJlZC91dGlsLnRzIiwgIi4uLy4uL3NoYXJlZC9hcGkudHMiLCAiLi4vLi4vZXh0ZW5zaW9ucy9zdGFyLXJhdGluZ3MtMi9kcm9wZG93bi50c3giLCAiLi4vLi4vZXh0ZW5zaW9ucy9zdGFyLXJhdGluZ3MtMi9yYXRpbmdzLnRzIiwgIi4uLy4uL2V4dGVuc2lvbnMvc3Rhci1yYXRpbmdzLTIvc2V0dGluZ3MudHMiLCAiLi4vLi4vc2hhcmVkL3NldHRpbmdzLnRzeCIsICIuLi8uLi9leHRlbnNpb25zL3N0YXItcmF0aW5ncy0yL3V0aWwudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImRlYnVnZ2VyXHJcblxyXG5pbXBvcnQgeyBhbnlQYXNzIH0gZnJvbSBcImh0dHBzOi8vZXNtLnNoL2ZwLXRzLXN0ZC9QcmVkaWNhdGVcIlxyXG5pbXBvcnQgeyB1cGRhdGVDb2xsZWN0aW9uQ29udHJvbHMsIHVwZGF0ZU5vd1BsYXlpbmdDb250cm9scywgdXBkYXRlVHJhY2tMaXN0Q29udHJvbHMgfSBmcm9tIFwiLi9jb250cm9scy50c3hcIlxyXG5pbXBvcnQgeyBsb2FkUmF0aW5ncywgdHJhY2tzUmF0aW5ncyB9IGZyb20gXCIuL3JhdGluZ3MudHNcIlxyXG5pbXBvcnQgeyBDT05GSUcgfSBmcm9tIFwiLi9zZXR0aW5ncy50c1wiXHJcblxyXG5pbXBvcnQgXCIuL2Fzc2V0cy9zdHlsZXMuc2Nzc1wiXHJcblxyXG5jb25zdCB7IFVSSSB9ID0gU3BpY2V0aWZ5XHJcblxyXG5sb2FkUmF0aW5ncygpXHJcblxyXG5TcGljZXRpZnkuUGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoXCJzb25nY2hhbmdlXCIsICgpID0+IHtcclxuICAgIGNvbnN0IG5wVHJhY2sgPSBTcGljZXRpZnkuUGxheWVyLmRhdGEudHJhY2s/LnVyaSFcclxuICAgIGlmIChcclxuICAgICAgICBOdW1iZXIoQ09ORklHLnNraXBUaHJlc2hvbGQpICYmXHJcbiAgICAgICAgKHRyYWNrc1JhdGluZ3NbbnBUcmFja10gfHwgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpIDw9IE51bWJlcihDT05GSUcuc2tpcFRocmVzaG9sZClcclxuICAgIClcclxuICAgICAgICByZXR1cm4gdm9pZCBTcGljZXRpZnkuUGxheWVyLm5leHQoKVxyXG5cclxuICAgIHVwZGF0ZU5vd1BsYXlpbmdDb250cm9scyhucFRyYWNrKVxyXG59KVxyXG51cGRhdGVOb3dQbGF5aW5nQ29udHJvbHMoU3BpY2V0aWZ5LlBsYXllci5kYXRhLnRyYWNrPy51cmkhKVxyXG5cclxubGV0IG1haW5FbGVtZW50OiBIVE1MRWxlbWVudFxyXG5jb25zdCBtYWluRWxlbWVudE9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKCkgPT4gdXBkYXRlVHJhY2tMaXN0Q29udHJvbHMoKSlcclxuXHJcbm5ldyBNdXRhdGlvbk9ic2VydmVyKCgpID0+IHtcclxuICAgIGNvbnN0IG5leHRNYWluRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTEVsZW1lbnQ+KFwibWFpblwiKVxyXG4gICAgaWYgKG5leHRNYWluRWxlbWVudCAmJiAhbmV4dE1haW5FbGVtZW50LmlzRXF1YWxOb2RlKG1haW5FbGVtZW50KSkge1xyXG4gICAgICAgIGlmIChtYWluRWxlbWVudCkgbWFpbkVsZW1lbnRPYnNlcnZlci5kaXNjb25uZWN0KClcclxuICAgICAgICBtYWluRWxlbWVudCA9IG5leHRNYWluRWxlbWVudFxyXG4gICAgICAgIG1haW5FbGVtZW50T2JzZXJ2ZXIub2JzZXJ2ZShtYWluRWxlbWVudCwge1xyXG4gICAgICAgICAgICBjaGlsZExpc3Q6IHRydWUsXHJcbiAgICAgICAgICAgIHN1YnRyZWU6IHRydWUsXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufSkub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCB7XHJcbiAgICBjaGlsZExpc3Q6IHRydWUsXHJcbiAgICBzdWJ0cmVlOiB0cnVlLFxyXG59KVxyXG5cclxuU3BpY2V0aWZ5LlBsYXRmb3JtLkhpc3RvcnkubGlzdGVuKGFzeW5jICh7IHBhdGhuYW1lIH06IHsgcGF0aG5hbWU6IHN0cmluZyB9KSA9PiB7XHJcbiAgICBjb25zdCBwYWdlSGFzSGVhcnQgPSBhbnlQYXNzKFtVUkkuaXNBbGJ1bSwgVVJJLmlzQXJ0aXN0LCBVUkkuaXNQbGF5bGlzdFYxT3JWMl0pXHJcbiAgICBpZiAoIXBhZ2VIYXNIZWFydChwYXRobmFtZSkpIHJldHVyblxyXG5cclxuICAgIHVwZGF0ZUNvbGxlY3Rpb25Db250cm9scyhVUkkuZnJvbVN0cmluZyhwYXRobmFtZSkpXHJcbn0pXHJcbiIsICJpbXBvcnQgeyBhcnJheSBhcyBhciwgZnVuY3Rpb24gYXMgZiB9IGZyb20gXCJodHRwczovL2VzbS5zaC9mcC10c1wiXG5cbmltcG9ydCB7IGZldGNoR1FMQWxidW0sIGZldGNoUGxhdEFydGlzdExpa2VkVHJhY2tzLCBmZXRjaFBsYXRQbGF5bGlzdENvbnRlbnRzIH0gZnJvbSBcIi4uLy4uL3NoYXJlZC9hcGkudHNcIlxuaW1wb3J0IHsgU3BvdGlmeVVSSSB9IGZyb20gXCIuLi8uLi9zaGFyZWQvdXRpbC50c1wiXG5pbXBvcnQgeyBEcm9wZG93biB9IGZyb20gXCIuL2Ryb3Bkb3duLnRzeFwiXG5pbXBvcnQgeyB0cmFja3NSYXRpbmdzIH0gZnJvbSBcIi4vcmF0aW5ncy50c1wiXG5pbXBvcnQge1xuICAgIGdldENvbGxlY3Rpb25QbGF5bGlzdEJ1dHRvbixcbiAgICBnZXROb3dQbGF5aW5nQmFyLFxuICAgIGdldFBsYXlsaXN0QnV0dG9uLFxuICAgIGdldFRyYWNrTGlzdFRyYWNrVXJpLFxuICAgIGdldFRyYWNrTGlzdFRyYWNrcyxcbiAgICBnZXRUcmFja0xpc3RzLFxufSBmcm9tIFwiLi91dGlsLnRzXCJcblxuY29uc3QgeyBVUkkgfSA9IFNwaWNldGlmeVxuY29uc3QgeyBSZWFjdCwgUmVhY3RET00gfSA9IFNwaWNldGlmeVxuXG5jb25zdCBjb2xvckJ5UmF0aW5nID0gW1widW5zZXRcIiwgXCIjRUQ1NTY0XCIsIFwiI0ZGQ0U1NFwiLCBcIkEwRDU2OFwiLCBcIiM0RkMxRThcIiwgXCIjQUM5MkVCXCJdXG5cbmNvbnN0IGNvbG9yaXplUGxheWxpc3RCdXR0b24gPSAoYnRuOiBIVE1MQnV0dG9uRWxlbWVudCwgcmF0aW5nOiBudW1iZXIpID0+IHtcbiAgICBpZiAoYnRuLnN0eWxlLmZpbGwgPT09IGNvbG9yQnlSYXRpbmdbcmF0aW5nXSkgcmV0dXJuXG5cbiAgICBidG4uc3R5bGUub3BhY2l0eSA9IHJhdGluZyA+IDAgPyBcIjFcIiA6IFwidW5zZXRcIlxuICAgIGNvbnN0IHN2ZyA9IGJ0bi5xdWVyeVNlbGVjdG9yPFNWR0VsZW1lbnQ+KFwic3ZnXCIpIVxuICAgIHN2Zy5zdHlsZS5maWxsID0gY29sb3JCeVJhdGluZ1tyYXRpbmddXG59XG5cbmxldCBsYXN0RGl2OiBIVE1MRGl2RWxlbWVudFxuY29uc3Qgd3JhcERyb3Bkb3duSW5zaWRlUGxheWxpc3RCdXR0b24gPSAocGI6IEhUTUxCdXR0b25FbGVtZW50LCB1cmk6IFNwb3RpZnlVUkksIGZvcmNlZCA9IGZhbHNlKSA9PiB7XG4gICAgaWYgKHBiLmhhc0F0dHJpYnV0ZShcImRyb3Bkb3duLWVuYWJsZWRcIikpIHtcbiAgICAgICAgaWYgKCFmb3JjZWQpIHJldHVyblxuICAgIH0gZWxzZSBwYi5zZXRBdHRyaWJ1dGUoXCJkcm9wZG93bi1lbmFibGVkXCIsIFwiXCIpXG5cbiAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG4gICAgaWYgKGZvcmNlZCkge1xuICAgICAgICBsYXN0RGl2Lm91dGVySFRNTCA9IFwiXCJcbiAgICAgICAgbGFzdERpdiA9IGRpdlxuICAgIH1cbiAgICBwYi5hcHBlbmRDaGlsZChkaXYpXG4gICAgUmVhY3RET00ucmVuZGVyKDxEcm9wZG93biB1cmk9e3VyaX0gLz4sIGRpdilcbiAgICBTcGljZXRpZnkuVGlwcHkocGIsIHtcbiAgICAgICAgY29udGVudDogZGl2LFxuICAgICAgICBpbnRlcmFjdGl2ZTogdHJ1ZSxcbiAgICAgICAgYW5pbWF0ZUZpbGw6IGZhbHNlLFxuICAgICAgICAvL29mZnNldDogWzAsIDddLFxuICAgICAgICBwbGFjZW1lbnQ6IFwibGVmdFwiLFxuICAgICAgICBhbmltYXRpb246IFwiZmFkZVwiLFxuICAgICAgICAvL3RyaWdnZXI6IFwibW91c2VlbnRlciBmb2N1c1wiLFxuICAgICAgICB6SW5kZXg6IDEwMDAwLFxuICAgICAgICBkZWxheTogWzIwMCwgMF0sXG4gICAgICAgIHJlbmRlcihpbnN0YW5jZTogYW55KSB7XG4gICAgICAgICAgICBjb25zdCBwb3BwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG4gICAgICAgICAgICBjb25zdCBib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG5cbiAgICAgICAgICAgIHBvcHBlci5pZCA9IFwiY29udGV4dC1tZW51XCJcbiAgICAgICAgICAgIHBvcHBlci5hcHBlbmRDaGlsZChib3gpXG5cbiAgICAgICAgICAgIGJveC5jbGFzc05hbWUgPSBcIm1haW4tY29udGV4dE1lbnUtdGlwcHlcIlxuICAgICAgICAgICAgYm94LmFwcGVuZENoaWxkKGluc3RhbmNlLnByb3BzLmNvbnRlbnQpXG5cbiAgICAgICAgICAgIHJldHVybiB7IHBvcHBlciwgb25VcGRhdGU6IGYuY29uc3RWb2lkIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25TaG93KGluc3RhbmNlOiBhbnkpIHtcbiAgICAgICAgICAgIGluc3RhbmNlLnBvcHBlci5maXJzdENoaWxkLmNsYXNzTGlzdC5hZGQoXCJtYWluLWNvbnRleHRNZW51LXRpcHB5RW50ZXJcIilcblxuICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSAoaW5zdGFuY2UucmVmZXJlbmNlLnBhcmVudEVsZW1lbnQgYXMgSFRNTERpdkVsZW1lbnQpLmNoaWxkcmVuXG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gY2hpbGRyZW4uaXRlbShjaGlsZHJlbi5sZW5ndGggLSAxKSBhcyBIVE1MQnV0dG9uRWxlbWVudFxuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5tYXJnaW5SaWdodCA9IFwiMHB4XCJcbiAgICAgICAgfSxcbiAgICAgICAgb25Nb3VudChpbnN0YW5jZTogYW55KSB7XG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGluc3RhbmNlLnBvcHBlci5maXJzdENoaWxkLmNsYXNzTGlzdC5yZW1vdmUoXCJtYWluLWNvbnRleHRNZW51LXRpcHB5RW50ZXJcIilcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5wb3BwZXIuZmlyc3RDaGlsZC5jbGFzc0xpc3QuYWRkKFwibWFpbi1jb250ZXh0TWVudS10aXBweUVudGVyQWN0aXZlXCIpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICBvbkhpZGUoaW5zdGFuY2U6IGFueSkge1xuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5wb3BwZXIuZmlyc3RDaGlsZC5jbGFzc0xpc3QucmVtb3ZlKFwibWFpbi1jb250ZXh0TWVudS10aXBweUVudGVyQWN0aXZlXCIpXG5cbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IChpbnN0YW5jZS5yZWZlcmVuY2UucGFyZW50RWxlbWVudCBhcyBIVE1MRGl2RWxlbWVudCkuY2hpbGRyZW5cbiAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gY2hpbGRyZW4uaXRlbShjaGlsZHJlbi5sZW5ndGggLSAyKSBhcyBIVE1MQnV0dG9uRWxlbWVudFxuICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUubWFyZ2luUmlnaHQgPSBcInVuc2V0XCJcblxuICAgICAgICAgICAgICAgIGluc3RhbmNlLnVubW91bnQoKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICB9KVxufVxuXG5leHBvcnQgY29uc3QgdXBkYXRlTm93UGxheWluZ0NvbnRyb2xzID0gKG5ld1RyYWNrOiBTcG90aWZ5VVJJLCB1cGRhdGVEcm9wZG93biA9IHRydWUpID0+IHtcbiAgICBjb25zdCBucGIgPSBnZXROb3dQbGF5aW5nQmFyKClcbiAgICBjb25zdCBwYiA9IGdldFBsYXlsaXN0QnV0dG9uKG5wYilcbiAgICBjb2xvcml6ZVBsYXlsaXN0QnV0dG9uKHBiLCB0cmFja3NSYXRpbmdzW25ld1RyYWNrXSlcbiAgICBpZiAodXBkYXRlRHJvcGRvd24pIHdyYXBEcm9wZG93bkluc2lkZVBsYXlsaXN0QnV0dG9uKHBiLCBuZXdUcmFjaywgdHJ1ZSlcbn1cblxuZXhwb3J0IGNvbnN0IHVwZGF0ZVRyYWNrTGlzdENvbnRyb2xzID0gKHVwZGF0ZURyb3Bkb3duID0gdHJ1ZSkgPT4ge1xuICAgIGNvbnN0IHRyYWNrTGlzdHMgPSBnZXRUcmFja0xpc3RzKClcbiAgICBmLnBpcGUoXG4gICAgICAgIHRyYWNrTGlzdHMsXG4gICAgICAgIGFyLm1hcCh0cmFja0xpc3QgPT4ge1xuICAgICAgICAgICAgY29uc3QgdHJhY2tMaXN0VHJhY2tzID0gZ2V0VHJhY2tMaXN0VHJhY2tzKHRyYWNrTGlzdClcblxuICAgICAgICAgICAgdHJhY2tMaXN0VHJhY2tzLm1hcCh0cmFjayA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXJpID0gVVJJLmZyb21TdHJpbmcoZ2V0VHJhY2tMaXN0VHJhY2tVcmkodHJhY2spKS50b1VSSSgpXG5cbiAgICAgICAgICAgICAgICAvL1RPRE86IExvY2FsIFRyYWNrcyBzdXBwb3J0XG4gICAgICAgICAgICAgICAgaWYgKCFVUkkuaXNUcmFjayh1cmkhKSkgcmV0dXJuXG5cbiAgICAgICAgICAgICAgICBjb25zdCByID0gdHJhY2tzUmF0aW5nc1t1cmldXG4gICAgICAgICAgICAgICAgY29uc3QgcGIgPSBnZXRQbGF5bGlzdEJ1dHRvbih0cmFjaylcblxuICAgICAgICAgICAgICAgIGNvbG9yaXplUGxheWxpc3RCdXR0b24ocGIsIHIpXG4gICAgICAgICAgICAgICAgaWYgKHVwZGF0ZURyb3Bkb3duKSB3cmFwRHJvcGRvd25JbnNpZGVQbGF5bGlzdEJ1dHRvbihwYiwgdXJpKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSksXG4gICAgKVxufVxuXG5leHBvcnQgY29uc3QgdXBkYXRlQ29sbGVjdGlvbkNvbnRyb2xzID0gYXN5bmMgKHVyaTogU3BpY2V0aWZ5LlVSSSkgPT4ge1xuICAgIGxldCB1cmlzXG4gICAgaWYgKFVSSS5pc0FsYnVtKHVyaSkpXG4gICAgICAgIHVyaXMgPSBmLnBpcGUoXG4gICAgICAgICAgICBhd2FpdCBmZXRjaEdRTEFsYnVtKGAke3VyaX1gKSxcbiAgICAgICAgICAgIHggPT4geC50cmFja3MuaXRlbXMsXG4gICAgICAgICAgICBhci5tYXAoeCA9PiB4LnRyYWNrLnVyaSksXG4gICAgICAgIClcbiAgICBlbHNlIGlmIChVUkkuaXNBcnRpc3QodXJpKSlcbiAgICAgICAgdXJpcyA9IGYucGlwZShcbiAgICAgICAgICAgIGF3YWl0IGZldGNoUGxhdEFydGlzdExpa2VkVHJhY2tzKGAke3VyaX1gKSxcbiAgICAgICAgICAgIGFyLm1hcCh4ID0+IHgudXJpKSxcbiAgICAgICAgKVxuICAgIGVsc2UgaWYgKFVSSS5pc1BsYXlsaXN0VjFPclYyKHVyaSkpXG4gICAgICAgIHVyaXMgPSBmLnBpcGUoXG4gICAgICAgICAgICBhd2FpdCBmZXRjaFBsYXRQbGF5bGlzdENvbnRlbnRzKGAke3VyaX1gKSxcbiAgICAgICAgICAgIGFyLm1hcCh4ID0+IHgudXJpKSxcbiAgICAgICAgKVxuICAgIGVsc2UgdGhyb3cgXCJtZSBvdXQgdGhlIHdpbmRvd1wiXG5cbiAgICBjb25zdCByYXRpbmdzID0gdXJpcy5tYXAodXJpID0+IHRyYWNrc1JhdGluZ3NbdXJpXSkuZmlsdGVyKEJvb2xlYW4pXG4gICAgY29uc3QgcmF0aW5nID0gTWF0aC5yb3VuZChyYXRpbmdzLnJlZHVjZSgoYWNjLCByKSA9PiBhY2MgKyByKSAvIHJhdGluZ3MubGVuZ3RoKVxuXG4gICAgY29uc3QgcGIgPSBnZXRDb2xsZWN0aW9uUGxheWxpc3RCdXR0b24oKVxuICAgIGNvbG9yaXplUGxheWxpc3RCdXR0b24ocGIsIHJhdGluZylcbn1cbiIsICJpbXBvcnQge1xyXG4gICAgYXJyYXkgYXMgYXIsXHJcbiAgICBlcSxcclxuICAgIHN0cmluZyBhcyBzdHIsXHJcbiAgICByZWNvcmQgYXMgcmVjLFxyXG4gICAgcmVmaW5lbWVudCBhcyByZWYsXHJcbiAgICBzZW1pZ3JvdXAgYXMgc2csXHJcbiAgICBmdW5jdGlvbiBhcyBmLFxyXG59IGZyb20gXCJodHRwczovL2VzbS5zaC9mcC10c1wiXHJcbmltcG9ydCB7IGd1YXJkLCBtZW1vaXplIH0gZnJvbSBcImh0dHBzOi8vZXNtLnNoL2ZwLXRzLXN0ZC9GdW5jdGlvblwiXHJcblxyXG50eXBlIHJlZmluZUJyYW5jaDxBLCBCIGV4dGVuZHMgQSwgUj4gPSBbcmVmLlJlZmluZW1lbnQ8QSwgQj4sICh4OiBCKSA9PiBSXVxyXG5leHBvcnQgY29uc3QgZ3VhcmQyID0gPEEsIEExIGV4dGVuZHMgQSwgQTIgZXh0ZW5kcyBBLCBSPihicmFuY2hlczogW3JlZmluZUJyYW5jaDxBLCBBMSwgUj4sIHJlZmluZUJyYW5jaDxBLCBBMiwgUj5dKSA9PlxyXG4gICAgZ3VhcmQoYnJhbmNoZXMgYXMgdW5rbm93biBhcyBbcmVmaW5lQnJhbmNoPEEsIEEsIFI+LCByZWZpbmVCcmFuY2g8QSwgQSwgUj5dKVxyXG5leHBvcnQgY29uc3QgZ3VhcmQzID0gPEEsIEExIGV4dGVuZHMgQSwgQTIgZXh0ZW5kcyBBLCBBMyBleHRlbmRzIEEsIFI+KFxyXG4gICAgYnJhbmNoZXM6IFtyZWZpbmVCcmFuY2g8QSwgQTEsIFI+LCByZWZpbmVCcmFuY2g8QSwgQTIsIFI+LCByZWZpbmVCcmFuY2g8QSwgQTMsIFI+XSxcclxuKSA9PiBndWFyZChicmFuY2hlcyBhcyB1bmtub3duIGFzIFtyZWZpbmVCcmFuY2g8QSwgQSwgUj4sIHJlZmluZUJyYW5jaDxBLCBBLCBSPiwgcmVmaW5lQnJhbmNoPEEsIEEsIFI+XSlcclxuZXhwb3J0IGNvbnN0IGd1YXJkNCA9IDxBLCBBMSBleHRlbmRzIEEsIEEyIGV4dGVuZHMgQSwgQTMgZXh0ZW5kcyBBLCBBNCBleHRlbmRzIEEsIFI+KFxyXG4gICAgYnJhbmNoZXM6IFtyZWZpbmVCcmFuY2g8QSwgQTEsIFI+LCByZWZpbmVCcmFuY2g8QSwgQTIsIFI+LCByZWZpbmVCcmFuY2g8QSwgQTMsIFI+LCByZWZpbmVCcmFuY2g8QSwgQTQsIFI+XSxcclxuKSA9PlxyXG4gICAgZ3VhcmQoXHJcbiAgICAgICAgYnJhbmNoZXMgYXMgdW5rbm93biBhcyBbXHJcbiAgICAgICAgICAgIHJlZmluZUJyYW5jaDxBLCBBLCBSPixcclxuICAgICAgICAgICAgcmVmaW5lQnJhbmNoPEEsIEEsIFI+LFxyXG4gICAgICAgICAgICByZWZpbmVCcmFuY2g8QSwgQSwgUj4sXHJcbiAgICAgICAgICAgIHJlZmluZUJyYW5jaDxBLCBBLCBSPixcclxuICAgICAgICBdLFxyXG4gICAgKVxyXG5leHBvcnQgY29uc3QgZ3VhcmQ1ID0gPEEsIEExIGV4dGVuZHMgQSwgQTIgZXh0ZW5kcyBBLCBBMyBleHRlbmRzIEEsIEE0IGV4dGVuZHMgQSwgQTUgZXh0ZW5kcyBBLCBSPihcclxuICAgIGJyYW5jaGVzOiBbXHJcbiAgICAgICAgcmVmaW5lQnJhbmNoPEEsIEExLCBSPixcclxuICAgICAgICByZWZpbmVCcmFuY2g8QSwgQTIsIFI+LFxyXG4gICAgICAgIHJlZmluZUJyYW5jaDxBLCBBMywgUj4sXHJcbiAgICAgICAgcmVmaW5lQnJhbmNoPEEsIEE0LCBSPixcclxuICAgICAgICByZWZpbmVCcmFuY2g8QSwgQTUsIFI+LFxyXG4gICAgXSxcclxuKSA9PlxyXG4gICAgZ3VhcmQoXHJcbiAgICAgICAgYnJhbmNoZXMgYXMgdW5rbm93biBhcyBbXHJcbiAgICAgICAgICAgIHJlZmluZUJyYW5jaDxBLCBBLCBSPixcclxuICAgICAgICAgICAgcmVmaW5lQnJhbmNoPEEsIEEsIFI+LFxyXG4gICAgICAgICAgICByZWZpbmVCcmFuY2g8QSwgQSwgUj4sXHJcbiAgICAgICAgICAgIHJlZmluZUJyYW5jaDxBLCBBLCBSPixcclxuICAgICAgICAgICAgcmVmaW5lQnJhbmNoPEEsIEEsIFI+LFxyXG4gICAgICAgIF0sXHJcbiAgICApXHJcblxyXG5leHBvcnQgY29uc3Qgb2JqQ29uY2F0MiA9IDxBMSwgQTI+KCkgPT4gcmVjLmdldFVuaW9uU2VtaWdyb3VwKHNnLmZpcnN0PGFueT4oKSkuY29uY2F0IGFzICh4OiBBMSwgeTogQTIpID0+IEExICYgQTJcclxuZXhwb3J0IGNvbnN0IG9iakNvbmNhdCA9IDxBPigpID0+IGFyLnJlZHVjZSh7fSBhcyBBLCBvYmpDb25jYXQyPEEsIEE+KCkpXHJcblxyXG50eXBlIGFzeW5jID0ge1xyXG4gICAgPEEsIEI+KGY6IChhOiBBKSA9PiBQcm9taXNlPEI+KTogKGZhOiBQcm9taXNlPEE+KSA9PiBQcm9taXNlPEI+XHJcbiAgICA8QSwgQj4oZjogKGE6IEEpID0+IEIpOiAoZmE6IFByb21pc2U8QT4pID0+IFByb21pc2U8Qj5cclxufVxyXG5leHBvcnQgY29uc3QgcE1jaGFpbjogYXN5bmMgPVxyXG4gICAgPEEsIFI+KGY6IChhOiBBKSA9PiBSKSA9PlxyXG4gICAgYXN5bmMgKGZhOiBBKSA9PlxyXG4gICAgICAgIGYoYXdhaXQgZmEpXHJcblxyXG5leHBvcnQgY29uc3QgaXMgPVxyXG4gICAgPEE+KGM6IGtleW9mIEEpID0+XHJcbiAgICA8QiBleHRlbmRzIEE+KGE6IEFbdHlwZW9mIGNdKSA9PlxyXG4gICAgKGZpZWxkOiBBKTogZmllbGQgaXMgQiA9PlxyXG4gICAgICAgIGZpZWxkW2NdID09PSBhXHJcblxyXG5leHBvcnQgY29uc3QgdGFwQW55ID1cclxuICAgIDxBPihmOiAoYTogQSkgPT4gdm9pZCkgPT5cclxuICAgIChmYTogQSkgPT4ge1xyXG4gICAgICAgIGYoZmEpXHJcbiAgICAgICAgcmV0dXJuIGZhXHJcbiAgICB9XHJcblxyXG5leHBvcnQgY29uc3QgY2h1bmNraWZ5ID1cclxuICAgIChuOiBudW1iZXIpID0+XHJcbiAgICA8QSwgUj4oZzogKGE6IEFbXSkgPT4gUHJvbWlzZTxSW10+KSA9PlxyXG4gICAgICAgIGYuZmxvdyhhci5jaHVua3NPZihuKTxBPiwgYXIubWFwKGcpLCBwcyA9PiBQcm9taXNlLmFsbChwcyksIHBNY2hhaW4oYXIuZmxhdHRlbikpXHJcblxyXG5leHBvcnQgY29uc3Qgd2l0aFByb2dyZXNzID1cclxuICAgIDxGIGV4dGVuZHMgKGY6ICguLi5hOiBhbnkpID0+IGFueSkgPT4gKGZhOiBhbnkpID0+IGFueT4obWFwOiBGKSA9PlxyXG4gICAgKGY6IFBhcmFtZXRlcnM8Rj5bMF0pID0+XHJcbiAgICAoZmE6IFBhcmFtZXRlcnM8UmV0dXJuVHlwZTxGPj5bMF0pOiBSZXR1cm5UeXBlPFJldHVyblR5cGU8Rj4+ID0+IHtcclxuICAgICAgICBsZXQgaSA9IDBcclxuICAgICAgICByZXR1cm4gbWFwKGFzeW5jICguLi5hOiBQYXJhbWV0ZXJzPFBhcmFtZXRlcnM8Rj5bMF0+KSA9PiB7XHJcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IEZ1Y2sgbWVcclxuICAgICAgICAgICAgY29uc3QgcmV0ID0gYXdhaXQgZiguLi5hKVxyXG4gICAgICAgICAgICBjb25zdCBwcm9ncmVzcyA9IE1hdGgucm91bmQoKGkrKyAvIE9iamVjdC52YWx1ZXMoZmEpLmxlbmd0aCkgKiAxMDApXHJcbiAgICAgICAgICAgIFNwaWNldGlmeS5zaG93Tm90aWZpY2F0aW9uKGBMb2FkaW5nOiAke3Byb2dyZXNzfSVgLCBmYWxzZSwgMjAwKVxyXG4gICAgICAgICAgICByZXR1cm4gcmV0XHJcbiAgICAgICAgfSkoZmEpXHJcbiAgICB9XHJcblxyXG5leHBvcnQgY29uc3QgbWVtb2l6ZTIgPSA8QSBleHRlbmRzIGFueVtdLCBSPihmbjogKC4uLmFyZ3M6IEEpID0+IFIpID0+XHJcbiAgICBmLnBpcGUoZm4sIGYudHVwbGVkLCBtZW1vaXplPEE+KGVxLmNvbnRyYW1hcChKU09OLnN0cmluZ2lmeSkoc3RyLkVxKSksIGYudW50dXBsZWQpXHJcbiIsICIvLyBleHBvcnQgaW50ZXJmYWNlIFNwb3RpZnlJRFxyXG4vLyAgICAgZXh0ZW5kcyBOZXd0eXBlPHsgcmVhZG9ubHkgU3BvdGlmeUlEOiB1bmlxdWUgc3ltYm9sIH0sIHN0cmluZz4ge31cclxuLy8gZXhwb3J0IGludGVyZmFjZSBTcG90aWZ5VVJJXHJcbi8vICAgICBleHRlbmRzIE5ld3R5cGU8eyByZWFkb25seSBTcG90aWZ5VVJJOiB1bmlxdWUgc3ltYm9sIH0sIHN0cmluZz4ge31cclxuXHJcbmltcG9ydCB7IGFycmF5IGFzIGEsIGZ1bmN0aW9uIGFzIGYgfSBmcm9tIFwiaHR0cHM6Ly9lc20uc2gvZnAtdHNcIlxyXG5cclxuZXhwb3J0IHR5cGUgU3BvdGlmeUlEID0gc3RyaW5nXHJcbmV4cG9ydCB0eXBlIFNwb3RpZnlVUkkgPSBzdHJpbmdcclxuXHJcbmV4cG9ydCB0eXBlIFNwb3RpZnlMb2NPYmogPSB7XHJcbiAgICBiZWZvcmU/OiBcInN0YXJ0XCIgfCB7IHVyaTogU3BvdGlmeVVSSSB9IHwgeyB1aWQ6IHN0cmluZyB9XHJcbiAgICBhZnRlcj86IFwiZW5kXCIgfCB7IHVyaTogU3BvdGlmeVVSSSB9IHwgeyB1aWQ6IHN0cmluZyB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBTcG90aWZ5TG9jID0ge1xyXG4gICAgYmVmb3JlOiB7XHJcbiAgICAgICAgc3RhcnQ6IGYuY29uc3RhbnQoeyBiZWZvcmU6IFwic3RhcnRcIiB9IGFzIFNwb3RpZnlMb2NPYmopLFxyXG4gICAgICAgIGZyb21Vcmk6ICh1cmk6IFNwb3RpZnlVUkkpID0+ICh7IGJlZm9yZTogeyB1cmkgfSB9KSxcclxuICAgICAgICBmcm9tVWlkOiAodWlkOiBzdHJpbmcpID0+ICh7IGJlZm9yZTogeyB1aWQgfSB9KSxcclxuICAgIH0sXHJcbiAgICBhZnRlcjoge1xyXG4gICAgICAgIGVuZDogZi5jb25zdGFudCh7IGFmdGVyOiBcImVuZFwiIH0gYXMgU3BvdGlmeUxvY09iaiksXHJcbiAgICAgICAgZnJvbVVyaTogKHVyaTogU3BvdGlmeVVSSSkgPT4gKHsgYWZ0ZXI6IHsgdXJpIH0gfSksXHJcbiAgICAgICAgZnJvbVVpZDogKHVpZDogc3RyaW5nKSA9PiAoeyBhZnRlcjogeyB1aWQgfSB9KSxcclxuICAgIH0sXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBlc2NhcGVSZWdleCA9IChzdHI6IHN0cmluZykgPT4gc3RyLnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXF1cXFxcXS9nLCBgXFxcXCQmYClcclxuXHJcbmV4cG9ydCBjb25zdCB0aXRsZUNhc2UgPSAoc3RyOiBzdHJpbmcpID0+IHN0ci5yZXBsYWNlKC9cXGJcXHcvZywgbCA9PiBsLnRvVXBwZXJDYXNlKCkpXHJcblxyXG5leHBvcnQgY29uc3Qgbm9ybWFsaXplU3RyID0gKHN0cjogc3RyaW5nKSA9PlxyXG4gICAgc3RyXHJcbiAgICAgICAgLm5vcm1hbGl6ZShcIk5GS0RcIilcclxuICAgICAgICAucmVwbGFjZSgvXFwoLipcXCkvZywgXCJcIilcclxuICAgICAgICAucmVwbGFjZSgvXFxbLipcXF0vZywgXCJcIilcclxuICAgICAgICAucmVwbGFjZSgvLV8sL2csIFwiIFwiKVxyXG4gICAgICAgIC5yZXBsYWNlKC9bXmEtekEtWjAtOSBdL2csIFwiXCIpXHJcbiAgICAgICAgLnJlcGxhY2UoL1xccysvZywgXCIgXCIpXHJcbiAgICAgICAgLnRvTG93ZXJDYXNlKClcclxuICAgICAgICAudHJpbSgpXHJcblxyXG4vLyEgRG9lcyBsb2NhdGlvbiBhY3R1YWxseSBwb2ludCB0byBkb2N1bWVudC5ib2R5P1xyXG5leHBvcnQgY29uc3Qgd2FpdEZvckVsZW1lbnQgPSA8RSBleHRlbmRzIEVsZW1lbnQ+KFxyXG4gICAgc2VsZWN0b3I6IHN0cmluZyxcclxuICAgIHRpbWVvdXQgPSAxMDAwLFxyXG4gICAgbG9jYXRpb24gPSBkb2N1bWVudC5ib2R5LFxyXG4gICAgbm90RWw/OiBFLFxyXG4pID0+XHJcbiAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZTogKHZhbHVlOiBFbGVtZW50IHwgbnVsbCkgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHJlcyA9ICh2OiBhbnkpID0+IHtcclxuICAgICAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpXHJcbiAgICAgICAgICAgIHJlc29sdmUodilcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8RT4oc2VsZWN0b3IpXHJcbiAgICAgICAgICAgIGlmIChlbCAmJiAoIW5vdEVsIHx8IGVsICE9PSBub3RFbCkpIHJldHVybiByZXMoZWwpXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShsb2NhdGlvbiwge1xyXG4gICAgICAgICAgICBjaGlsZExpc3Q6IHRydWUsXHJcbiAgICAgICAgICAgIHN1YnRyZWU6IHRydWUsXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgaWYgKHRpbWVvdXQpIHNldFRpbWVvdXQoKCkgPT4gcmVzKG51bGwpLCB0aW1lb3V0KVxyXG4gICAgfSlcclxuXHJcbmV4cG9ydCBjb25zdCB0cmFwRWxlbWVudCA9IDxFIGV4dGVuZHMgRWxlbWVudD4oXHJcbiAgICBzZWxlY3Rvcjogc3RyaW5nLFxyXG4gICAgY2FsbGJhY2s6IChlbDogRSB8IG51bGwsIGxhc3RFbDogRSB8IG51bGwpID0+IHZvaWQsXHJcbiAgICBsb2NhdGlvbiA9IGRvY3VtZW50LmJvZHksXHJcbikgPT4ge1xyXG4gICAgbGV0IGxhc3RFbDogRSB8IG51bGwgPSBudWxsXHJcblxyXG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEU+KHNlbGVjdG9yKVxyXG4gICAgICAgIGlmIChlbCAhPT0gbGFzdEVsKSBjYWxsYmFjayhlbCwgbGFzdEVsKVxyXG4gICAgICAgIGxhc3RFbCA9IGVsXHJcbiAgICB9KVxyXG5cclxuICAgIG9ic2VydmVyLm9ic2VydmUobG9jYXRpb24sIHtcclxuICAgICAgICBjaGlsZExpc3Q6IHRydWUsXHJcbiAgICAgICAgc3VidHJlZTogdHJ1ZSxcclxuICAgIH0pXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBzbGVlcCA9IChtczogbnVtYmVyKSA9PiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKVxyXG5cclxuZXhwb3J0IGNvbnN0IGdldFJlYWN0UHJvcHMgPSAoZWxlbWVudDogRWxlbWVudCkgPT5cclxuICAgIGVsZW1lbnRbT2JqZWN0LmtleXMoZWxlbWVudCkuZmluZChrID0+IGsuc3RhcnRzV2l0aChcIl9fcmVhY3RQcm9wcyRcIikpIGFzIGtleW9mIHR5cGVvZiBlbGVtZW50XVxyXG5cclxuZXhwb3J0IGNvbnN0IGlzTGlrZWQgPSAodXJpczogU3BvdGlmeVVSSVtdKSA9PiBTcGljZXRpZnkuUGxhdGZvcm0uTGlicmFyeUFQSS5jb250YWlucyguLi51cmlzKSBhcyBQcm9taXNlPGJvb2xlYW5bXT5cclxuXHJcbmV4cG9ydCBjb25zdCBzZXRMaWtlZCA9ICh1cmlzOiBTcG90aWZ5VVJJW10sIGxpa2VkOiBib29sZWFuKSA9PlxyXG4gICAgU3BpY2V0aWZ5LlBsYXRmb3JtLkxpYnJhcnlBUElbbGlrZWQgPyBcImFkZFwiIDogXCJyZW1vdmVcIl0oLi4udXJpcylcclxuXHJcbmV4cG9ydCBjb25zdCB0b2dnbGVMaWtlZCA9IGFzeW5jICh1cmlzOiBTcG90aWZ5VVJJW10pID0+IHtcclxuICAgIGNvbnN0IGxpa2VkID0gYXdhaXQgaXNMaWtlZCh1cmlzKVxyXG5cclxuICAgIHJldHVybiBhd2FpdCBmLnBpcGUoXHJcbiAgICAgICAgdXJpcyxcclxuICAgICAgICBhLnJlZHVjZVdpdGhJbmRleChcclxuICAgICAgICAgICAgW1tdIGFzIFNwb3RpZnlVUklbXSwgW10gYXMgU3BvdGlmeVVSSVtdXSBhcyBjb25zdCxcclxuICAgICAgICAgICAgKGksIGFjYywgdXJpKSA9PiAoYWNjW051bWJlcihsaWtlZFtpXSldLnB1c2godXJpKSwgYWNjKSxcclxuICAgICAgICApLFxyXG4gICAgICAgIChbdG9BZGQsIHRvUmVtXSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBwcyA9IFtdXHJcbiAgICAgICAgICAgIGlmICh0b0FkZC5sZW5ndGgpIHBzLnB1c2goc2V0TGlrZWQodG9BZGQsIHRydWUpKVxyXG4gICAgICAgICAgICBpZiAodG9SZW0ubGVuZ3RoKSBwcy5wdXNoKHNldExpa2VkKHRvUmVtLCBmYWxzZSkpXHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChwcylcclxuICAgICAgICB9LFxyXG4gICAgKVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlUXVldWVJdGVtID0gKHF1ZXVlZDogYm9vbGVhbikgPT4gKHVyaTogU3BvdGlmeVVSSSkgPT4gKHtcclxuICAgIGNvbnRleHRUcmFjazoge1xyXG4gICAgICAgIHVyaSxcclxuICAgICAgICB1aWQ6IFwiXCIsXHJcbiAgICAgICAgbWV0YWRhdGE6IHtcclxuICAgICAgICAgICAgaXNfcXVldWVkOiBxdWV1ZWQudG9TdHJpbmcoKSxcclxuICAgICAgICB9LFxyXG4gICAgfSxcclxuICAgIHJlbW92ZWQ6IFtdLFxyXG4gICAgYmxvY2tlZDogW10sXHJcbiAgICBwcm92aWRlcjogcXVldWVkID8gXCJxdWV1ZVwiIDogXCJjb250ZXh0XCIsXHJcbn0pXHJcblxyXG5leHBvcnQgY29uc3Qgc2V0UXVldWUgPSBhc3luYyAobmV4dFRyYWNrczogQXJyYXk8UmV0dXJuVHlwZTxSZXR1cm5UeXBlPHR5cGVvZiBjcmVhdGVRdWV1ZUl0ZW0+Pj4pID0+IHtcclxuICAgIGNvbnN0IHsgX3F1ZXVlLCBfY2xpZW50IH0gPSBTcGljZXRpZnkuUGxhdGZvcm0uUGxheWVyQVBJLl9xdWV1ZVxyXG4gICAgY29uc3QgeyBwcmV2VHJhY2tzLCBxdWV1ZVJldmlzaW9uIH0gPSBfcXVldWVcclxuXHJcbiAgICByZXR1cm4gX2NsaWVudC5zZXRRdWV1ZSh7XHJcbiAgICAgICAgbmV4dFRyYWNrcyxcclxuICAgICAgICBwcmV2VHJhY2tzLFxyXG4gICAgICAgIHF1ZXVlUmV2aXNpb24sXHJcbiAgICB9KSBhcyBQcm9taXNlPHsgZXJyb3I6IG51bWJlcjsgcmVhc29uczogc3RyaW5nIH0+XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBzZXRQbGF5aW5nQ29udGV4dCA9ICh1cmk6IFNwb3RpZnlVUkkpID0+IHtcclxuICAgIGNvbnN0IHsgc2Vzc2lvbklkIH0gPSBTcGljZXRpZnkuUGxhdGZvcm0uUGxheWVyQVBJLmdldFN0YXRlKClcclxuICAgIHJldHVybiBTcGljZXRpZnkuUGxhdGZvcm0uUGxheWVyQVBJLnVwZGF0ZUNvbnRleHQoc2Vzc2lvbklkLCB7IHVyaSwgdXJsOiBcImNvbnRleHQ6Ly9cIiArIHVyaSB9KSBhcyBQcm9taXNlPHVuZGVmaW5lZD5cclxufVxyXG4iLCAiaW1wb3J0IHsgY2h1bmNraWZ5LCBtZW1vaXplMiB9IGZyb20gXCIuL2ZwLnRzXCJcclxuaW1wb3J0IHsgU3BvdGlmeUlELCBTcG90aWZ5TG9jT2JqLCBTcG90aWZ5VVJJLCBlc2NhcGVSZWdleCB9IGZyb20gXCIuL3V0aWwudHNcIlxyXG5cclxuLyogICAgICAgICAgICAgICAgICAgICAgICAgIEdyYXBoUUwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cclxuXHJcbmV4cG9ydCBjb25zdCBmZXRjaEdRTEFsYnVtID0gYXN5bmMgKHVyaTogU3BvdGlmeVVSSSwgb2Zmc2V0ID0gMCwgbGltaXQgPSA0ODcpID0+XHJcbiAgICAoXHJcbiAgICAgICAgYXdhaXQgU3BpY2V0aWZ5LkdyYXBoUUwuUmVxdWVzdChTcGljZXRpZnkuR3JhcGhRTC5EZWZpbml0aW9ucy5nZXRBbGJ1bSwge1xyXG4gICAgICAgICAgICB1cmksXHJcbiAgICAgICAgICAgIGxvY2FsZTogU3BpY2V0aWZ5LkxvY2FsZS5nZXRMb2NhbGUoKSxcclxuICAgICAgICAgICAgb2Zmc2V0LFxyXG4gICAgICAgICAgICBsaW1pdCxcclxuICAgICAgICB9KVxyXG4gICAgKS5kYXRhLmFsYnVtVW5pb24gYXMgZmV0Y2hHUUxBbGJ1bVJlc1xyXG5cclxudHlwZSBmZXRjaEFydGlzdEdRTFJlcyA9IGFueVxyXG5leHBvcnQgY29uc3QgZmV0Y2hHUUxBcnRpc3RPdmVydmlldyA9IGFzeW5jICh1cmk6IFNwb3RpZnlVUkkpID0+XHJcbiAgICAoXHJcbiAgICAgICAgYXdhaXQgU3BpY2V0aWZ5LkdyYXBoUUwuUmVxdWVzdChTcGljZXRpZnkuR3JhcGhRTC5EZWZpbml0aW9ucy5xdWVyeUFydGlzdE92ZXJ2aWV3LCB7XHJcbiAgICAgICAgICAgIHVyaSxcclxuICAgICAgICAgICAgbG9jYWxlOiBTcGljZXRpZnkuTG9jYWxlLmdldExvY2FsZSgpLFxyXG4gICAgICAgICAgICBpbmNsdWRlUHJlcmVsZWFzZTogdHJ1ZSxcclxuICAgICAgICB9KVxyXG4gICAgKS5kYXRhLmFydGlzdFVuaW9uIGFzIGZldGNoQXJ0aXN0R1FMUmVzXHJcblxyXG50eXBlIGZldGNoR1FMQXJ0aXN0RGlzY29ncmFwaHlSZXMgPSBhbnlcclxuZXhwb3J0IGNvbnN0IGZldGNoR1FMQXJ0aXN0RGlzY29ncmFwaHkgPSBhc3luYyAodXJpOiBTcG90aWZ5VVJJLCBvZmZzZXQgPSAwLCBsaW1pdCA9IDExNikgPT5cclxuICAgIChcclxuICAgICAgICBhd2FpdCBTcGljZXRpZnkuR3JhcGhRTC5SZXF1ZXN0KFNwaWNldGlmeS5HcmFwaFFMLkRlZmluaXRpb25zLnF1ZXJ5QXJ0aXN0RGlzY29ncmFwaHlBbGwsIHtcclxuICAgICAgICAgICAgdXJpLFxyXG4gICAgICAgICAgICBvZmZzZXQsXHJcbiAgICAgICAgICAgIGxpbWl0LFxyXG4gICAgICAgIH0pXHJcbiAgICApLmRhdGEuYXJ0aXN0VW5pb24uZGlzY29ncmFwaHkuYWxsLml0ZW1zIGFzIGZldGNoR1FMQXJ0aXN0RGlzY29ncmFwaHlSZXNcclxuXHJcbmV4cG9ydCBjb25zdCBmZXRjaEdRTEFydGlzdFJlbGF0ZWQgPSBhc3luYyAodXJpOiBTcG90aWZ5VVJJKSA9PlxyXG4gICAgKFxyXG4gICAgICAgIGF3YWl0IFNwaWNldGlmeS5HcmFwaFFMLlJlcXVlc3QoU3BpY2V0aWZ5LkdyYXBoUUwuRGVmaW5pdGlvbnMucXVlcnlBcnRpc3RSZWxhdGVkLCB7XHJcbiAgICAgICAgICAgIHVyaSxcclxuICAgICAgICAgICAgbG9jYWxlOiBTcGljZXRpZnkuTG9jYWxlLmdldExvY2FsZSgpLFxyXG4gICAgICAgIH0pXHJcbiAgICApLmRhdGEuYXJ0aXN0VW5pb24ucmVsYXRlZENvbnRlbnQucmVsYXRlZEFydGlzdHMuaXRlbXMgYXMgZmV0Y2hHUUxBcnRpc3RSZWxhdGVkUmVzXHJcblxyXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgU3BvdGlmeSBXZWIgQVBJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xyXG5cclxuZXhwb3J0IGNvbnN0IHJlbW92ZVdlYlBsYXlsaXN0VHJhY2tzID0gYXN5bmMgKHBsYXlsaXN0OiBTcG90aWZ5SUQsIHRyYWNrczogU3BvdGlmeVVSSVtdKSA9PlxyXG4gICAgU3BpY2V0aWZ5LkNvc21vc0FzeW5jLmRlbChgaHR0cHM6Ly9hcGkuc3BvdGlmeS5jb20vdjEvcGxheWxpc3RzLyR7cGxheWxpc3R9L3RyYWNrc2AsIHtcclxuICAgICAgICB0cmFja3M6IHRyYWNrcy5tYXAodXJpID0+ICh7IHVyaSB9KSksXHJcbiAgICB9KVxyXG5cclxuZXhwb3J0IGNvbnN0IGZldGNoV2ViQXJ0aXN0c1Nwb3QgPSBjaHVuY2tpZnkoNTApKFxyXG4gICAgYXN5bmMgKGlkczogU3BvdGlmeUlEW10pID0+XHJcbiAgICAgICAgKGF3YWl0IFNwaWNldGlmeS5Db3Ntb3NBc3luYy5nZXQoYGh0dHBzOi8vYXBpLnNwb3RpZnkuY29tL3YxL2FydGlzdHM/aWRzPSR7aWRzLmpvaW4oXCIsXCIpfWApKVxyXG4gICAgICAgICAgICAuYXJ0aXN0cyBhcyBTcG90QXBpQXJ0aXN0W10sXHJcbilcclxuXHJcbmV4cG9ydCBjb25zdCBmZXRjaFdlYlBsYXlsaXN0c1Nwb3QgPSBjaHVuY2tpZnkoMSkoXHJcbiAgICAvLyBAdHMtaWdub3JlIGNodW5raWZ5IHdpbGwgbmV2ZXIgY2FsbCB3aXRoIGVtcHR5IGFycmF5XHJcbiAgICBhc3luYyAoW2lkXTogW1Nwb3RpZnlJRF0pID0+IFtcclxuICAgICAgICAoYXdhaXQgU3BpY2V0aWZ5LkNvc21vc0FzeW5jLmdldChgaHR0cHM6Ly9hcGkuc3BvdGlmeS5jb20vdjEvcGxheWxpc3RzLyR7aWR9YCkpIGFzIFNwb3RBcGlQbGF5bGlzdCxcclxuICAgIF0sXHJcbilcclxuZXhwb3J0IGNvbnN0IGZldGNoV2ViQWxidW1zU3BvdCA9IGNodW5ja2lmeSg1MCkoXHJcbiAgICBhc3luYyAoaWRzOiBTcG90aWZ5SURbXSkgPT5cclxuICAgICAgICAoYXdhaXQgU3BpY2V0aWZ5LkNvc21vc0FzeW5jLmdldChgaHR0cHM6Ly9hcGkuc3BvdGlmeS5jb20vdjEvYWxidW1zP2lkcz0ke2lkcy5qb2luKFwiLFwiKX1gKSlcclxuICAgICAgICAgICAgLmFsYnVtcyBhcyBTcG90QXBpQWxidW1bXSxcclxuKVxyXG5cclxuZXhwb3J0IGNvbnN0IGZldGNoV2ViVHJhY2tzU3BvdCA9IGNodW5ja2lmeSg1MCkoXHJcbiAgICBhc3luYyAoaWRzOiBTcG90aWZ5SURbXSkgPT5cclxuICAgICAgICAoYXdhaXQgU3BpY2V0aWZ5LkNvc21vc0FzeW5jLmdldChgaHR0cHM6Ly9hcGkuc3BvdGlmeS5jb20vdjEvdHJhY2tzP2lkcz0ke2lkcy5qb2luKFwiLFwiKX1gKSlcclxuICAgICAgICAgICAgLnRyYWNrcyBhcyBTcG90QXBpVHJhY2tbXSxcclxuKVxyXG5cclxuZXhwb3J0IGNvbnN0IHNlYXJjaFdlYkl0ZW1TcG90ID0gYXN5bmMgKHE6IHN0cmluZywgdHlwZTogc3RyaW5nW10pID0+XHJcbiAgICBTcGljZXRpZnkuQ29zbW9zQXN5bmMuZ2V0KGBodHRwczovL2FwaS5zcG90aWZ5LmNvbS92MS9zZWFyY2g/cT0ke2VuY29kZVVSSUNvbXBvbmVudChxKX0mdHlwZT0ke3R5cGUuam9pbihcIixcIil9YClcclxuXHJcbmV4cG9ydCBjb25zdCBmZXRjaFdlYlNvdW5kT2ZTcG90aWZ5UGxheWxpc3QgPSBhc3luYyAoZ2VucmU6IHN0cmluZykgPT4ge1xyXG4gICAgY29uc3QgbmFtZSA9IGBUaGUgU291bmQgT2YgJHtnZW5yZX1gXHJcbiAgICBjb25zdCByZSA9IG5ldyBSZWdFeHAoYF4ke2VzY2FwZVJlZ2V4KG5hbWUpfSRgLCBcImlcIilcclxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHNlYXJjaFdlYkl0ZW1TcG90KG5hbWUsIFtcInBsYXlsaXN0XCJdKVxyXG4gICAgY29uc3QgaXRlbSA9IHJlcy5wbGF5bGlzdHMuaXRlbXNbMF1cclxuICAgIHJldHVybiBpdGVtPy5vd25lci5pZCA9PT0gXCJ0aGVzb3VuZHNvZnNwb3RpZnlcIiAmJiByZS50ZXN0KGl0ZW0ubmFtZSkgPyBpdGVtLnVyaSA6IG51bGxcclxufVxyXG5cclxuLyogICAgICAgICAgICAgICAgICAgICAgICAgIFBsYXRmb3JtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cclxuXHJcbmV4cG9ydCBjb25zdCBmZXRjaFBsYXRMaWtlZFRyYWNrcyA9IGFzeW5jICgpID0+XHJcbiAgICAoXHJcbiAgICAgICAgYXdhaXQgU3BpY2V0aWZ5LlBsYXRmb3JtLkxpYnJhcnlBUEkuZ2V0VHJhY2tzKHtcclxuICAgICAgICAgICAgbGltaXQ6IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSLFxyXG4gICAgICAgIH0pXHJcbiAgICApLml0ZW1zIGFzIGZldGNoUGxhdEFydGlzdExpa2VkVHJhY2tzUmVzXHJcbmV4cG9ydCBjb25zdCBmZXRjaFBsYXRBcnRpc3RMaWtlZFRyYWNrcyA9IGFzeW5jICh1cmk6IFNwb3RpZnlVUkksIG9mZnNldCA9IDAsIGxpbWl0ID0gMTAwKSA9PlxyXG4gICAgKGF3YWl0IFNwaWNldGlmeS5QbGF0Zm9ybS5MaWJyYXJ5QVBJLmdldFRyYWNrcyh7IHVyaSwgb2Zmc2V0LCBsaW1pdCB9KSkuaXRlbXMgYXMgZmV0Y2hQbGF0QXJ0aXN0TGlrZWRUcmFja3NSZXNcclxuXHJcbmV4cG9ydCBjb25zdCBmZXRjaFBsYXRQbGF5bGlzdENvbnRlbnRzID0gYXN5bmMgKHVyaTogU3BvdGlmeVVSSSkgPT5cclxuICAgIChhd2FpdCBTcGljZXRpZnkuUGxhdGZvcm0uUGxheWxpc3RBUEkuZ2V0Q29udGVudHModXJpKSkuaXRlbXMgYXMgZmV0Y2hXZWJQbGF5bGlzdFJlc1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVBsYXRGb2xkZXIgPSBhc3luYyAobmFtZTogc3RyaW5nLCBsb2NhdGlvbjogU3BvdGlmeUxvY09iaiA9IHt9KSA9PlxyXG4gICAgYXdhaXQgU3BpY2V0aWZ5LlBsYXRmb3JtLlJvb3RsaXN0QVBJLmNyZWF0ZUZvbGRlcihuYW1lLCBsb2NhdGlvbilcclxuXHJcbmV4cG9ydCBjb25zdCBsaWtlUGxhdFBsYXlsaXN0ID0gYXN5bmMgKHVyaTogU3BvdGlmeVVSSSkgPT4gYXdhaXQgU3BpY2V0aWZ5LlBsYXRmb3JtLlJvb3RsaXN0QVBJLmFkZChbdXJpXSlcclxuXHJcbi8qIFJlcGxhY2VkIGJ5IGNyZWF0ZVNQUGxheWxpc3RGcm9tVHJhY2tzICovXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVQbGF0UGxheWxpc3QgPSBhc3luYyAobmFtZTogc3RyaW5nLCBsb2NhdGlvbjogU3BvdGlmeUxvY09iaiA9IHt9KSA9PlxyXG4gICAgYXdhaXQgU3BpY2V0aWZ5LlBsYXRmb3JtLlJvb3RsaXN0QVBJLmNyZWF0ZVBsYXlsaXN0KG5hbWUsIGxvY2F0aW9uKVxyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVNQUGxheWxpc3RGcm9tVHJhY2tzID0gKG5hbWU6IHN0cmluZywgdHJhY2tzOiBTcG90aWZ5VVJJW10sIGZvbGRlcj86IFNwb3RpZnlVUkkpID0+XHJcbiAgICBTcGljZXRpZnkuQ29zbW9zQXN5bmMucG9zdChcInNwOi8vY29yZS1wbGF5bGlzdC92MS9yb290bGlzdD9yZXNwb25zZUZvcm1hdD1wcm90b2J1Zkpzb25cIiwge1xyXG4gICAgICAgIG9wZXJhdGlvbjogXCJjcmVhdGVcIixcclxuICAgICAgICAuLi4oZm9sZGVyID8geyBhZnRlcjogZm9sZGVyIH0gOiB7fSksXHJcbiAgICAgICAgbmFtZSxcclxuICAgICAgICBwbGF5bGlzdDogdHJ1ZSxcclxuICAgICAgICB1cmlzOiB0cmFja3MsXHJcbiAgICB9KVxyXG5cclxuZXhwb3J0IGNvbnN0IHNldFBsYXRQbGF5bGlzdFZpc2liaWxpdHkgPSBhc3luYyAocGxheWxpc3Q6IFNwb3RpZnlVUkksIHZpc2libGVGb3JBbGw6IGJvb2xlYW4pID0+XHJcbiAgICBhd2FpdCBTcGljZXRpZnkuUGxhdGZvcm0uUGxheWxpc3RQZXJtaXNzaW9uc0FQSS5zZXRCYXNlUGVybWlzc2lvbihwbGF5bGlzdCwgdmlzaWJsZUZvckFsbCA/IFwiVklFV0VSXCIgOiBcIkJMT0NLRURcIilcclxuZXhwb3J0IGNvbnN0IHNldFBsYXRQbGF5bGlzdFB1Ymxpc2hlZCA9IGFzeW5jIChwbGF5bGlzdDogU3BvdGlmeVVSSSwgcHVibGlzaGVkOiBib29sZWFuKSA9PlxyXG4gICAgYXdhaXQgU3BpY2V0aWZ5LlBsYXRmb3JtLlJvb3RsaXN0QVBJLnNldFB1Ymxpc2hlZFN0YXRlKHBsYXlsaXN0LCBwdWJsaXNoZWQpXHJcblxyXG5leHBvcnQgY29uc3QgZmV0Y2hQbGF0Rm9sZGVyID0gYXN5bmMgKGZvbGRlcj86IFNwb3RpZnlVUkkpID0+XHJcbiAgICAoYXdhaXQgU3BpY2V0aWZ5LlBsYXRmb3JtLlJvb3RsaXN0QVBJLmdldENvbnRlbnRzKHsgZm9sZGVyVXJpOiBmb2xkZXIgfSkpIGFzIGZldGNoUGxhdEZvbGRlclJlc1xyXG5leHBvcnQgY29uc3QgZmV0Y2hQbGF0Um9vdEZvbGRlciA9ICgpID0+IGZldGNoUGxhdEZvbGRlcih1bmRlZmluZWQpXHJcblxyXG5leHBvcnQgY29uc3QgYWRkUGxhdFBsYXlsaXN0VHJhY2tzID0gYXN5bmMgKHBsYXlsaXN0OiBTcG90aWZ5VVJJLCB0cmFja3M6IFNwb3RpZnlVUklbXSwgbG9jYXRpb246IFNwb3RpZnlMb2NPYmogPSB7fSkgPT5cclxuICAgIGF3YWl0IFNwaWNldGlmeS5QbGF0Zm9ybS5QbGF5bGlzdEFQSS5hZGQocGxheWxpc3QsIHRyYWNrcywgbG9jYXRpb24pXHJcblxyXG5leHBvcnQgY29uc3QgbW92ZVBsYXRQbGF5bGlzdFRyYWNrcyA9IGFzeW5jIChcclxuICAgIHBsYXlsaXN0OiBTcG90aWZ5VVJJLFxyXG4gICAgdHJhY2tzOiBBcnJheTx7IHVpZDogc3RyaW5nIH0+LFxyXG4gICAgbG9jYXRpb246IFNwb3RpZnlMb2NPYmogPSB7fSxcclxuKSA9PiBhd2FpdCBTcGljZXRpZnkuUGxhdGZvcm0uUGxheWxpc3RBUEkubW92ZShwbGF5bGlzdCwgdHJhY2tzLCBsb2NhdGlvbilcclxuXHJcbmV4cG9ydCBjb25zdCBmZXRjaFBsYXRQbGF5bGlzdEVuaGFuY2VkU29uZ3MzMDAgPSBhc3luYyAodXJpOiBTcG90aWZ5VVJJLCBvZmZzZXQgPSAwLCBsaW1pdCA9IDMwMCkgPT5cclxuICAgIChhd2FpdCBTcGljZXRpZnkuUGxhdGZvcm0uRW5oYW5jZUFQSS5nZXRQYWdlKHVyaSwgLyogaXRlcmF0aW9uICovIDAsIC8qIHNlc3Npb25JZCAqLyAwLCBvZmZzZXQsIGxpbWl0KSkuZW5oYW5jZVBhZ2VcclxuICAgICAgICAucGFnZUl0ZW1zIGFzIGFueVtdXHJcbmV4cG9ydCBjb25zdCBmZXRjaFBsYXRQbGF5bGlzdEVuaGFuY2VkU29uZ3MgPSBhc3luYyAodXJpOiBTcG90aWZ5VVJJLCBvZmZzZXQgPSAwKTogUHJvbWlzZTxhbnlbXT4gPT4ge1xyXG4gICAgY29uc3QgbmV4dFBhZ2VJdGVtcyA9IGF3YWl0IGZldGNoUGxhdFBsYXlsaXN0RW5oYW5jZWRTb25nczMwMCh1cmksIG9mZnNldClcclxuICAgIGlmIChuZXh0UGFnZUl0ZW1zPy5sZW5ndGggPCAzMDApIHJldHVybiBuZXh0UGFnZUl0ZW1zXHJcbiAgICBlbHNlIHJldHVybiBuZXh0UGFnZUl0ZW1zLmNvbmNhdChmZXRjaFBsYXRQbGF5bGlzdEVuaGFuY2VkU29uZ3ModXJpLCBvZmZzZXQgKyAzMDApKVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZmV0Y2hMb2NhbFRyYWNrcyA9IGFzeW5jICgpID0+IGF3YWl0IFNwaWNldGlmeS5QbGF0Zm9ybS5Mb2NhbEZpbGVzQVBJLmdldFRyYWNrcygpXHJcblxyXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgTm9uIFNwb3RpZnkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xyXG5cclxuZXhwb3J0IGNvbnN0IGZldGNoVHJhY2tMRk1BUEkgPSBhc3luYyAoTEZNQXBpS2V5OiBzdHJpbmcsIGFydGlzdDogc3RyaW5nLCB0cmFja05hbWU6IHN0cmluZywgbGFzdEZtVXNlcm5hbWUgPSBcIlwiKSA9PiB7XHJcbiAgICBjb25zdCB1cmwgPSBuZXcgVVJMKFwiaHR0cHM6Ly93cy5hdWRpb3Njcm9iYmxlci5jb20vMi4wL1wiKVxyXG4gICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoXCJtZXRob2RcIiwgXCJ0cmFjay5nZXRJbmZvXCIpXHJcbiAgICB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChcImFwaV9rZXlcIiwgTEZNQXBpS2V5KVxyXG4gICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoXCJhcnRpc3RcIiwgYXJ0aXN0KVxyXG4gICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoXCJ0cmFja1wiLCB0cmFja05hbWUpXHJcbiAgICB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChcImZvcm1hdFwiLCBcImpzb25cIilcclxuICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKFwidXNlcm5hbWVcIiwgbGFzdEZtVXNlcm5hbWUpXHJcblxyXG4gICAgcmV0dXJuIChhd2FpdCBmZXRjaCh1cmwpLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpKSBhcyBmZXRjaFRyYWNrTEZNQVBJUmVzXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBmZXRjaFRyYWNrTEZNQVBJTWVtb2l6ZWQgPSBtZW1vaXplMihmZXRjaFRyYWNrTEZNQVBJKVxyXG5cclxuZXhwb3J0IGNvbnN0IHNlYXJjaFlvdXR1YmUgPSBhc3luYyAoWW91VHViZUFwaUtleTogc3RyaW5nLCBzZWFyY2hTdHJpbmc6IHN0cmluZykgPT4ge1xyXG4gICAgY29uc3QgdXJsID0gbmV3IFVSTChcImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL3lvdXR1YmUvdjMvc2VhcmNoXCIpXHJcbiAgICB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChcInBhcnRcIiwgXCJzbmlwcGV0XCIpXHJcbiAgICB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChcIm1heFJlc3VsdHNcIiwgXCIxMFwiKVxyXG4gICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoXCJxXCIsIHNlYXJjaFN0cmluZylcclxuICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKFwidHlwZVwiLCBcInZpZGVvXCIpXHJcbiAgICB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChcImtleVwiLCBZb3VUdWJlQXBpS2V5KVxyXG5cclxuICAgIHJldHVybiAoYXdhaXQgZmV0Y2godXJsKS50aGVuKHJlcyA9PiByZXMuanNvbigpKSkgYXMgYW55W11cclxufVxyXG5cclxuLyogICAgICAgICAgICAgICAgICAgICAgICAgIFR5cGVzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgZmV0Y2hHUUxBbGJ1bVJlcyB7XHJcbiAgICBfX3R5cGVuYW1lOiBcImFsYnVtXCJcclxuICAgIHVyaTogU3BvdGlmeVVSSVxyXG4gICAgbmFtZTogc3RyaW5nXHJcbiAgICBhcnRpc3RzOiB7XHJcbiAgICAgICAgdG90YWxDb3VudDogbnVtYmVyXHJcbiAgICAgICAgaXRlbXM6IEFycmF5PHtcclxuICAgICAgICAgICAgaWQ6IHN0cmluZ1xyXG4gICAgICAgICAgICB1cmk6IFNwb3RpZnlVUklcclxuICAgICAgICAgICAgcHJvZmlsZToge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogc3RyaW5nXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmlzdWFsczoge1xyXG4gICAgICAgICAgICAgICAgYXZhdGFySW1hZ2U6IHtcclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VzOiBTcG90QXBpSW1hZ2VbXVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNoYXJpbmdJbmZvOiB7XHJcbiAgICAgICAgICAgICAgICBzaGFyZVVybDogc3RyaW5nXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9PlxyXG4gICAgfVxyXG4gICAgY292ZXJBcnQ6IHtcclxuICAgICAgICBleHRyYWN0ZWRDb2xvcnM6IHtcclxuICAgICAgICAgICAgY29sb3JSYXc6IHtcclxuICAgICAgICAgICAgICAgIGhleDogc3RyaW5nXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29sb3JMaWdodDoge1xyXG4gICAgICAgICAgICAgICAgaGV4OiBzdHJpbmdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb2xvckRhcms6IHtcclxuICAgICAgICAgICAgICAgIGhleDogc3RyaW5nXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgc291cmNlczogU3BvdEFwaUltYWdlW11cclxuICAgIH1cclxuICAgIGRpc2NzOiB7XHJcbiAgICAgICAgdG90YWxDb3VudDogbnVtYmVyXHJcbiAgICAgICAgaXRlbXM6IEFycmF5PHtcclxuICAgICAgICAgICAgbnVtYmVyOiBudW1iZXJcclxuICAgICAgICAgICAgdHJhY2tzOiB7XHJcbiAgICAgICAgICAgICAgICB0b3RhbENvdW50OiBudW1iZXJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0+XHJcbiAgICB9XHJcbiAgICByZWxlYXNlczoge1xyXG4gICAgICAgIHRvdGFsQ291bnQ6IG51bWJlclxyXG4gICAgICAgIGl0ZW1zOiBBcnJheTx7XHJcbiAgICAgICAgICAgIHVyaTogU3BvdGlmeVVSSVxyXG4gICAgICAgICAgICBuYW1lOiBzdHJpbmdcclxuICAgICAgICB9PlxyXG4gICAgfVxyXG4gICAgdHlwZTogc3RyaW5nXHJcbiAgICBkYXRlOiB7XHJcbiAgICAgICAgaXNvU3RyaW5nOiBzdHJpbmdcclxuICAgICAgICBwcmVjaXNpb246IHN0cmluZ1xyXG4gICAgfVxyXG4gICAgcGxheWFiaWxpdHk6IHtcclxuICAgICAgICBwbGF5YWJsZTogYm9vbGVhblxyXG4gICAgICAgIHJlYXNvbjogc3RyaW5nXHJcbiAgICB9XHJcbiAgICBsYWJlbDogc3RyaW5nXHJcbiAgICBjb3B5cmlnaHQ6IHtcclxuICAgICAgICB0b3RhbENvdW50OiBudW1iZXJcclxuICAgICAgICBpdGVtczogQXJyYXk8e1xyXG4gICAgICAgICAgICB0eXBlOiBzdHJpbmdcclxuICAgICAgICAgICAgdGV4dDogc3RyaW5nXHJcbiAgICAgICAgfT5cclxuICAgIH1cclxuICAgIGNvdXJ0ZXN5TGluZTogc3RyaW5nXHJcbiAgICBzYXZlZDogYm9vbGVhblxyXG4gICAgc2hhcmluZ0luZm86IHtcclxuICAgICAgICBzaGFyZVVybDogc3RyaW5nXHJcbiAgICAgICAgc2hhcmVJZDogc3RyaW5nXHJcbiAgICB9XHJcbiAgICB0cmFja3M6IHtcclxuICAgICAgICB0b3RhbENvdW50OiBudW1iZXJcclxuICAgICAgICBpdGVtczogQXJyYXk8e1xyXG4gICAgICAgICAgICB1aWQ6IHN0cmluZ1xyXG4gICAgICAgICAgICB0cmFjazoge1xyXG4gICAgICAgICAgICAgICAgc2F2ZWQ6IGJvb2xlYW5cclxuICAgICAgICAgICAgICAgIHVyaTogU3BvdGlmeVVSSVxyXG4gICAgICAgICAgICAgICAgbmFtZTogc3RyaW5nXHJcbiAgICAgICAgICAgICAgICBwbGF5Y291bnQ6IHN0cmluZ1xyXG4gICAgICAgICAgICAgICAgZGlzY051bWJlcjogbnVtYmVyXHJcbiAgICAgICAgICAgICAgICB0cmFja051bWJlcjogbnVtYmVyXHJcbiAgICAgICAgICAgICAgICBjb250ZW50UmF0aW5nOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHN0cmluZ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmVsaW5raW5nSW5mb3JtYXRpb246IGFueVxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IHtcclxuICAgICAgICAgICAgICAgICAgICB0b3RhbE1pbGxpc2Vjb25kczogbnVtYmVyXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBwbGF5YWJpbGl0eToge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXlhYmxlOiBib29sZWFuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBhcnRpc3RzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbXM6IEFycmF5PHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXJpOiBTcG90aWZ5VVJJXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2ZpbGU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHN0cmluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfT5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0+XHJcbiAgICB9XHJcbiAgICBtb3JlQWxidW1zQnlBcnRpc3Q6IHtcclxuICAgICAgICBpdGVtczogQXJyYXk8e1xyXG4gICAgICAgICAgICBkaXNjb2dyYXBoeToge1xyXG4gICAgICAgICAgICAgICAgcG9wdWxhclJlbGVhc2VzQWxidW1zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbXM6IEFycmF5PHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHN0cmluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmk6IFNwb3RpZnlVUklcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogc3RyaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHllYXI6IG51bWJlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdmVyQXJ0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VzOiBTcG90QXBpSW1hZ2VbXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXlhYmlsaXR5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5YWJsZTogYm9vbGVhblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uOiBzdHJpbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaGFyaW5nSW5mbzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhcmVJZDogc3RyaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFyZVVybDogc3RyaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogc3RyaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgfT5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0+XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIGZldGNoR1FMQXJ0aXN0UmVsYXRlZFJlcyA9IEFycmF5PHtcclxuICAgIGlkOiBzdHJpbmdcclxuICAgIHVyaTogU3BvdGlmeVVSSVxyXG4gICAgcHJvZmlsZToge1xyXG4gICAgICAgIG5hbWU6IHN0cmluZ1xyXG4gICAgfVxyXG4gICAgdmlzdWFsczoge1xyXG4gICAgICAgIGF2YXRhckltYWdlOiB7XHJcbiAgICAgICAgICAgIHNvdXJjZXM6IFNwb3RBcGlJbWFnZVtdXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59PlxyXG5cclxuZXhwb3J0IHR5cGUgZmV0Y2hQbGF0QXJ0aXN0TGlrZWRUcmFja3NSZXMgPSBBcnJheTx7XHJcbiAgICB0eXBlOiBzdHJpbmdcclxuICAgIHVyaTogc3RyaW5nXHJcbiAgICBuYW1lOiBzdHJpbmdcclxuICAgIGR1cmF0aW9uOiBTcG90QXBpRHVyYXRpb25cclxuICAgIGFsYnVtOiBTcG90QXBpQWxidW1NaW5cclxuICAgIGFydGlzdHM6IFNwb3RBcGlBcnRpc3RNaW5bXVxyXG4gICAgZGlzY051bWJlcjogbnVtYmVyXHJcbiAgICB0cmFja051bWJlcjogbnVtYmVyXHJcbiAgICBpc0V4cGxpY2l0OiBib29sZWFuXHJcbiAgICBpc1BsYXlhYmxlOiBib29sZWFuXHJcbiAgICBpc0xvY2FsOiBib29sZWFuXHJcbiAgICBpczE5UGx1c09ubHk6IGJvb2xlYW5cclxuICAgIGFkZGVkQXQ6IHN0cmluZ1xyXG59PlxyXG5cclxuZXhwb3J0IHR5cGUgZmV0Y2hXZWJQbGF5bGlzdFJlcyA9IEFycmF5PHtcclxuICAgIHVpZDogc3RyaW5nXHJcbiAgICBwbGF5SW5kZXg6IG51bGxcclxuICAgIGFkZGVkQXQ6IHN0cmluZ1xyXG4gICAgYWRkZWRCeToge1xyXG4gICAgICAgIHR5cGU6IHN0cmluZ1xyXG4gICAgICAgIHVyaTogU3BvdGlmeVVSSVxyXG4gICAgICAgIHVzZXJuYW1lOiBzdHJpbmdcclxuICAgICAgICBkaXNwbGF5TmFtZTogc3RyaW5nXHJcbiAgICAgICAgaW1hZ2VzOiBTcG90QXBpSW1hZ2UyW11cclxuICAgIH1cclxuICAgIGZvcm1hdExpc3RBdHRyaWJ1dGVzOiB7fVxyXG4gICAgdHlwZTogXCJ0cmFja1wiXHJcbiAgICB1cmk6IFNwb3RpZnlVUklcclxuICAgIG5hbWU6IHN0cmluZ1xyXG4gICAgYWxidW06IFNwb3RBcGlBbGJ1bU1pblxyXG4gICAgYXJ0aXN0czogU3BvdEFwaUFydGlzdE1pbltdXHJcbiAgICBkaXNjTnVtYmVyOiBudW1iZXJcclxuICAgIHRyYWNrTnVtYmVyOiBudW1iZXJcclxuICAgIGR1cmF0aW9uOiBTcG90QXBpRHVyYXRpb25cclxuICAgIGlzRXhwbGljaXQ6IGJvb2xlYW5cclxuICAgIGlzTG9jYWw6IGJvb2xlYW5cclxuICAgIGlzUGxheWFibGU6IGJvb2xlYW5cclxuICAgIGlzMTlQbHVzT25seTogYm9vbGVhblxyXG59PlxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBmZXRjaFRyYWNrTEZNQVBJUmVzIHtcclxuICAgIHRyYWNrOiB7XHJcbiAgICAgICAgbmFtZTogc3RyaW5nXHJcbiAgICAgICAgbWJpZDogc3RyaW5nXHJcbiAgICAgICAgdXJsOiBzdHJpbmdcclxuICAgICAgICBkdXJhdGlvbjogc3RyaW5nXHJcbiAgICAgICAgc3RyZWFtYWJsZToge1xyXG4gICAgICAgICAgICBcIiN0ZXh0XCI6IHN0cmluZ1xyXG4gICAgICAgICAgICBmdWxsdHJhY2s6IHN0cmluZ1xyXG4gICAgICAgIH1cclxuICAgICAgICBsaXN0ZW5lcnM6IHN0cmluZ1xyXG4gICAgICAgIHBsYXljb3VudDogc3RyaW5nXHJcbiAgICAgICAgYXJ0aXN0OiB7XHJcbiAgICAgICAgICAgIG5hbWU6IHN0cmluZ1xyXG4gICAgICAgICAgICBtYmlkOiBzdHJpbmdcclxuICAgICAgICAgICAgdXJsOiBzdHJpbmdcclxuICAgICAgICB9XHJcbiAgICAgICAgYWxidW06IHtcclxuICAgICAgICAgICAgYXJ0aXN0OiBzdHJpbmdcclxuICAgICAgICAgICAgdGl0bGU6IHN0cmluZ1xyXG4gICAgICAgICAgICBtYmlkOiBzdHJpbmdcclxuICAgICAgICAgICAgdXJsOiBzdHJpbmdcclxuICAgICAgICAgICAgaW1hZ2U6IEFycmF5PHtcclxuICAgICAgICAgICAgICAgIFwiI3RleHRcIjogc3RyaW5nXHJcbiAgICAgICAgICAgICAgICBzaXplOiBzdHJpbmdcclxuICAgICAgICAgICAgfT5cclxuICAgICAgICAgICAgXCJAYXR0clwiOiB7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogc3RyaW5nXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdXNlcnBsYXljb3VudDogc3RyaW5nXHJcbiAgICAgICAgdXNlcmxvdmVkOiBzdHJpbmdcclxuICAgICAgICB0b3B0YWdzOiB7XHJcbiAgICAgICAgICAgIHRhZzogQXJyYXk8e1xyXG4gICAgICAgICAgICAgICAgbmFtZTogc3RyaW5nXHJcbiAgICAgICAgICAgICAgICB1cmw6IHN0cmluZ1xyXG4gICAgICAgICAgICB9PlxyXG4gICAgICAgIH1cclxuICAgICAgICB3aWtpOiB7XHJcbiAgICAgICAgICAgIHB1Ymxpc2hlZDogc3RyaW5nXHJcbiAgICAgICAgICAgIHN1bW1hcnk6IHN0cmluZ1xyXG4gICAgICAgICAgICBjb250ZW50OiBzdHJpbmdcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFNwb3RBcGlBbGJ1bU1pbiB7XHJcbiAgICB0eXBlOiBcImFsYnVtXCJcclxuICAgIHVyaTogU3BvdGlmeVVSSVxyXG4gICAgbmFtZTogc3RyaW5nXHJcbiAgICBhcnRpc3Q6IFNwb3RBcGlBcnRpc3RNaW5cclxuICAgIGltYWdlczogU3BvdEFwaUltYWdlMltdXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3BvdEFwaUltYWdlMiB7XHJcbiAgICB1cmw6IHN0cmluZ1xyXG4gICAgbGFiZWw6IFwic21hbGxcIiB8IFwic3RhbmRhcmRcIiB8IFwibGFyZ2VcIiB8IFwieGxhcmdlXCJcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTcG90QXBpVHJhY2sge1xyXG4gICAgYWxidW06IFNwb3RBcGlBbGJ1bVxyXG4gICAgYXJ0aXN0czogU3BvdEFwaUFydGlzdFtdXHJcbiAgICBhdmFpbGFibGVfbWFya2V0czogc3RyaW5nW11cclxuICAgIGRpc2NfbnVtYmVyOiBudW1iZXJcclxuICAgIGR1cmF0aW9uX21zOiBudW1iZXJcclxuICAgIGV4cGxpY2l0OiBib29sZWFuXHJcbiAgICBleHRlcm5hbF9pZHM6IFNwb3RBcGlFSURzXHJcbiAgICBleHRlcm5hbF91cmxzOiBTcG90QXBpRVVybHNcclxuICAgIGhyZWY6IHN0cmluZ1xyXG4gICAgaWQ6IHN0cmluZ1xyXG4gICAgaXNfcGxheWFibGU6IGJvb2xlYW5cclxuICAgIGxpbmtlZF9mcm9tOiB7fVxyXG4gICAgcmVzdHJpY3Rpb25zOiBTcG90QXBpUmVzdHJpY3Rpb25zXHJcbiAgICBuYW1lOiBzdHJpbmdcclxuICAgIHBvcHVsYXJpdHk6IG51bWJlclxyXG4gICAgcHJldmlld191cmw6IHN0cmluZ1xyXG4gICAgdHJhY2tfbnVtYmVyOiBudW1iZXJcclxuICAgIHR5cGU6IHN0cmluZ1xyXG4gICAgdXJpOiBTcG90aWZ5VVJJXHJcbiAgICBpc19sb2NhbDogYm9vbGVhblxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFNwb3RBcGlBcnRpc3Qge1xyXG4gICAgZXh0ZXJuYWxfdXJsczogU3BvdEFwaUVVcmxzXHJcbiAgICBmb2xsb3dlcnM6IFNwb3RBcGlGb2xsb3dlcnNcclxuICAgIGdlbnJlczogc3RyaW5nW11cclxuICAgIGhyZWY6IHN0cmluZ1xyXG4gICAgaWQ6IHN0cmluZ1xyXG4gICAgaW1hZ2VzOiBTcG90QXBpSW1hZ2VbXVxyXG4gICAgbmFtZTogc3RyaW5nXHJcbiAgICBwb3B1bGFyaXR5OiBudW1iZXJcclxuICAgIHR5cGU6IHN0cmluZ1xyXG4gICAgdXJpOiBTcG90aWZ5VVJJXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3BvdEFwaUFydGlzdE1pbiB7XHJcbiAgICB0eXBlOiBcImFydGlzdFwiXHJcbiAgICB1cmk6IFNwb3RpZnlVUklcclxuICAgIG5hbWU6IHN0cmluZ1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFNwb3RBcGlBbGJ1bSB7XHJcbiAgICBhbGJ1bV90eXBlOiBzdHJpbmdcclxuICAgIHRvdGFsX3RyYWNrczogbnVtYmVyXHJcbiAgICBhdmFpbGFibGVfbWFya2V0czogc3RyaW5nW11cclxuICAgIGV4dGVybmFsX3VybHM6IFNwb3RBcGlFVXJsc1xyXG4gICAgaHJlZjogc3RyaW5nXHJcbiAgICBpZDogc3RyaW5nXHJcbiAgICBpbWFnZXM6IFNwb3RBcGlJbWFnZVtdXHJcbiAgICBuYW1lOiBzdHJpbmdcclxuICAgIHJlbGVhc2VfZGF0ZTogc3RyaW5nXHJcbiAgICByZWxlYXNlX2RhdGVfcHJlY2lzaW9uOiBzdHJpbmdcclxuICAgIHJlc3RyaWN0aW9uczogU3BvdEFwaVJlc3RyaWN0aW9uc1xyXG4gICAgdHlwZTogc3RyaW5nXHJcbiAgICB1cmk6IFNwb3RpZnlVUklcclxuICAgIGNvcHlyaWdodHM6IEFycmF5PHtcclxuICAgICAgICB0ZXh0OiBzdHJpbmdcclxuICAgICAgICB0eXBlOiBzdHJpbmdcclxuICAgIH0+XHJcbiAgICBleHRlcm5hbF9pZHM6IFNwb3RBcGlFSURzXHJcbiAgICBnZW5yZXM6IHN0cmluZ1tdXHJcbiAgICBsYWJlbDogc3RyaW5nXHJcbiAgICBwb3B1bGFyaXR5OiBudW1iZXJcclxuICAgIGFsYnVtX2dyb3VwOiBzdHJpbmdcclxuICAgIGFydGlzdHM6IEFycmF5PHtcclxuICAgICAgICBleHRlcm5hbF91cmxzOiBTcG90QXBpRVVybHNcclxuICAgICAgICBocmVmOiBzdHJpbmdcclxuICAgICAgICBpZDogc3RyaW5nXHJcbiAgICAgICAgbmFtZTogc3RyaW5nXHJcbiAgICAgICAgdHlwZTogc3RyaW5nXHJcbiAgICAgICAgdXJpOiBTcG90aWZ5VVJJXHJcbiAgICB9PlxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFNwb3RBcGlFVXJscyB7XHJcbiAgICBzcG90aWZ5OiBzdHJpbmdcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTcG90QXBpRUlEcyB7XHJcbiAgICBpc3JjOiBzdHJpbmdcclxuICAgIGVhbjogc3RyaW5nXHJcbiAgICB1cGM6IHN0cmluZ1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFNwb3RBcGlJbWFnZSB7XHJcbiAgICB1cmw6IHN0cmluZ1xyXG4gICAgd2lkdGg6IG51bWJlclxyXG4gICAgaGVpZ2h0OiBudW1iZXJcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTcG90QXBpUmVzdHJpY3Rpb25zIHtcclxuICAgIHJlYXNvbjogc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3BvdEFwaUZvbGxvd2VycyB7XHJcbiAgICBocmVmOiBzdHJpbmdcclxuICAgIHRvdGFsOiBudW1iZXJcclxufVxyXG5leHBvcnQgaW50ZXJmYWNlIFNwb3RBcGlEdXJhdGlvbiB7XHJcbiAgICBtaWxsaXNlY29uZHM6IG51bWJlclxyXG59XHJcbmV4cG9ydCBpbnRlcmZhY2UgU3BvdEFwaVBsYXlsaXN0IHtcclxuICAgIGNvbGxhYm9yYXRpdmU6IGJvb2xlYW5cclxuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmdcclxuICAgIGV4dGVybmFsX3VybHM6IFNwb3RBcGlFVXJsc1xyXG4gICAgZm9sbG93ZXJzOiB7XHJcbiAgICAgICAgaHJlZjogc3RyaW5nXHJcbiAgICAgICAgdG90YWw6IG51bWJlclxyXG4gICAgfVxyXG4gICAgaHJlZjogc3RyaW5nXHJcbiAgICBpZDogU3BvdGlmeUlEXHJcbiAgICBpbWFnZXM6IFNwb3RBcGlJbWFnZVtdXHJcbiAgICBuYW1lOiBzdHJpbmdcclxuICAgIG93bmVyOiBTcG90QXBpT3duZXJcclxuICAgIHB1YmxpYzogYm9vbGVhblxyXG4gICAgc25hcHNob3RfaWQ6IHN0cmluZ1xyXG4gICAgdHJhY2tzOiB7XHJcbiAgICAgICAgaHJlZjogc3RyaW5nXHJcbiAgICAgICAgbGltaXQ6IG51bWJlclxyXG4gICAgICAgIG5leHQ6IHN0cmluZ1xyXG4gICAgICAgIG9mZnNldDogbnVtYmVyXHJcbiAgICAgICAgcHJldmlvdXM6IHN0cmluZ1xyXG4gICAgICAgIHRvdGFsOiBudW1iZXJcclxuICAgICAgICBpdGVtczogQXJyYXk8e1xyXG4gICAgICAgICAgICBhZGRlZF9hdDogc3RyaW5nXHJcbiAgICAgICAgICAgIGFkZGVkX2J5OiBTcG90QXBpT3duZXJcclxuICAgICAgICAgICAgaXNfbG9jYWw6IGJvb2xlYW5cclxuICAgICAgICAgICAgdHJhY2s6IFNwb3RBcGlUcmFja1xyXG4gICAgICAgIH0+XHJcbiAgICB9XHJcbiAgICB0eXBlOiBzdHJpbmdcclxuICAgIHVyaTogU3BvdGlmeVVSSVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFNwb3RBcGlPd25lciB7XHJcbiAgICBleHRlcm5hbF91cmxzOiBTcG90QXBpRVVybHNcclxuICAgIGZvbGxvd2Vycz86IHtcclxuICAgICAgICBocmVmOiBzdHJpbmdcclxuICAgICAgICB0b3RhbDogbnVtYmVyXHJcbiAgICB9XHJcbiAgICBocmVmOiBzdHJpbmdcclxuICAgIGlkOiBTcG90aWZ5SURcclxuICAgIHR5cGU6IHN0cmluZ1xyXG4gICAgdXJpOiBTcG90aWZ5VVJJXHJcbiAgICBkaXNwbGF5X25hbWU/OiBzdHJpbmdcclxuICAgIG5hbWU/OiBzdHJpbmdcclxufVxyXG5cclxuLy9UT0RPOiBCZXR0ZXIgVFMgaW50ZXJmYWNlIGZvciByZWN1cnNpdmUgZmV0Y2hQbGF0Rm9sZGVyUmVzXHJcbmV4cG9ydCBpbnRlcmZhY2UgZmV0Y2hQbGF0Rm9sZGVyUmVzIHtcclxuICAgIHR5cGU6IFwiZm9sZGVyXCIgfCBcInBsYWNlaG9sZGVyXCIgfCBcInBsYXlsaXN0XCJcclxuICAgIGFkZGVkQXQ6IHN0cmluZ1xyXG4gICAgaXRlbXM/OiBBcnJheTxmZXRjaFBsYXRGb2xkZXJSZXM+XHJcbiAgICBuYW1lPzogc3RyaW5nXHJcbiAgICB1cmk6IHN0cmluZ1xyXG4gICAgZGVzY3JpcHRpb24/OiBzdHJpbmdcclxuICAgIGltYWdlcz86IFNwb3RBcGlJbWFnZTJbXVxyXG4gICAgbWFkZUZvcj86IG51bGxcclxuICAgIG93bmVyPzoge1xyXG4gICAgICAgIHR5cGU6IFwidXNlclwiXHJcbiAgICAgICAgdXJpOiBzdHJpbmdcclxuICAgICAgICB1c2VybmFtZTogc3RyaW5nXHJcbiAgICAgICAgZGlzcGxheU5hbWU6IHN0cmluZ1xyXG4gICAgICAgIGltYWdlczogYW55W11cclxuICAgIH1cclxuICAgIHRvdGFsTGVuZ3RoPzogbnVtYmVyXHJcbiAgICB1bmZpbHRlcmVkVG90YWxMZW5ndGg/OiBudW1iZXJcclxuICAgIHRvdGFsTGlrZXM/OiBudWxsXHJcbiAgICBkdXJhdGlvbj86IG51bGxcclxuICAgIGlzQ29sbGFib3JhdGl2ZT86IGJvb2xlYW5cclxuICAgIGlzTG9hZGVkPzogYm9vbGVhblxyXG4gICAgaXNPd25lZEJ5U2VsZj86IGJvb2xlYW5cclxuICAgIGlzUHVibGlzaGVkPzogYm9vbGVhblxyXG4gICAgaGFzRXBpc29kZXM/OiBudWxsXHJcbiAgICBoYXNTcG90aWZ5VHJhY2tzPzogbnVsbFxyXG4gICAgaGFzU3BvdGlmeUF1ZGlvYm9va3M/OiBudWxsXHJcbiAgICBjYW5BZGQ/OiBib29sZWFuXHJcbiAgICBjYW5SZW1vdmU/OiBib29sZWFuXHJcbiAgICBjYW5QbGF5PzogbnVsbFxyXG4gICAgZm9ybWF0TGlzdERhdGE/OiB7XHJcbiAgICAgICAgdHlwZTogc3RyaW5nXHJcbiAgICAgICAgYXR0cmlidXRlczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfVxyXG4gICAgfSB8IG51bGxcclxuICAgIGNhblJlcG9ydEFubm90YXRpb25BYnVzZT86IGJvb2xlYW5cclxuICAgIGhhc0RhdGVBZGRlZD86IGJvb2xlYW5cclxuICAgIHBlcm1pc3Npb25zPzogbnVsbFxyXG4gICAgY29sbGFib3JhdG9ycz86IHtcclxuICAgICAgICBjb3VudDogbnVtYmVyXHJcbiAgICAgICAgaXRlbXM6IGFueVtdXHJcbiAgICB9XHJcbiAgICBpc05vdEZvdW5kPzogYm9vbGVhblxyXG4gICAgaXNGb3JiaWRkZW4/OiBib29sZWFuXHJcbn1cclxuIiwgImltcG9ydCB7IHJhbmdlIH0gZnJvbSBcImh0dHBzOi8vZXNtLnNoL2ZwLXRzL2xpYi9SZWFkb25seU5vbkVtcHR5QXJyYXlcIlxuaW1wb3J0IHsgU3BvdGlmeVVSSSB9IGZyb20gXCIuLi8uLi9zaGFyZWQvdXRpbC50c1wiXG5pbXBvcnQgeyB0b2dnbGVSYXRpbmcgfSBmcm9tIFwiLi9yYXRpbmdzLnRzXCJcblxuY29uc3QgeyBSZWFjdCB9ID0gU3BpY2V0aWZ5XG5cbmNvbnN0IFJhdGluZ0J1dHRvbiA9ICh7IGksIHVyaSB9OiB7IGk6IG51bWJlcjsgdXJpOiBTcG90aWZ5VVJJIH0pID0+IChcbiAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cIkJ1dHRvbi1zYy0xZHF5Nmx4LTAgQnV0dG9uLXRleHRCcmlnaHRBY2NlbnQtc20tMTYtYnV0dG9uVGVydGlhcnktaWNvbk9ubHktY29uZGVuc2VkLWlzVXNpbmdLZXlib2FyZC11c2VCcm93c2VyRGVmYXVsdEZvY3VzU3R5bGUgcmF0aW5nLWJ1dHRvblwiXG4gICAgICAgIG9uQ2xpY2s9eygpID0+IHRvZ2dsZVJhdGluZyh1cmksIGkpfVxuICAgID5cbiAgICAgICAgPHN2Z1xuICAgICAgICAgICAgcm9sZT1cImltZ1wiXG4gICAgICAgICAgICBoZWlnaHQ9ezE2fVxuICAgICAgICAgICAgd2lkdGg9ezE2fVxuICAgICAgICAgICAgdmlld0JveD1cIjAgMCAxNiAxNlwiXG4gICAgICAgICAgICBjbGFzc05hbWU9e2BTdmctc2MteXRrMjFlLTAgU3ZnLWltZy1pY29uIHJhdGluZy0ke2l9YH1cbiAgICAgICAgPlxuICAgICAgICAgICAgPHBhdGggZD1cIk0wIDhhOCA4IDAgMSAxIDE2IDBBOCA4IDAgMCAxIDAgOHptMTEuNzQ4LTEuOTdhLjc1Ljc1IDAgMCAwLTEuMDYtMS4wNmwtNC40NyA0LjQ3LTEuNDA1LTEuNDA2YS43NS43NSAwIDEgMC0xLjA2MSAxLjA2bDIuNDY2IDIuNDY3IDUuNTMtNS41M3pcIiAvPlxuICAgICAgICA8L3N2Zz5cbiAgICA8L2J1dHRvbj5cbilcblxuZXhwb3J0IGNvbnN0IERyb3Bkb3duID0gKHsgdXJpIH06IHsgdXJpOiBTcG90aWZ5VVJJIH0pID0+IChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJhdGluZy1kcm9wZG93blwiPlxuICAgICAgICB7cmFuZ2UoMSwgNSkubWFwKGkgPT4gKFxuICAgICAgICAgICAgPFJhdGluZ0J1dHRvbiBpPXtpfSB1cmk9e3VyaX0gLz5cbiAgICAgICAgKSl9XG4gICAgPC9kaXY+XG4pXG4iLCAiaW1wb3J0IHsgYXJyYXkgYXMgYXIsIGZ1bmN0aW9uIGFzIGYgfSBmcm9tIFwiaHR0cHM6Ly9lc20uc2gvZnAtdHNcIlxyXG5pbXBvcnQge1xyXG4gICAgYWRkUGxhdFBsYXlsaXN0VHJhY2tzLFxyXG4gICAgY3JlYXRlUGxhdFBsYXlsaXN0LFxyXG4gICAgZmV0Y2hQbGF0Rm9sZGVyLFxyXG4gICAgZmV0Y2hQbGF0UGxheWxpc3RDb250ZW50cyxcclxuICAgIHJlbW92ZVdlYlBsYXlsaXN0VHJhY2tzLFxyXG4gICAgc2V0UGxhdFBsYXlsaXN0VmlzaWJpbGl0eSxcclxufSBmcm9tIFwiLi4vLi4vc2hhcmVkL2FwaS50c1wiXHJcbmltcG9ydCB7IHBNY2hhaW4gfSBmcm9tIFwiLi4vLi4vc2hhcmVkL2ZwLnRzXCJcclxuaW1wb3J0IHsgU3BvdGlmeUxvYywgU3BvdGlmeVVSSSB9IGZyb20gXCIuLi8uLi9zaGFyZWQvdXRpbC50c1wiXHJcbmltcG9ydCB7IHVwZGF0ZUNvbGxlY3Rpb25Db250cm9scywgdXBkYXRlTm93UGxheWluZ0NvbnRyb2xzLCB1cGRhdGVUcmFja0xpc3RDb250cm9scyB9IGZyb20gXCIuL2NvbnRyb2xzLnRzeFwiXHJcbmltcG9ydCB7IENPTkZJRyB9IGZyb20gXCIuL3NldHRpbmdzLnRzXCJcclxuXHJcbmV4cG9ydCBjb25zdCBsb2FkUmF0aW5ncyA9IGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IHJhdGluZ3NGb2xkZXIgPSBhd2FpdCBmZXRjaFBsYXRGb2xkZXIoQ09ORklHLnJhdGluZ3NGb2xkZXJVcmkpXHJcblxyXG4gICAgcGxheWxpc3RVcmlzID0gZi5waXBlKFxyXG4gICAgICAgIHJhdGluZ3NGb2xkZXIhLml0ZW1zISxcclxuICAgICAgICBhci5tYXAocCA9PiBbcC51cmksIE51bWJlcihwLm5hbWUhKV0gYXMgW1Nwb3RpZnlVUkksIG51bWJlcl0pLFxyXG4gICAgICAgIGFyLnJlZHVjZShbXSBhcyBTcG90aWZ5VVJJW10sICh1cmlzLCBbdXJpLCByYXRpbmddKSA9PiAoKHVyaXNbcmF0aW5nXSA9IHVyaSksIHVyaXMpKSxcclxuICAgIClcclxuXHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBnbG9iYWxUaGlzLnRyYWNrc1JhdGluZ3MgPSB0cmFja3NSYXRpbmdzID0gYXdhaXQgZi5waXBlKFxyXG4gICAgICAgIHBsYXlsaXN0VXJpcyxcclxuICAgICAgICBhci5tYXAoZmV0Y2hQbGF0UGxheWxpc3RDb250ZW50cyksXHJcbiAgICAgICAgcHMgPT4gUHJvbWlzZS5hbGwocHMpLCAvLyBQcm9taXNlLmFsbCBmbGlwcyBlbXB0eSB0byB1bmRlZmluZWRcclxuICAgICAgICBwTWNoYWluKGFyLm1hcCh0cmFja3MgPT4gdHJhY2tzID8/IFtdKSksXHJcbiAgICAgICAgcE1jaGFpbihhci5tYXAoYXIubWFwKHQgPT4gdC51cmkpKSksXHJcbiAgICAgICAgcE1jaGFpbihhci5mbGF0TWFwKCh0cmFja1VyaXMsIHJhdGluZykgPT4gdHJhY2tVcmlzLm1hcCh0cmFja1VyaSA9PiBbdHJhY2tVcmksIHJhdGluZ10gYXMgY29uc3QpKSksXHJcbiAgICAgICAgcE1jaGFpbihcclxuICAgICAgICAgICAgYXIucmVkdWNlKHt9IGFzIFJlY29yZDxzdHJpbmcsIG51bWJlcj4sIChhY2MsIFt0cmFja1VyaSwgcmF0aW5nXSkgPT5cclxuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oYWNjLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgW3RyYWNrVXJpXTogTWF0aC5tYXgocmF0aW5nLCBhY2NbdHJhY2tVcmldID8/IDApLFxyXG4gICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICksXHJcbiAgICAgICAgKSxcclxuICAgIClcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHRvZ2dsZVJhdGluZyA9IGFzeW5jICh1cmk6IFNwb3RpZnlVUkksIHJhdGluZzogbnVtYmVyKSA9PiB7XHJcbiAgICBjb25zdCBjdXJyZW50UmF0aW5nID0gdHJhY2tzUmF0aW5nc1t1cmldXHJcblxyXG4gICAgaWYgKGN1cnJlbnRSYXRpbmcgPT09IHJhdGluZykgcmF0aW5nID0gMFxyXG5cclxuICAgIGlmIChjdXJyZW50UmF0aW5nKSB7XHJcbiAgICAgICAgZi5waXBlKFxyXG4gICAgICAgICAgICBwbGF5bGlzdFVyaXMuc2xpY2UoMCwgY3VycmVudFJhdGluZyArIDEpLFxyXG4gICAgICAgICAgICBhci5maWx0ZXIoQm9vbGVhbiksXHJcbiAgICAgICAgICAgIGFyLm1hcChwbGF5bGlzdFVyaSA9PiBTcGljZXRpZnkuVVJJLmZyb21TdHJpbmcocGxheWxpc3RVcmkpLmlkISksXHJcbiAgICAgICAgICAgIGFyLm1hcChwbGF5bGlzdElkID0+IHJlbW92ZVdlYlBsYXlsaXN0VHJhY2tzKHBsYXlsaXN0SWQsIFt1cmldKSksXHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG5cclxuICAgIHRyYWNrc1JhdGluZ3NbdXJpXSA9IHJhdGluZ1xyXG5cclxuICAgIGlmIChyYXRpbmcgPiAwKSB7XHJcbiAgICAgICAgbGV0IHBsYXlsaXN0VXJpID0gcGxheWxpc3RVcmlzW3JhdGluZ11cclxuXHJcbiAgICAgICAgaWYgKCFwbGF5bGlzdFVyaSkge1xyXG4gICAgICAgICAgICBwbGF5bGlzdFVyaSA9IGF3YWl0IGNyZWF0ZVBsYXRQbGF5bGlzdChyYXRpbmcudG9GaXhlZCgwKSwgU3BvdGlmeUxvYy5hZnRlci5mcm9tVXJpKENPTkZJRy5yYXRpbmdzRm9sZGVyVXJpKSlcclxuICAgICAgICAgICAgc2V0UGxhdFBsYXlsaXN0VmlzaWJpbGl0eShwbGF5bGlzdFVyaSwgZmFsc2UpXHJcbiAgICAgICAgICAgIHBsYXlsaXN0VXJpc1tyYXRpbmddID0gcGxheWxpc3RVcmlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGFkZFBsYXRQbGF5bGlzdFRyYWNrcyhwbGF5bGlzdFVyaSwgW3VyaV0pXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbnBUcmFjayA9IFNwaWNldGlmeS5QbGF5ZXIuZGF0YS50cmFjaz8udXJpXHJcbiAgICBpZiAobnBUcmFjayA9PT0gdXJpKSB1cGRhdGVOb3dQbGF5aW5nQ29udHJvbHMobnBUcmFjaywgZmFsc2UpXHJcblxyXG4gICAgLy8gVE9ETzogT3B0aW1pemUgdGhpcywgZmluZCBhIHdheSB0byBkaXJlY3RseSB0YXJnZXQgdGhlIHBicyBmb3IgdGhhdCB1cmlcclxuICAgIHVwZGF0ZVRyYWNrTGlzdENvbnRyb2xzKClcclxuICAgIGNvbnN0IHsgcGF0aG5hbWUgfSA9IFNwaWNldGlmeS5QbGF0Zm9ybS5IaXN0b3J5LmxvY2F0aW9uXHJcbiAgICB1cGRhdGVDb2xsZWN0aW9uQ29udHJvbHMoU3BpY2V0aWZ5LlVSSS5mcm9tU3RyaW5nKHBhdGhuYW1lKSlcclxufVxyXG5cclxuZXhwb3J0IGxldCBwbGF5bGlzdFVyaXM6IFNwb3RpZnlVUklbXSA9IFtdXHJcbmV4cG9ydCBsZXQgdHJhY2tzUmF0aW5nczogUmVjb3JkPFNwb3RpZnlVUkksIG51bWJlcj4gPSB7fVxyXG4iLCAiaW1wb3J0IHsgdGFzayB9IGZyb20gXCJodHRwczovL2VzbS5zaC9mcC10c1wiXHJcbmltcG9ydCB7IGNyZWF0ZVBsYXRGb2xkZXIgfSBmcm9tIFwiLi4vLi4vc2hhcmVkL2FwaS50c1wiXHJcbmltcG9ydCB7IFNldHRpbmdzU2VjdGlvbiB9IGZyb20gXCIuLi8uLi9zaGFyZWQvc2V0dGluZ3MudHN4XCJcclxuaW1wb3J0IHsgU3BvdGlmeVVSSSB9IGZyb20gXCIuLi8uLi9zaGFyZWQvdXRpbC50c1wiXHJcbmltcG9ydCB7IGxvYWRSYXRpbmdzIH0gZnJvbSBcIi4vcmF0aW5ncy50c1wiXHJcblxyXG5jb25zdCBSQVRJTkdTX0ZPTERFUl9OQU1FID0gXCJSYXRpbmdzXCJcclxuXHJcbmNvbnN0IHNldHRpbmdzID0gbmV3IFNldHRpbmdzU2VjdGlvbihcIlN0YXIgUmF0aW5ncyAyXCIsIFwic3Rhci1yYXRpbmdzLTJcIilcclxuICAgIC5hZGRJbnB1dChcImhlYXJ0VGhyZXNob2xkXCIsIFwiVGhyZXNob2xkIGZvciBsaWtpbmcgdHJha2NzXCIsIHRhc2sub2YoXCIzXCIpKVxyXG4gICAgLmFkZElucHV0KFwic2tpcFRocmVzaG9sZFwiLCBcIlRocmVzaG9sZCBmb3Igc2tpcHBpbmcgdHJha2NzXCIsIHRhc2sub2YoXCIxXCIpKVxyXG4gICAgLmFkZElucHV0KFxyXG4gICAgICAgIFwicmF0aW5nc0ZvbGRlclVyaVwiLFxyXG4gICAgICAgIFwiUmF0aW5ncyBmb2xkZXIgdXJpXCIsXHJcbiAgICAgICAgYXN5bmMgKCkgPT4gKGF3YWl0IGNyZWF0ZVBsYXRGb2xkZXIoUkFUSU5HU19GT0xERVJfTkFNRSkpLnVyaSxcclxuICAgICAgICBsb2FkUmF0aW5ncyxcclxuICAgIClcclxuXHJcbnNldHRpbmdzLnB1c2hTZXR0aW5ncygpXHJcblxyXG5leHBvcnQgY29uc3QgQ09ORklHID0gc2V0dGluZ3MudG9PYmplY3QoKSBhcyB7XHJcbiAgICBoZWFydFRocmVzaG9sZDogc3RyaW5nXHJcbiAgICBza2lwVGhyZXNob2xkOiBzdHJpbmdcclxuICAgIHJhdGluZ3NGb2xkZXJVcmk6IFNwb3RpZnlVUklcclxufVxyXG4iLCAiaW1wb3J0IHsgdGFzayB9IGZyb20gXCJodHRwczovL2VzbS5zaC9mcC10c1wiXHJcbmltcG9ydCB7IGNvbnN0Vm9pZCB9IGZyb20gXCJodHRwczovL2VzbS5zaC9mcC10cy9mdW5jdGlvblwiXHJcbmltcG9ydCB7IGd1YXJkNCwgaXMgfSBmcm9tIFwiLi9mcC50c1wiXHJcbmltcG9ydCB7IHNsZWVwIH0gZnJvbSBcIi4vdXRpbC50c1wiXHJcblxyXG5jb25zdCB7IFJlYWN0LCBSZWFjdERPTSB9ID0gU3BpY2V0aWZ5XHJcblxyXG5leHBvcnQgY2xhc3MgU2V0dGluZ3NTZWN0aW9uIHtcclxuICAgIHByaXZhdGUgc3RvcEhpc3RvcnlMaXN0ZW5lcjogYW55XHJcbiAgICBwcml2YXRlIHNldFJlcmVuZGVyOiBGdW5jdGlvbiB8IG51bGwgPSBudWxsXHJcblxyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAgICAgcHVibGljIG5hbWU6IHN0cmluZyxcclxuICAgICAgICBwdWJsaWMgc2VjdGlvbklkOiBzdHJpbmcsXHJcbiAgICAgICAgcHVibGljIHNlY3Rpb25GaWVsZHM6IHsgW2tleTogc3RyaW5nXTogU2V0dGluZ3NGaWVsZCB9ID0ge30sXHJcbiAgICApIHt9XHJcblxyXG4gICAgc3RhdGljIHdhaXRGb3JSZWFjdCA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICB3aGlsZSAoIShTcGljZXRpZnkuUmVhY3QgJiYgU3BpY2V0aWZ5LlJlYWN0RE9NKSkgc2xlZXAoMTAwKVxyXG4gICAgICAgIHJldHVybiB0aGlzXHJcbiAgICB9XHJcblxyXG4gICAgcHVzaFNldHRpbmdzID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIHdoaWxlICghU3BpY2V0aWZ5Py5QbGF0Zm9ybT8uSGlzdG9yeT8ubGlzdGVuKSBhd2FpdCBzbGVlcCgxMDApXHJcblxyXG4gICAgICAgIGlmICh0aGlzLnN0b3BIaXN0b3J5TGlzdGVuZXIpIHRoaXMuc3RvcEhpc3RvcnlMaXN0ZW5lcigpXHJcblxyXG4gICAgICAgIHRoaXMuc3RvcEhpc3RvcnlMaXN0ZW5lciA9IFNwaWNldGlmeS5QbGF0Zm9ybS5IaXN0b3J5Lmxpc3RlbigoeyBwYXRobmFtZSA9IFwiXCIgfSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocGF0aG5hbWUgPT09IFwiL3ByZWZlcmVuY2VzXCIpIHRoaXMucmVuZGVyKClcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBpZiAoU3BpY2V0aWZ5LlBsYXRmb3JtLkhpc3RvcnkubG9jYXRpb24ucGF0aG5hbWUgPT09IFwiL3ByZWZlcmVuY2VzXCIpIGF3YWl0IHRoaXMucmVuZGVyKClcclxuICAgIH1cclxuXHJcbiAgICB0b09iamVjdCA9ICgpID0+XHJcbiAgICAgICAgbmV3IFByb3h5KFxyXG4gICAgICAgICAgICB7fSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiAodGFyZ2V0LCBwcm9wKSA9PiBTZXR0aW5nc1NlY3Rpb24uZ2V0RmllbGRWYWx1ZSh0aGlzLmdldElkKHByb3AudG9TdHJpbmcoKSkpLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIClcclxuXHJcbiAgICByZXJlbmRlciA9ICgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5zZXRSZXJlbmRlcikgdGhpcy5zZXRSZXJlbmRlcihNYXRoLnJhbmRvbSgpKVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVuZGVyID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIHdoaWxlICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZXNrdG9wLnNldHRpbmdzLnNlbGVjdExhbmd1YWdlXCIpKSB7XHJcbiAgICAgICAgICAgIGlmIChTcGljZXRpZnkuUGxhdGZvcm0uSGlzdG9yeS5sb2NhdGlvbi5wYXRobmFtZSAhPT0gXCIvcHJlZmVyZW5jZXNcIikgcmV0dXJuXHJcbiAgICAgICAgICAgIGF3YWl0IHNsZWVwKDEwMClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGFsbFNldHRpbmdzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi54LXNldHRpbmdzLWNvbnRhaW5lclwiKSFcclxuXHJcbiAgICAgICAgbGV0IHBsdWdpblNldHRpbmdzQ29udGFpbmVyID0gQXJyYXkuZnJvbShhbGxTZXR0aW5nc0NvbnRhaW5lci5jaGlsZHJlbikuZmluZCgoeyBpZCB9KSA9PiBpZCA9PT0gdGhpcy5zZWN0aW9uSWQpXHJcblxyXG4gICAgICAgIGlmICghcGx1Z2luU2V0dGluZ3NDb250YWluZXIpIHtcclxuICAgICAgICAgICAgcGx1Z2luU2V0dGluZ3NDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXHJcbiAgICAgICAgICAgIHBsdWdpblNldHRpbmdzQ29udGFpbmVyLmlkID0gdGhpcy5zZWN0aW9uSWRcclxuICAgICAgICAgICAgcGx1Z2luU2V0dGluZ3NDb250YWluZXIuY2xhc3NOYW1lID0gXCJzZXR0aW5nc0NvbnRhaW5lclwiXHJcbiAgICAgICAgICAgIGFsbFNldHRpbmdzQ29udGFpbmVyLmFwcGVuZENoaWxkKHBsdWdpblNldHRpbmdzQ29udGFpbmVyKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgUmVhY3RET00ucmVuZGVyKDx0aGlzLkZpZWxkc0NvbnRhaW5lciAvPiwgcGx1Z2luU2V0dGluZ3NDb250YWluZXIpXHJcbiAgICB9XHJcblxyXG4gICAgYWRkQnV0dG9uID0gKFxyXG4gICAgICAgIG5hbWVJZDogc3RyaW5nLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBzdHJpbmcsXHJcbiAgICAgICAgdGV4dDogc3RyaW5nLFxyXG4gICAgICAgIG9uQ2xpY2s6IChlOiBSZWFjdC5Nb3VzZUV2ZW50PEhUTUxCdXR0b25FbGVtZW50LCBNb3VzZUV2ZW50PikgPT4gdm9pZCA9IGNvbnN0Vm9pZCxcclxuICAgICAgICBldmVudHM6IEJ1dHRvbkZpZWxkW1wiZXZlbnRzXCJdID0ge30sXHJcbiAgICApID0+IHtcclxuICAgICAgICBjb25zdCBpZCA9IHRoaXMuZ2V0SWQobmFtZUlkKVxyXG5cclxuICAgICAgICBldmVudHMub25DbGljayA9IG9uQ2xpY2tcclxuXHJcbiAgICAgICAgdGhpcy5zZWN0aW9uRmllbGRzW25hbWVJZF0gPSB7XHJcbiAgICAgICAgICAgIGlkLFxyXG4gICAgICAgICAgICB0eXBlOiBGaWVsZFR5cGUuQlVUVE9OLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgdGV4dCxcclxuICAgICAgICAgICAgZXZlbnRzLFxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG5cclxuICAgIGFkZFRvZ2dsZSA9IChcclxuICAgICAgICBuYW1lSWQ6IHN0cmluZyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogc3RyaW5nLFxyXG4gICAgICAgIGRlZmF1bHRWYWx1ZSA9IHRhc2sub2YodHJ1ZSksXHJcbiAgICAgICAgb25DaGFuZ2U6IChlOiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4gdm9pZCA9IGNvbnN0Vm9pZCxcclxuICAgICAgICBldmVudHM6IFRvZ2dsZUZpZWxkW1wiZXZlbnRzXCJdID0ge30sXHJcbiAgICApID0+IHtcclxuICAgICAgICBjb25zdCBpZCA9IHRoaXMuZ2V0SWQobmFtZUlkKVxyXG5cclxuICAgICAgICBTZXR0aW5nc1NlY3Rpb24uc2V0RGVmYXVsdEZpZWxkVmFsdWUoaWQsIGRlZmF1bHRWYWx1ZSlcclxuXHJcbiAgICAgICAgZXZlbnRzLm9uQ2hhbmdlID0gb25DaGFuZ2VcclxuICAgICAgICB0aGlzLnNlY3Rpb25GaWVsZHNbbmFtZUlkXSA9IHtcclxuICAgICAgICAgICAgaWQsXHJcbiAgICAgICAgICAgIHR5cGU6IEZpZWxkVHlwZS5UT0dHTEUsXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICBldmVudHMsXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzXHJcbiAgICB9XHJcblxyXG4gICAgYWRkSW5wdXQgPSAoXHJcbiAgICAgICAgbmFtZUlkOiBzdHJpbmcsXHJcbiAgICAgICAgZGVzY3JpcHRpb246IHN0cmluZyxcclxuICAgICAgICBkZWZhdWx0VmFsdWU6IHRhc2suVGFzazxzdHJpbmc+LFxyXG4gICAgICAgIG9uQ2hhbmdlOiAoZTogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHZvaWQgPSBjb25zdFZvaWQsXHJcbiAgICAgICAgaW5wdXRUeXBlID0gXCJ0ZXh0XCIsXHJcbiAgICAgICAgZXZlbnRzOiBJbnB1dEZpZWxkW1wiZXZlbnRzXCJdID0ge30sXHJcbiAgICApID0+IHtcclxuICAgICAgICBjb25zdCBpZCA9IHRoaXMuZ2V0SWQobmFtZUlkKVxyXG5cclxuICAgICAgICBTZXR0aW5nc1NlY3Rpb24uc2V0RGVmYXVsdEZpZWxkVmFsdWUoaWQsIGRlZmF1bHRWYWx1ZSlcclxuXHJcbiAgICAgICAgZXZlbnRzLm9uQ2hhbmdlID0gb25DaGFuZ2VcclxuICAgICAgICB0aGlzLnNlY3Rpb25GaWVsZHNbbmFtZUlkXSA9IHtcclxuICAgICAgICAgICAgaWQsXHJcbiAgICAgICAgICAgIHR5cGU6IEZpZWxkVHlwZS5JTlBVVCxcclxuICAgICAgICAgICAgZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgIGlucHV0VHlwZSxcclxuICAgICAgICAgICAgZXZlbnRzLFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuXHJcbiAgICBhZGREcm9wRG93biA9IChcclxuICAgICAgICBuYW1lSWQ6IHN0cmluZyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogc3RyaW5nLFxyXG4gICAgICAgIG9wdGlvbnM6IHN0cmluZ1tdLFxyXG4gICAgICAgIGRlZmF1bHRWYWx1ZSA9IHRhc2sub2YoMCksXHJcbiAgICAgICAgb25DaGFuZ2U6IChlOiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MU2VsZWN0RWxlbWVudD4pID0+IHZvaWQgPSBjb25zdFZvaWQsXHJcbiAgICAgICAgZXZlbnRzOiBEcm9wZG93bkZpZWxkW1wiZXZlbnRzXCJdID0ge30sXHJcbiAgICApID0+IHtcclxuICAgICAgICBjb25zdCBpZCA9IHRoaXMuZ2V0SWQobmFtZUlkKVxyXG5cclxuICAgICAgICBTZXR0aW5nc1NlY3Rpb24uc2V0RGVmYXVsdEZpZWxkVmFsdWUoaWQsIGRlZmF1bHRWYWx1ZSlcclxuXHJcbiAgICAgICAgZXZlbnRzLm9uQ2hhbmdlID0gb25DaGFuZ2VcclxuICAgICAgICB0aGlzLnNlY3Rpb25GaWVsZHNbbmFtZUlkXSA9IHtcclxuICAgICAgICAgICAgaWQsXHJcbiAgICAgICAgICAgIHR5cGU6IEZpZWxkVHlwZS5EUk9QRE9XTixcclxuICAgICAgICAgICAgZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgIG9wdGlvbnMsXHJcbiAgICAgICAgICAgIGV2ZW50cyxcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuXHJcbiAgICBhZGRIaWRkZW4gPSAobmFtZUlkOiBzdHJpbmcsIGRlZmF1bHRWYWx1ZTogYW55KSA9PiB7XHJcbiAgICAgICAgY29uc3QgaWQgPSB0aGlzLmdldElkKG5hbWVJZClcclxuXHJcbiAgICAgICAgU2V0dGluZ3NTZWN0aW9uLnNldERlZmF1bHRGaWVsZFZhbHVlKGlkLCBkZWZhdWx0VmFsdWUpXHJcblxyXG4gICAgICAgIHRoaXMuc2VjdGlvbkZpZWxkc1tuYW1lSWRdID0ge1xyXG4gICAgICAgICAgICBpZCxcclxuICAgICAgICAgICAgdHlwZTogRmllbGRUeXBlLkhJRERFTixcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiXCIsXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SWQgPSAobmFtZUlkOiBzdHJpbmcpID0+IGBleHRlbnNpb25zOiR7dGhpcy5zZWN0aW9uSWR9OiR7bmFtZUlkfWBcclxuXHJcbiAgICBwcml2YXRlIHVzZVN0YXRlRm9yID0gPEEsPihpZDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgY29uc3QgW3ZhbHVlLCBzZXRWYWx1ZVN0YXRlXSA9IFJlYWN0LnVzZVN0YXRlKFNldHRpbmdzU2VjdGlvbi5nZXRGaWVsZFZhbHVlPEE+KGlkKSlcclxuXHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgdmFsdWUsXHJcbiAgICAgICAgICAgIChuZXdWYWx1ZTogQSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5ld1ZhbHVlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXRWYWx1ZVN0YXRlKG5ld1ZhbHVlKVxyXG4gICAgICAgICAgICAgICAgICAgIFNldHRpbmdzU2VjdGlvbi5zZXRGaWVsZFZhbHVlKGlkISwgbmV3VmFsdWUpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgXSBhcyBjb25zdFxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRGaWVsZFZhbHVlID0gPFIsPihpZDogc3RyaW5nKTogUiA9PiB7XHJcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoU3BpY2V0aWZ5LkxvY2FsU3RvcmFnZS5nZXQoaWQpID8/IFwibnVsbFwiKSAvLyBcIm51bGxcIiBpcyBwYXJzZWQgYXMgbnVsbCwgdGhlIG1vcmUgeW91IGtub3dcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgc2V0RmllbGRWYWx1ZSA9IChpZDogc3RyaW5nLCBuZXdWYWx1ZTogYW55KSA9PiB7XHJcbiAgICAgICAgU3BpY2V0aWZ5LkxvY2FsU3RvcmFnZS5zZXQoaWQsIEpTT04uc3RyaW5naWZ5KG5ld1ZhbHVlKSlcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBzZXREZWZhdWx0RmllbGRWYWx1ZSA9IGFzeW5jIChpZDogc3RyaW5nLCBkZWZhdWx0VmFsdWU6IHRhc2suVGFzazxhbnk+KSA9PiB7XHJcbiAgICAgICAgaWYgKFNldHRpbmdzU2VjdGlvbi5nZXRGaWVsZFZhbHVlKGlkKSA9PT0gbnVsbCkgU2V0dGluZ3NTZWN0aW9uLnNldEZpZWxkVmFsdWUoaWQsIGF3YWl0IGRlZmF1bHRWYWx1ZSgpKVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgRmllbGRzQ29udGFpbmVyID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IFtyZXJlbmRlciwgc2V0UmVyZW5kZXJdID0gUmVhY3QudXNlU3RhdGU8bnVtYmVyPigwKVxyXG4gICAgICAgIHRoaXMuc2V0UmVyZW5kZXIgPSBzZXRSZXJlbmRlclxyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIngtc2V0dGluZ3Mtc2VjdGlvblwiIGtleT17cmVyZW5kZXJ9PlxyXG4gICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cIlR5cGVfX1R5cGVFbGVtZW50LXNjLWdvbGkzai0wIFR5cGVFbGVtZW50LWNlbGxvLXRleHRCYXNlLXR5cGVcIj57dGhpcy5uYW1lfTwvaDI+XHJcbiAgICAgICAgICAgICAgICB7T2JqZWN0LmVudHJpZXModGhpcy5zZWN0aW9uRmllbGRzKS5tYXAoKFtuYW1lSWQsIGZpZWxkXSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiA8dGhpcy5GaWVsZCBmaWVsZD17ZmllbGR9IC8+XHJcbiAgICAgICAgICAgICAgICB9KX1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgRmllbGQgPSAoeyBmaWVsZCB9OiB7IGZpZWxkOiBTZXR0aW5nc0ZpZWxkIH0pID0+IHtcclxuICAgICAgICBjb25zdCBpc1R5cGUgPSBpczxTZXR0aW5nc0ZpZWxkPihcInR5cGVcIilcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ4LXNldHRpbmdzLXJvd1wiPlxyXG4gICAgICAgICAgICAgICAgPHRoaXMuU2V0dGluZ0Rlc2NyaXB0aW9uIGlkPXtmaWVsZC5pZH0gZGVzY3JpcHRpb249e2ZpZWxkLmRlc2NyaXB0aW9ufSAvPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ4LXNldHRpbmdzLXNlY29uZENvbHVtblwiPlxyXG4gICAgICAgICAgICAgICAgICAgIHtndWFyZDQoW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBbaXNUeXBlPElucHV0RmllbGQ+KEZpZWxkVHlwZS5JTlBVVCksIHRoaXMuU2V0dGluZ0lucHV0RmllbGRdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbaXNUeXBlKEZpZWxkVHlwZS5CVVRUT04pLCB0aGlzLlNldHRpbmdCdXR0b25GaWVsZF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtpc1R5cGUoRmllbGRUeXBlLlRPR0dMRSksIHRoaXMuU2V0dGluZ1RvZ2dsZUZpZWxkXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgW2lzVHlwZShGaWVsZFR5cGUuRFJPUERPV04pLCB0aGlzLlNldHRpbmdEcm9wZG93bkZpZWxkXSxcclxuICAgICAgICAgICAgICAgICAgICBdKSh0aGlzLlNldHRpbmdIaWRkZW4pKGZpZWxkKX1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBTZXR0aW5nRGVzY3JpcHRpb24gPSAoeyBpZCwgZGVzY3JpcHRpb24gfTogeyBpZDogc3RyaW5nOyBkZXNjcmlwdGlvbjogc3RyaW5nIH0pID0+IChcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIngtc2V0dGluZ3MtZmlyc3RDb2x1bW5cIj5cclxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cIlR5cGVfX1R5cGVFbGVtZW50LXNjLWdvbGkzai0wIFR5cGVFbGVtZW50LXZpb2xhLXRleHRTdWJkdWVkLXR5cGVcIiBodG1sRm9yPXtpZH0+XHJcbiAgICAgICAgICAgICAgICB7ZGVzY3JpcHRpb259XHJcbiAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICApXHJcblxyXG4gICAgcHJpdmF0ZSBTZXR0aW5nQnV0dG9uRmllbGQgPSAoZmllbGQ6IEJ1dHRvbkZpZWxkKSA9PiAoXHJcbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiXCI+XHJcbiAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgIGlkPXtmaWVsZC5pZH1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIkJ1dHRvbi1zYy15MGd0YngtMCBCdXR0b24tc20tYnV0dG9uU2Vjb25kYXJ5LXVzZUJyb3dzZXJEZWZhdWx0Rm9jdXNTdHlsZSB4LXNldHRpbmdzLWJ1dHRvblwiXHJcbiAgICAgICAgICAgICAgICB7Li4uZmllbGQuZXZlbnRzfVxyXG4gICAgICAgICAgICAgICAgdHlwZT17ZmllbGQudHlwZX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAge2ZpZWxkLnRleHR9XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvc3Bhbj5cclxuICAgIClcclxuXHJcbiAgICBwcml2YXRlIFNldHRpbmdUb2dnbGVGaWVsZCA9IChmaWVsZDogVG9nZ2xlRmllbGQpID0+IHtcclxuICAgICAgICBjb25zdCBbdmFsdWUsIHNldFZhbHVlXSA9IHRoaXMudXNlU3RhdGVGb3I8Ym9vbGVhbj4oZmllbGQuaWQpXHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ4LXNldHRpbmdzLXNlY29uZENvbHVtbiB4LXRvZ2dsZS13cmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICBpZD17ZmllbGQuaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwieC10b2dnbGUtaW5wdXRcIlxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17U2V0dGluZ3NTZWN0aW9uLmdldEZpZWxkVmFsdWUoZmllbGQuaWQpfVxyXG4gICAgICAgICAgICAgICAgICAgIHsuLi5maWVsZC5ldmVudHN9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRWYWx1ZShlLmN1cnJlbnRUYXJnZXQuY2hlY2tlZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQuZXZlbnRzLm9uQ2hhbmdlPy4oZSlcclxuICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIngtdG9nZ2xlLWluZGljYXRvcldyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ4LXRvZ2dsZS1pbmRpY2F0b3JcIj48L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgU2V0dGluZ0lucHV0RmllbGQgPSAoZmllbGQ6IElucHV0RmllbGQpID0+IHtcclxuICAgICAgICBjb25zdCBbdmFsdWUsIHNldFZhbHVlXSA9IHRoaXMudXNlU3RhdGVGb3I8c3RyaW5nPihmaWVsZC5pZClcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ4LXNldHRpbmdzLWlucHV0XCJcclxuICAgICAgICAgICAgICAgIGlkPXtmaWVsZC5pZH1cclxuICAgICAgICAgICAgICAgIGRpcj1cImx0clwiXHJcbiAgICAgICAgICAgICAgICB2YWx1ZT17U2V0dGluZ3NTZWN0aW9uLmdldEZpZWxkVmFsdWUoZmllbGQuaWQpfVxyXG4gICAgICAgICAgICAgICAgdHlwZT17ZmllbGQuaW5wdXRUeXBlfVxyXG4gICAgICAgICAgICAgICAgey4uLmZpZWxkLmV2ZW50c31cclxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBzZXRWYWx1ZShlLmN1cnJlbnRUYXJnZXQudmFsdWUpXHJcbiAgICAgICAgICAgICAgICAgICAgZmllbGQuZXZlbnRzLm9uQ2hhbmdlPy4oZSlcclxuICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBTZXR0aW5nRHJvcGRvd25GaWVsZCA9IChmaWVsZDogRHJvcGRvd25GaWVsZCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IFt2YWx1ZSwgc2V0VmFsdWVdID0gdGhpcy51c2VTdGF0ZUZvcjxudW1iZXI+KGZpZWxkLmlkKVxyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8c2VsZWN0XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtYWluLWRyb3BEb3duLWRyb3BEb3duXCJcclxuICAgICAgICAgICAgICAgIGlkPXtmaWVsZC5pZH1cclxuICAgICAgICAgICAgICAgIHsuLi5maWVsZC5ldmVudHN9XHJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VmFsdWUoZS5jdXJyZW50VGFyZ2V0LnNlbGVjdGVkSW5kZXgpXHJcbiAgICAgICAgICAgICAgICAgICAgZmllbGQuZXZlbnRzLm9uQ2hhbmdlPy4oZSlcclxuICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIHtmaWVsZC5vcHRpb25zLm1hcCgob3B0aW9uLCBpKSA9PiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiBzZWxlY3RlZD17aSA9PT0gU2V0dGluZ3NTZWN0aW9uLmdldEZpZWxkVmFsdWUoZmllbGQuaWQpfSB2YWx1ZT17aSArIDF9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7b3B0aW9ufVxyXG4gICAgICAgICAgICAgICAgICAgIDwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICAgIClcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIFNldHRpbmdIaWRkZW4gPSAoKSA9PiA8PjwvPlxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZW51bSBGaWVsZFR5cGUge1xyXG4gICAgSElEREVOID0gXCJoaWRkZW5cIixcclxuICAgIElOUFVUID0gXCJpbnB1dFwiLFxyXG4gICAgRFJPUERPV04gPSBcImRyb3Bkb3duXCIsXHJcbiAgICBCVVRUT04gPSBcImJ1dHRvblwiLFxyXG4gICAgVE9HR0xFID0gXCJ0b2dnbGVcIixcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBCYXNlRmllbGQ8QT4ge1xyXG4gICAgaWQ6IHN0cmluZ1xyXG4gICAgdHlwZTogRmllbGRUeXBlXHJcbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQnV0dG9uRmllbGQgZXh0ZW5kcyBCYXNlRmllbGQ8bmV2ZXI+IHtcclxuICAgIHR5cGU6IEZpZWxkVHlwZS5CVVRUT05cclxuICAgIHRleHQ6IHN0cmluZ1xyXG4gICAgZXZlbnRzOiBQYXJ0aWFsPFJlYWN0LkJ1dHRvbkhUTUxBdHRyaWJ1dGVzPEhUTUxCdXR0b25FbGVtZW50Pj5cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBUb2dnbGVGaWVsZCBleHRlbmRzIEJhc2VGaWVsZDxib29sZWFuPiB7XHJcbiAgICB0eXBlOiBGaWVsZFR5cGUuVE9HR0xFXHJcbiAgICBldmVudHM6IFBhcnRpYWw8UmVhY3QuSW5wdXRIVE1MQXR0cmlidXRlczxIVE1MSW5wdXRFbGVtZW50Pj5cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJbnB1dEZpZWxkIGV4dGVuZHMgQmFzZUZpZWxkPHN0cmluZz4ge1xyXG4gICAgdHlwZTogRmllbGRUeXBlLklOUFVUXHJcbiAgICBpbnB1dFR5cGU6IHN0cmluZ1xyXG4gICAgZXZlbnRzOiBQYXJ0aWFsPFJlYWN0LklucHV0SFRNTEF0dHJpYnV0ZXM8SFRNTElucHV0RWxlbWVudD4+XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRHJvcGRvd25GaWVsZCBleHRlbmRzIEJhc2VGaWVsZDxudW1iZXI+IHtcclxuICAgIHR5cGU6IEZpZWxkVHlwZS5EUk9QRE9XTlxyXG4gICAgb3B0aW9uczogc3RyaW5nW11cclxuICAgIGV2ZW50czogUGFydGlhbDxSZWFjdC5TZWxlY3RIVE1MQXR0cmlidXRlczxIVE1MU2VsZWN0RWxlbWVudD4+XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSGlkZGVuRmllbGQgZXh0ZW5kcyBCYXNlRmllbGQ8YW55PiB7XHJcbiAgICB0eXBlOiBGaWVsZFR5cGUuSElEREVOXHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIFNldHRpbmdzRmllbGQgPSBIaWRkZW5GaWVsZCB8IERyb3Bkb3duRmllbGQgfCBJbnB1dEZpZWxkIHwgQnV0dG9uRmllbGQgfCBUb2dnbGVGaWVsZFxyXG4iLCAiZXhwb3J0IGNvbnN0IFJBVElOR1NfRk9MREVSX05BTUUgPSBcIlJhdGluZ3NcIlxyXG5cclxuZXhwb3J0IGNvbnN0IGdldFRyYWNrTGlzdHMgPSAoKSA9PiBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGw8SFRNTERpdkVsZW1lbnQ+KFwiLm1haW4tdHJhY2tMaXN0LWluZGV4YWJsZVwiKSlcclxuZXhwb3J0IGNvbnN0IGdldFRyYWNrTGlzdFRyYWNrcyA9ICh0cmFja0xpc3Q6IEhUTUxEaXZFbGVtZW50KSA9PlxyXG4gICAgQXJyYXkuZnJvbSh0cmFja0xpc3QucXVlcnlTZWxlY3RvckFsbDxIVE1MRGl2RWxlbWVudD4oXCJkaXYubWFpbi10cmFja0xpc3QtdHJhY2tMaXN0Um93XCIpKVxyXG5cclxuZXhwb3J0IGNvbnN0IGdldFRyYWNrTGlzdFRyYWNrVXJpID0gKHRyYWNrOiBIVE1MRGl2RWxlbWVudCkgPT4gKFxyXG4gICAgKHRyYWNrID0gT2JqZWN0LnZhbHVlcyh0cmFjaylbMF0uY2hpbGQuY2hpbGQuY2hpbGQuY2hpbGQpLFxyXG4gICAgKHRyYWNrIGFzIGFueSkucGVuZGluZ1Byb3BzLnVyaSA/PyAodHJhY2sgYXMgYW55KS5jaGlsZC5wZW5kaW5nUHJvcHMudXJpXHJcbilcclxuXHJcbmV4cG9ydCBjb25zdCBnZXROb3dQbGF5aW5nQmFyID0gKCkgPT4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MRGl2RWxlbWVudD4oXCJkaXYubWFpbi1ub3dQbGF5aW5nQmFyLW5vd1BsYXlpbmdCYXJcIikhXHJcbmV4cG9ydCBjb25zdCBnZXRDb2xsZWN0aW9uQWN0aW9uQmFyUm93ID0gKCkgPT5cclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTERpdkVsZW1lbnQ+KGBkaXYubWFpbi1hY3Rpb25CYXItQWN0aW9uQmFyUm93YCkhXHJcblxyXG5leHBvcnQgY29uc3QgcGxheWxpc3RCdXR0b25TZWxlY3RvciA9IGBidXR0b25bYXJpYS1sYWJlbD1cIkFkZCB0byBMaWtlZCBTb25nc1wiXSwgYnV0dG9uW2FyaWEtbGFiZWw9XCJBZGQgdG8gcGxheWxpc3RcIl1gXHJcbmV4cG9ydCBjb25zdCBnZXRQbGF5bGlzdEJ1dHRvbiA9IChwYXJlbnQ6IEhUTUxFbGVtZW50KSA9PlxyXG4gICAgcGFyZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTEJ1dHRvbkVsZW1lbnQ+KHBsYXlsaXN0QnV0dG9uU2VsZWN0b3IpIVxyXG5leHBvcnQgY29uc3QgZ2V0Q29sbGVjdGlvblBsYXlsaXN0QnV0dG9uID0gKCkgPT4ge1xyXG4gICAgY29uc3QgYWIgPSBnZXRDb2xsZWN0aW9uQWN0aW9uQmFyUm93KClcclxuICAgIHJldHVybiBhYi5xdWVyeVNlbGVjdG9yPEhUTUxCdXR0b25FbGVtZW50PihcclxuICAgICAgICBgYnV0dG9uW2FyaWEtbGFiZWw9XCJSZW1vdmUgZnJvbSBZb3VyIExpYnJhcnlcIl0sIGJ1dHRvblthcmlhLWxhYmVsPVwiU2F2ZSB0byBZb3VyIExpYnJhcnlcIl1gLFxyXG4gICAgKSFcclxufVxyXG4iXSwKICAibWFwcGluZ3MiOiAiQUFFQSxPQUFTLFdBQUFBLE9BQWUscUNDRnhCLE9BQVMsU0FBU0MsRUFBSSxZQUFZQyxNQUFTLHVCQ0EzQyxPQUNJLFNBQVNDLEVBQ1QsTUFBQUMsR0FDQSxVQUFVQyxHQUNWLFVBQVVDLEdBRVYsYUFBYUMsR0FDYixZQUFZQyxNQUNULHVCQUNQLE9BQVMsU0FBQUMsR0FBTyxXQUFBQyxPQUFlLG9DQVF4QixJQUFNQyxFQUNUQyxHQUVBQyxHQUNJRCxDQU1KLEVBMkJHLElBQU1FLEVBQ0ZDLEdBQ1AsTUFBT0MsR0FDSEQsRUFBRSxNQUFNQyxDQUFFLEVBRUxDLEVBQ0xDLEdBQ1VDLEdBQ2JDLEdBQ0dBLEVBQU1GLENBQUMsSUFBTUMsRUFTZCxJQUFNRSxFQUNSQyxHQUNNQyxHQUNIQyxFQUFFLEtBQUtDLEVBQUcsU0FBU0gsQ0FBQyxFQUFNRyxFQUFHLElBQUlGLENBQUMsRUFBR0csR0FBTSxRQUFRLElBQUlBLENBQUUsRUFBR0Ms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REcsRUFBeUIsVUFBVSxPQUFPLEtBQUssT0FBTyxHQUFJLEVBRTFELElBQUlDLEVBQ0VDLEdBQXNCLElBQUksaUJBQWlCLElBQU1DLEVBQXdCLENBQUMsRUFFaEYsSUFBSSxpQkFBaUIsSUFBTSxDQUN2QixJQUFNQyxFQUFrQixTQUFTLGNBQTJCLE1BQU0sRUFDOURBLEdBQW1CLENBQUNBLEVBQWdCLFlBQVlILENBQVcsSUFDdkRBLEdBQWFDLEdBQW9CLFdBQVcsRUFDaERELEVBQWNHLEVBQ2RGLEdBQW9CLFFBQVFELEVBQWEsQ0FDckMsVUFBVyxHQUNYLFFBQVMsRUFDYixDQUFDLEVBRVQsQ0FBQyxFQUFFLFFBQVEsU0FBUyxLQUFNLENBQ3RCLFVBQVcsR0FDWCxRQUFTLEVBQ2IsQ0FBQyxFQUVELFVBQVUsU0FBUyxRQUFRLE9BQU8sTUFBTyxDQUFFLFNBQUFJLENBQVMsSUFBNEIsQ0FDdkRDLEdBQVEsQ0FBQ1gsRUFBSSxRQUFTQSxFQUFJLFNBQVVBLEVBQUksZ0JBQWdCLENBQUMsRUFDNURVLENBQVEsR0FFMUJFLEVBQXlCWixFQUFJLFdBQVdVLENBQVEsQ0FBQyxDQUNyRCxDQUFDIiwKICAibmFtZXMiOiBbImFueVBhc3MiLCAiYXIiLCAiZiIsICJhciIsICJlcSIsICJzdHIiLCAicmVjIiwgInNnIiwgImYiLCAiZ3VhcmQiLCAibWVtb2l6ZSIsICJndWFyZDQiLCAiYnJhbmNoZXMiLCAiZ3VhcmQiLCAicE1jaGFpbiIsICJmIiwgImZhIiwgImlzIiwgImMiLCAiYSIsICJmaWVsZCIsICJjaHVuY2tpZnkiLCAibiIsICJnIiwgImYiLCAiYXIiLCAicHMiLCAicE1jaGFpbiIsICJtZW1vaXplMiIsICJmbiIsICJmIiwgIm1lbW9pemUiLCAiZXEiLCAic3RyIiwgImEiLCAiZiIsICJTcG90aWZ5TG9jIiwgInVyaSIsICJ1aWQiLCAic2xlZXAiLCAibXMiLCAicmVzb2x2ZSIsICJmZXRjaEdRTEFsYnVtIiwgInVyaSIsICJvZmZzZXQiLCAibGltaXQiLCAicmVtb3ZlV2ViUGxheWxpc3RUcmFja3MiLCAicGxheWxpc3QiLCAidHJhY2tzIiwgInVyaSIsICJmZXRjaFdlYkFydGlzdHNTcG90IiwgImNodW5ja2lmeSIsICJpZHMiLCAiZmV0Y2hXZWJQbGF5bGlzdHNTcG90IiwgImlkIiwgImZldGNoV2ViQWxidW1zU3BvdCIsICJmZXRjaFdlYlRyYWNrc1Nwb3QiLCAiZmV0Y2hQbGF0QXJ0aXN0TGlrZWRUcmFja3MiLCAidXJpIiwgIm9mZnNldCIsICJsaW1pdCIsICJmZXRjaFBsYXRQbGF5bGlzdENvbnRlbnRzIiwgImNyZWF0ZVBsYXRGb2xkZXIiLCAibmFtZSIsICJsb2NhdGlvbiIsICJjcmVhdGVQbGF0UGxheWxpc3QiLCAibmFtZSIsICJsb2NhdGlvbiIsICJzZXRQbGF0UGxheWxpc3RWaXNpYmlsaXR5IiwgInBsYXlsaXN0IiwgInZpc2libGVGb3JBbGwiLCAiZmV0Y2hQbGF0Rm9sZGVyIiwgImZvbGRlciIsICJhZGRQbGF0UGxheWxpc3RUcmFja3MiLCAicGxheWxpc3QiLCAidHJhY2tzIiwgImxvY2F0aW9uIiwgImZldGNoVHJhY2tMRk1BUEkiLCAiTEZNQXBpS2V5IiwgImFydGlzdCIsICJ0cmFja05hbWUiLCAibGFzdEZtVXNlcm5hbWUiLCAidXJsIiwgInJlcyIsICJmZXRjaFRyYWNrTEZNQVBJTWVtb2l6ZWQiLCAibWVtb2l6ZTIiLCAicmFuZ2UiLCAiYXIiLCAiZiIsICJ0YXNrIiwgInRhc2siLCAiY29uc3RWb2lkIiwgIlJlYWN0IiwgIlJlYWN0RE9NIiwgIlNldHRpbmdzU2VjdGlvbiIsICJfU2V0dGluZ3NTZWN0aW9uIiwgIm5hbWUiLCAic2VjdGlvbklkIiwgInNlY3Rpb25GaWVsZHMiLCAic2xlZXAiLCAicGF0aG5hbWUiLCAidGFyZ2V0IiwgInByb3AiLCAiYWxsU2V0dGluZ3NDb250YWluZXIiLCAicGx1Z2luU2V0dGluZ3NDb250YWluZXIiLCAiaWQiLCAibmFtZUlkIiwgImRlc2NyaXB0aW9uIiwgInRleHQiLCAib25DbGljayIsICJjb25zdFZvaWQiLCAiZXZlbnRzIiwgImRlZmF1bHRWYWx1ZSIsICJ0YXNrIiwgIm9uQ2hhbmdlIiwgImlucHV0VHlwZSIsICJvcHRpb25zIiwgInZhbHVlIiwgInNldFZhbHVlU3RhdGUiLCAibmV3VmFsdWUiLCAicmVyZW5kZXIiLCAic2V0UmVyZW5kZXIiLCAiZmllbGQiLCAiaXNUeXBlIiwgImlzIiwgImd1YXJkNCIsICJzZXRWYWx1ZSIsICJlIiwgIm9wdGlvbiIsICJpIiwgIlJBVElOR1NfRk9MREVSX05BTUUiLCAic2V0dGluZ3MiLCAiU2V0dGluZ3NTZWN0aW9uIiwgInRhc2siLCAiY3JlYXRlUGxhdEZvbGRlciIsICJsb2FkUmF0aW5ncyIsICJDT05GSUciLCAibG9hZFJhdGluZ3MiLCAicmF0aW5nc0ZvbGRlciIsICJmZXRjaFBsYXRGb2xkZXIiLCAiQ09ORklHIiwgInBsYXlsaXN0VXJpcyIsICJmIiwgImFyIiwgInAiLCAidXJpcyIsICJ1cmkiLCAicmF0aW5nIiwgInRyYWNrc1JhdGluZ3MiLCAiZmV0Y2hQbGF0UGxheWxpc3RDb250ZW50cyIsICJwcyIsICJwTWNoYWluIiwgInRyYWNrcyIsICJ0cmFja1VyaXMiLCAidHJhY2tVcmkiLCAiYWNjIiwgInRvZ2dsZVJhdGluZyIsICJjdXJyZW50UmF0aW5nIiwgInBsYXlsaXN0VXJpIiwgInBsYXlsaXN0SWQiLCAicmVtb3ZlV2ViUGxheWxpc3RUcmFja3MiLCAiY3JlYXRlUGxhdFBsYXlsaXN0IiwgIlNwb3RpZnlMb2MiLCAic2V0UGxhdFBsYXlsaXN0VmlzaWJpbGl0eSIsICJhZGRQbGF0UGxheWxpc3RUcmFja3MiLCAibnBUcmFjayIsICJ1cGRhdGVOb3dQbGF5aW5nQ29udHJvbHMiLCAidXBkYXRlVHJhY2tMaXN0Q29udHJvbHMiLCAicGF0aG5hbWUiLCAidXBkYXRlQ29sbGVjdGlvbkNvbnRyb2xzIiwgIlJlYWN0IiwgIlJhdGluZ0J1dHRvbiIsICJpIiwgInVyaSIsICJ0b2dnbGVSYXRpbmciLCAiRHJvcGRvd24iLCAicmFuZ2UiLCAiZ2V0VHJhY2tMaXN0cyIsICJnZXRUcmFja0xpc3RUcmFja3MiLCAidHJhY2tMaXN0IiwgImdldFRyYWNrTGlzdFRyYWNrVXJpIiwgInRyYWNrIiwgImdldE5vd1BsYXlpbmdCYXIiLCAiZ2V0Q29sbGVjdGlvbkFjdGlvbkJhclJvdyIsICJwbGF5bGlzdEJ1dHRvblNlbGVjdG9yIiwgImdldFBsYXlsaXN0QnV0dG9uIiwgInBhcmVudCIsICJnZXRDb2xsZWN0aW9uUGxheWxpc3RCdXR0b24iLCAiVVJJIiwgIlJlYWN0IiwgIlJlYWN0RE9NIiwgImNvbG9yQnlSYXRpbmciLCAiY29sb3JpemVQbGF5bGlzdEJ1dHRvbiIsICJidG4iLCAicmF0aW5nIiwgInN2ZyIsICJsYXN0RGl2IiwgIndyYXBEcm9wZG93bkluc2lkZVBsYXlsaXN0QnV0dG9uIiwgInBiIiwgInVyaSIsICJmb3JjZWQiLCAiZGl2IiwgIkRyb3Bkb3duIiwgImluc3RhbmNlIiwgInBvcHBlciIsICJib3giLCAiZiIsICJjaGlsZHJlbiIsICJlbGVtZW50IiwgInVwZGF0ZU5vd1BsYXlpbmdDb250cm9scyIsICJuZXdUcmFjayIsICJ1cGRhdGVEcm9wZG93biIsICJucGIiLCAiZ2V0Tm93UGxheWluZ0JhciIsICJnZXRQbGF5bGlzdEJ1dHRvbiIsICJ0cmFja3NSYXRpbmdzIiwgInVwZGF0ZVRyYWNrTGlzdENvbnRyb2xzIiwgInRyYWNrTGlzdHMiLCAiZ2V0VHJhY2tMaXN0cyIsICJhciIsICJ0cmFja0xpc3QiLCAiZ2V0VHJhY2tMaXN0VHJhY2tzIiwgInRyYWNrIiwgImdldFRyYWNrTGlzdFRyYWNrVXJpIiwgInIiLCAidXBkYXRlQ29sbGVjdGlvbkNvbnRyb2xzIiwgInVyaXMiLCAiZmV0Y2hHUUxBbGJ1bSIsICJ4IiwgImZldGNoUGxhdEFydGlzdExpa2VkVHJhY2tzIiwgImZldGNoUGxhdFBsYXlsaXN0Q29udGVudHMiLCAicmF0aW5ncyIsICJhY2MiLCAiZ2V0Q29sbGVjdGlvblBsYXlsaXN0QnV0dG9uIiwgIlVSSSIsICJsb2FkUmF0aW5ncyIsICJucFRyYWNrIiwgIkNPTkZJRyIsICJ0cmFja3NSYXRpbmdzIiwgInVwZGF0ZU5vd1BsYXlpbmdDb250cm9scyIsICJtYWluRWxlbWVudCIsICJtYWluRWxlbWVudE9ic2VydmVyIiwgInVwZGF0ZVRyYWNrTGlzdENvbnRyb2xzIiwgIm5leHRNYWluRWxlbWVudCIsICJwYXRobmFtZSIsICJhbnlQYXNzIiwgInVwZGF0ZUNvbGxlY3Rpb25Db250cm9scyJdCn0K
(async () => {
    if (!document.getElementById("star-ratings-2-css")) {
        const el = document.createElement("style")
        el.id = "star-ratings-2-css"
        
        el.textContent = "svg.rating-1{fill:#ed5564!important}svg.rating-2{fill:#ffce54!important}svg.rating-3{fill:#a0d568!important}svg.rating-4{fill:#4fc1e8!important}svg.rating-5{fill:#ac92eb!important}\n/*# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vZXh0ZW5zaW9ucy9zdGFyLXJhdGluZ3MtMi9hc3NldHMvc3R5bGVzLmNzcyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsic3ZnLnJhdGluZy0xe2ZpbGw6I2VkNTU2NCAhaW1wb3J0YW50fXN2Zy5yYXRpbmctMntmaWxsOiNmZmNlNTQgIWltcG9ydGFudH1zdmcucmF0aW5nLTN7ZmlsbDojYTBkNTY4ICFpbXBvcnRhbnR9c3ZnLnJhdGluZy00e2ZpbGw6IzRmYzFlOCAhaW1wb3J0YW50fXN2Zy5yYXRpbmctNXtmaWxsOiNhYzkyZWIgIWltcG9ydGFudH0iXSwKICAibWFwcGluZ3MiOiAiQUFBQSxHQUFHLENBQUMsU0FBUyxLQUFLLGlCQUFrQixDQUFDLEdBQUcsQ0FBQyxTQUFTLEtBQUssaUJBQWtCLENBQUMsR0FBRyxDQUFDLFNBQVMsS0FBSyxpQkFBa0IsQ0FBQyxHQUFHLENBQUMsU0FBUyxLQUFLLGlCQUFrQixDQUFDLEdBQUcsQ0FBQyxTQUFTLEtBQUssaUJBQWtCIiwKICAibmFtZXMiOiBbXQp9Cg== */\n"
        document.head.appendChild(el)
    }
})()