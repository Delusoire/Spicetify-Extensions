import{anyPass as bt}from"https://esm.sh/fp-ts-std/Predicate";import{array as L,function as A}from"https://esm.sh/fp-ts";import{array as w,eq as ot,string as lt,record as Rt,semigroup as It,function as S}from"https://esm.sh/fp-ts";import{guard as pt,memoize as ct}from"https://esm.sh/fp-ts-std/Function";var C=e=>pt(e);var u=e=>async t=>e(await t),D=e=>t=>i=>i[e]===t;var m=e=>t=>S.flow(w.chunksOf(e),w.map(t),i=>Promise.all(i),u(w.flatten));var M=e=>S.pipe(e,S.tupled,ct(ot.contramap(JSON.stringify)(lt.Eq)),S.untupled);import{array as kt,function as N}from"https://esm.sh/fp-ts";var O={before:{start:N.constant({before:"start"}),fromUri:e=>({before:{uri:e}}),fromUid:e=>({before:{uid:e}})},after:{end:N.constant({after:"end"}),fromUri:e=>({after:{uri:e}}),fromUid:e=>({after:{uid:e}})}};var b=e=>new Promise(t=>setTimeout(t,e));var H=async(e,t=0,i=487)=>(await Spicetify.GraphQL.Request(Spicetify.GraphQL.Definitions.getAlbum,{uri:e,locale:Spicetify.Locale.getLocale(),offset:t,limit:i})).data.albumUnion;var _=async(e,t)=>Spicetify.CosmosAsync.del(`https://api.spotify.com/v1/playlists/${e}/tracks`,{tracks:t.map(i=>({uri:i}))}),Mt=m(50)(async e=>(await Spicetify.CosmosAsync.get(`https://api.spotify.com/v1/artists?ids=${e.join(",")}`)).artists),Nt=m(1)(async([e])=>[await Spicetify.CosmosAsync.get(`https://api.spotify.com/v1/playlists/${e}`)]),Ot=m(50)(async e=>(await Spicetify.CosmosAsync.get(`https://api.spotify.com/v1/albums?ids=${e.join(",")}`)).albums),Ht=m(50)(async e=>(await Spicetify.CosmosAsync.get(`https://api.spotify.com/v1/tracks?ids=${e.join(",")}`)).tracks);var G=async(e,t=0,i=100)=>(await Spicetify.Platform.LibraryAPI.getTracks({uri:e,offset:t,limit:i})).items,x=async e=>(await Spicetify.Platform.PlaylistAPI.getContents(e)).items,q=async(e,t={})=>await Spicetify.Platform.RootlistAPI.createFolder(e,t);var V=async(e,t={})=>await Spicetify.Platform.RootlistAPI.createPlaylist(e,t);var j=async(e,t)=>await Spicetify.Platform.PlaylistPermissionsAPI.setBasePermission(e,t?"VIEWER":"BLOCKED");var Q=async e=>await Spicetify.Platform.RootlistAPI.getContents({folderUri:e});var $=async(e,t,i={})=>await Spicetify.Platform.PlaylistAPI.add(e,t,i);var ut=async(e,t,i,s="")=>{let r=new URL("https://ws.audioscrobbler.com/2.0/");return r.searchParams.append("method","track.getInfo"),r.searchParams.append("api_key",e),r.searchParams.append("artist",t),r.searchParams.append("track",i),r.searchParams.append("format","json"),r.searchParams.append("username",s),await fetch(r).then(n=>n.json())},_t=M(ut);import{range as yt}from"https://esm.sh/fp-ts/lib/ReadonlyNonEmptyArray";import{array as l,function as U}from"https://esm.sh/fp-ts";import{task as z}from"https://esm.sh/fp-ts";import{task as W}from"https://esm.sh/fp-ts";import{constVoid as R}from"https://esm.sh/fp-ts/function";var{React:o,ReactDOM:dt}=Spicetify,P=class e{constructor(t,i,s={}){this.name=t;this.sectionId=i;this.sectionFields=s;this.setRerender=null;this.pushSettings=async()=>{for(;!Spicetify?.Platform?.History?.listen;)await b(100);this.stopHistoryListener&&this.stopHistoryListener(),this.stopHistoryListener=Spicetify.Platform.History.listen(({pathname:t=""})=>{t==="/preferences"&&this.render()}),Spicetify.Platform.History.location.pathname==="/preferences"&&await this.render()};this.toObject=()=>new Proxy({},{get:(t,i)=>e.getFieldValue(this.getId(i.toString()))});this.rerender=()=>{this.setRerender&&this.setRerender(Math.random())};this.render=async()=>{for(;!document.getElementById("desktop.settings.selectLanguage");){if(Spicetify.Platform.History.location.pathname!=="/preferences")return;await b(100)}let t=document.querySelector(".x-settings-container"),i=Array.from(t.children).find(({id:s})=>s===this.sectionId);i||(i=document.createElement("div"),i.id=this.sectionId,i.className="settingsContainer",t.appendChild(i)),dt.render(o.createElement(this.FieldsContainer,null),i)};this.addButton=(t,i,s,r=R,n={})=>{let a=this.getId(t);return n.onClick=r,this.sectionFields[t]={id:a,type:"button",description:i,text:s,events:n},this};this.addToggle=(t,i,s=W.of(!0),r=R,n={})=>{let a=this.getId(t);return e.setDefaultFieldValue(a,s),n.onChange=r,this.sectionFields[t]={id:a,type:"toggle",description:i,events:n},this};this.addInput=(t,i,s,r=R,n="text",a={})=>{let c=this.getId(t);return e.setDefaultFieldValue(c,s),a.onChange=r,this.sectionFields[t]={id:c,type:"input",description:i,inputType:n,events:a},this};this.addDropDown=(t,i,s,r=W.of(0),n=R,a={})=>{let c=this.getId(t);return e.setDefaultFieldValue(c,r),a.onChange=n,this.sectionFields[t]={id:c,type:"dropdown",description:i,options:s,events:a},this};this.addHidden=(t,i)=>{let s=this.getId(t);return e.setDefaultFieldValue(s,i),this.sectionFields[t]={id:s,type:"hidden",description:""},this};this.getId=t=>`extensions:${this.sectionId}:${t}`;this.useStateFor=t=>{let[i,s]=o.useState(e.getFieldValue(t));return[i,r=>{r!==void 0&&(s(r),e.setFieldValue(t,r))}]};this.FieldsContainer=()=>{let[t,i]=o.useState(0);return this.setRerender=i,o.createElement("div",{className:"x-settings-section",key:t},o.createElement("h2",{className:"Type__TypeElement-sc-goli3j-0 TypeElement-cello-textBase-type"},this.name),Object.entries(this.sectionFields).map(([s,r])=>o.createElement(this.Field,{field:r})))};this.Field=({field:t})=>{let i=D("type");return o.createElement("div",{className:"x-settings-row"},o.createElement(this.SettingDescription,{id:t.id,description:t.description}),o.createElement("div",{className:"x-settings-secondColumn"},C([[i("input"),this.SettingInputField],[i("button"),this.SettingButtonField],[i("toggle"),this.SettingToggleField],[i("dropdown"),this.SettingDropdownField]])(this.SettingHidden)(t)))};this.SettingDescription=({id:t,description:i})=>o.createElement("div",{className:"x-settings-firstColumn"},o.createElement("label",{className:"Type__TypeElement-sc-goli3j-0 TypeElement-viola-textSubdued-type",htmlFor:t},i));this.SettingButtonField=t=>o.createElement("span",{className:""},o.createElement("button",{id:t.id,className:"Button-sc-y0gtbx-0 Button-sm-buttonSecondary-useBrowserDefaultFocusStyle x-settings-button",...t.events,type:t.type},t.text));this.SettingToggleField=t=>{let[i,s]=this.useStateFor(t.id);return o.createElement("label",{className:"x-settings-secondColumn x-toggle-wrapper"},o.createElement("input",{id:t.id,className:"x-toggle-input",type:"checkbox",checked:e.getFieldValue(t.id),...t.events,onChange:r=>{s(r.currentTarget.checked),t.events.onChange?.(r)}}),o.createElement("span",{className:"x-toggle-indicatorWrapper"},o.createElement("span",{className:"x-toggle-indicator"})))};this.SettingInputField=t=>{let[i,s]=this.useStateFor(t.id);return o.createElement("input",{className:"x-settings-input",id:t.id,dir:"ltr",value:e.getFieldValue(t.id),type:t.inputType,...t.events,onChange:r=>{s(r.currentTarget.value),t.events.onChange?.(r)}})};this.SettingDropdownField=t=>{let[i,s]=this.useStateFor(t.id);return o.createElement("select",{className:"main-dropDown-dropDown",id:t.id,...t.events,onChange:r=>{s(r.currentTarget.selectedIndex),t.events.onChange?.(r)}},t.options.map((r,n)=>o.createElement("option",{selected:n===e.getFieldValue(t.id),value:n+1},r)))};this.SettingHidden=()=>o.createElement(o.Fragment,null)}static{this.waitForReact=async()=>{for(;!(Spicetify.React&&Spicetify.ReactDOM);)b(100);return this}}static{this.getFieldValue=t=>JSON.parse(Spicetify.LocalStorage.get(t)??"null")}static{this.setFieldValue=(t,i)=>{Spicetify.LocalStorage.set(t,JSON.stringify(i))}}static{this.setDefaultFieldValue=async(t,i)=>{e.getFieldValue(t)===null&&e.setFieldValue(t,await i())}}};var mt="Ratings",J=new P("Star Ratings 2","star-ratings-2").addInput("heartThreshold","Threshold for liking trakcs",z.of("3")).addInput("skipThreshold","Threshold for skipping trakcs",z.of("1")).addInput("ratingsFolderUri","Ratings folder uri",async()=>(await q(mt)).uri,I);J.pushSettings();var d=J.toObject();var I=async()=>{let e=await Q(d.ratingsFolderUri);y=U.pipe(e.items,l.map(t=>[t.uri,Number(t.name)]),l.reduce([],(t,[i,s])=>(t[s]=i,t))),globalThis.tracksRatings=p=await U.pipe(y,l.map(x),t=>Promise.all(t),u(l.map(t=>t??[])),u(l.map(l.map(t=>t.uri))),u(l.flatMap((t,i)=>t.map(s=>[s,i]))),u(l.reduce({},(t,[i,s])=>Object.assign(t,{[i]:Math.max(s,t[i]??0)}))))},K=async(e,t)=>{let i=p[e];if(i===t&&(t=0),i&&U.pipe(y.slice(0,i+1),l.filter(Boolean),l.map(n=>Spicetify.URI.fromString(n).id),l.map(n=>_(n,[e]))),p[e]=t,t>0){let n=y[t];n||(n=await V(t.toFixed(0),O.after.fromUri(d.ratingsFolderUri)),j(n,!1),y[t]=n),$(n,[e])}let s=Spicetify.Player.data.track?.uri;s===e&&g(s,!1),v();let{pathname:r}=Spicetify.Platform.History.location;T(Spicetify.URI.fromString(r))},y=[],p={};var{React:f}=Spicetify,gt=({i:e,uri:t})=>f.createElement("button",{className:"Button-sc-1dqy6lx-0 Button-textBrightAccent-sm-16-buttonTertiary-iconOnly-condensed-isUsingKeyboard-useBrowserDefaultFocusStyle rating-button",onClick:()=>K(t,e)},f.createElement("svg",{role:"img",height:16,width:16,viewBox:"0 0 16 16",className:`Svg-sc-ytk21e-0 Svg-img-icon rating-${e}`},f.createElement("path",{d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm11.748-1.97a.75.75 0 0 0-1.06-1.06l-4.47 4.47-1.405-1.406a.75.75 0 1 0-1.061 1.06l2.466 2.467 5.53-5.53z"}))),Y=({uri:e})=>f.createElement("div",{className:"rating-dropdown"},yt(1,5).map(t=>f.createElement(gt,{i:t,uri:e})));var X=()=>Array.from(document.querySelectorAll(".main-trackList-indexable")),Z=e=>Array.from(e.querySelectorAll("div.main-trackList-trackListRow")),tt=e=>(e=Object.values(e)[0].child.child.child.child,e.pendingProps.uri??e.child.pendingProps.uri),et=()=>document.querySelector("div.main-nowPlayingBar-nowPlayingBar"),ft=()=>document.querySelector("div.main-actionBar-ActionBarRow"),At='button[aria-label="Add to Liked Songs"], button[aria-label="Add to playlist"]',E=e=>e.querySelector(At),it=()=>ft().querySelector('button[aria-label="Remove from Your Library"], button[aria-label="Save to Your Library"]');var{URI:h}=Spicetify,{React:ht,ReactDOM:St}=Spicetify,rt=["unset","#ED5564","#FFCE54","A0D568","#4FC1E8","#AC92EB"],B=(e,t)=>{if(e.style.fill===rt[t])return;e.style.opacity=t>0?"1":"unset";let i=e.querySelector("svg");i.style.fill=rt[t]},nt,st=(e,t,i=!1)=>{if(e.hasAttribute("dropdown-enabled")){if(!i)return}else e.setAttribute("dropdown-enabled","");let s=document.createElement("div");i&&(nt.outerHTML="",nt=s),e.appendChild(s),St.render(ht.createElement(Y,{uri:t}),s),Spicetify.Tippy(e,{content:s,interactive:!0,animateFill:!1,placement:"left",animation:"fade",zIndex:1e4,delay:[200,0],render(r){let n=document.createElement("div"),a=document.createElement("div");return n.id="context-menu",n.appendChild(a),a.className="main-contextMenu-tippy",a.appendChild(r.props.content),{popper:n,onUpdate:A.constVoid}},onShow(r){r.popper.firstChild.classList.add("main-contextMenu-tippyEnter");let n=r.reference.parentElement.children,a=n.item(n.length-1);a.style.marginRight="0px"},onMount(r){requestAnimationFrame(()=>{r.popper.firstChild.classList.remove("main-contextMenu-tippyEnter"),r.popper.firstChild.classList.add("main-contextMenu-tippyEnterActive")})},onHide(r){requestAnimationFrame(()=>{r.popper.firstChild.classList.remove("main-contextMenu-tippyEnterActive");let n=r.reference.parentElement.children,a=n.item(n.length-2);a.style.marginRight="unset",r.unmount()})}})},g=(e,t=!0)=>{let i=et(),s=E(i);B(s,p[e]),t&&st(s,e,!0)},v=(e=!0)=>{let t=X();A.pipe(t,L.map(i=>{Z(i).map(r=>{let n=h.fromString(tt(r)).toURI();if(!h.isTrack(n))return;let a=p[n],c=E(r);B(c,a),e&&st(c,n)})}))},T=async e=>{let t;if(h.isAlbum(e))t=A.pipe(await H(`${e}`),n=>n.tracks.items,L.map(n=>n.track.uri));else if(h.isArtist(e))t=A.pipe(await G(`${e}`),L.map(n=>n.uri));else if(h.isPlaylistV1OrV2(e))t=A.pipe(await x(`${e}`),L.map(n=>n.uri));else throw"me out the window";let i=t.map(n=>p[n]).filter(Boolean),s=Math.round(i.reduce((n,a)=>n+a)/i.length),r=it();B(r,s)};var{URI:k}=Spicetify;I();Spicetify.Player.addEventListener("songchange",()=>{let e=Spicetify.Player.data.track?.uri;if(Number(d.skipThreshold)&&(p[e]||Number.MAX_SAFE_INTEGER)<=Number(d.skipThreshold))return void Spicetify.Player.next();g(e)});g(Spicetify.Player.data.track?.uri);var F,at=new MutationObserver(()=>v());new MutationObserver(()=>{let e=document.querySelector("main");e&&!e.isEqualNode(F)&&(F&&at.disconnect(),F=e,at.observe(F,{childList:!0,subtree:!0}))}).observe(document.body,{childList:!0,subtree:!0});Spicetify.Platform.History.listen(async({pathname:e})=>{bt([k.isAlbum,k.isArtist,k.isPlaylistV1OrV2])(e)&&T(k.fromString(e))});
//! Does location actually point to document.body?
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vZXh0ZW5zaW9ucy9zdGFyLXJhdGluZ3MtMi9hcHAudHMiLCAiLi4vLi4vZXh0ZW5zaW9ucy9zdGFyLXJhdGluZ3MtMi9jb250cm9scy50c3giLCAiLi4vLi4vc2hhcmVkL2ZwLnRzIiwgIi4uLy4uL3NoYXJlZC91dGlsLnRzIiwgIi4uLy4uL3NoYXJlZC9hcGkudHMiLCAiLi4vLi4vZXh0ZW5zaW9ucy9zdGFyLXJhdGluZ3MtMi9kcm9wZG93bi50c3giLCAiLi4vLi4vZXh0ZW5zaW9ucy9zdGFyLXJhdGluZ3MtMi9yYXRpbmdzLnRzIiwgIi4uLy4uL2V4dGVuc2lvbnMvc3Rhci1yYXRpbmdzLTIvc2V0dGluZ3MudHMiLCAiLi4vLi4vc2hhcmVkL3NldHRpbmdzLnRzeCIsICIuLi8uLi9leHRlbnNpb25zL3N0YXItcmF0aW5ncy0yL3V0aWwudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB7IGFueVBhc3MgfSBmcm9tIFwiaHR0cHM6Ly9lc20uc2gvZnAtdHMtc3RkL1ByZWRpY2F0ZVwiXHJcbmltcG9ydCB7IHVwZGF0ZUNvbGxlY3Rpb25Db250cm9scywgdXBkYXRlTm93UGxheWluZ0NvbnRyb2xzLCB1cGRhdGVUcmFja0xpc3RDb250cm9scyB9IGZyb20gXCIuL2NvbnRyb2xzLnRzeFwiXHJcbmltcG9ydCB7IGxvYWRSYXRpbmdzLCB0cmFja3NSYXRpbmdzIH0gZnJvbSBcIi4vcmF0aW5ncy50c1wiXHJcbmltcG9ydCB7IENPTkZJRyB9IGZyb20gXCIuL3NldHRpbmdzLnRzXCJcclxuXHJcbmltcG9ydCBcIi4vYXNzZXRzL3N0eWxlcy5zY3NzXCJcclxuXHJcbmNvbnN0IHsgVVJJIH0gPSBTcGljZXRpZnlcclxuXHJcbmxvYWRSYXRpbmdzKClcclxuXHJcblNwaWNldGlmeS5QbGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcihcInNvbmdjaGFuZ2VcIiwgKCkgPT4ge1xyXG4gICAgY29uc3QgbnBUcmFjayA9IFNwaWNldGlmeS5QbGF5ZXIuZGF0YS50cmFjaz8udXJpIVxyXG4gICAgaWYgKFxyXG4gICAgICAgIE51bWJlcihDT05GSUcuc2tpcFRocmVzaG9sZCkgJiZcclxuICAgICAgICAodHJhY2tzUmF0aW5nc1tucFRyYWNrXSB8fCBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUikgPD0gTnVtYmVyKENPTkZJRy5za2lwVGhyZXNob2xkKVxyXG4gICAgKVxyXG4gICAgICAgIHJldHVybiB2b2lkIFNwaWNldGlmeS5QbGF5ZXIubmV4dCgpXHJcblxyXG4gICAgdXBkYXRlTm93UGxheWluZ0NvbnRyb2xzKG5wVHJhY2spXHJcbn0pXHJcbnVwZGF0ZU5vd1BsYXlpbmdDb250cm9scyhTcGljZXRpZnkuUGxheWVyLmRhdGEudHJhY2s/LnVyaSEpXHJcblxyXG5sZXQgbWFpbkVsZW1lbnQ6IEhUTUxFbGVtZW50XHJcbmNvbnN0IG1haW5FbGVtZW50T2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigoKSA9PiB1cGRhdGVUcmFja0xpc3RDb250cm9scygpKVxyXG5cclxubmV3IE11dGF0aW9uT2JzZXJ2ZXIoKCkgPT4ge1xyXG4gICAgY29uc3QgbmV4dE1haW5FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MRWxlbWVudD4oXCJtYWluXCIpXHJcbiAgICBpZiAobmV4dE1haW5FbGVtZW50ICYmICFuZXh0TWFpbkVsZW1lbnQuaXNFcXVhbE5vZGUobWFpbkVsZW1lbnQpKSB7XHJcbiAgICAgICAgaWYgKG1haW5FbGVtZW50KSBtYWluRWxlbWVudE9ic2VydmVyLmRpc2Nvbm5lY3QoKVxyXG4gICAgICAgIG1haW5FbGVtZW50ID0gbmV4dE1haW5FbGVtZW50XHJcbiAgICAgICAgbWFpbkVsZW1lbnRPYnNlcnZlci5vYnNlcnZlKG1haW5FbGVtZW50LCB7XHJcbiAgICAgICAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcclxuICAgICAgICAgICAgc3VidHJlZTogdHJ1ZSxcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59KS5vYnNlcnZlKGRvY3VtZW50LmJvZHksIHtcclxuICAgIGNoaWxkTGlzdDogdHJ1ZSxcclxuICAgIHN1YnRyZWU6IHRydWUsXHJcbn0pXHJcblxyXG5TcGljZXRpZnkuUGxhdGZvcm0uSGlzdG9yeS5saXN0ZW4oYXN5bmMgKHsgcGF0aG5hbWUgfTogeyBwYXRobmFtZTogc3RyaW5nIH0pID0+IHtcclxuICAgIGNvbnN0IHBhZ2VIYXNIZWFydCA9IGFueVBhc3MoW1VSSS5pc0FsYnVtLCBVUkkuaXNBcnRpc3QsIFVSSS5pc1BsYXlsaXN0VjFPclYyXSlcclxuICAgIGlmICghcGFnZUhhc0hlYXJ0KHBhdGhuYW1lKSkgcmV0dXJuXHJcblxyXG4gICAgdXBkYXRlQ29sbGVjdGlvbkNvbnRyb2xzKFVSSS5mcm9tU3RyaW5nKHBhdGhuYW1lKSlcclxufSlcclxuIiwgImltcG9ydCB7IGFycmF5IGFzIGFyLCBmdW5jdGlvbiBhcyBmIH0gZnJvbSBcImh0dHBzOi8vZXNtLnNoL2ZwLXRzXCJcblxuaW1wb3J0IHsgZmV0Y2hHUUxBbGJ1bSwgZmV0Y2hQbGF0QXJ0aXN0TGlrZWRUcmFja3MsIGZldGNoUGxhdFBsYXlsaXN0Q29udGVudHMgfSBmcm9tIFwiLi4vLi4vc2hhcmVkL2FwaS50c1wiXG5pbXBvcnQgeyBTcG90aWZ5VVJJIH0gZnJvbSBcIi4uLy4uL3NoYXJlZC91dGlsLnRzXCJcbmltcG9ydCB7IERyb3Bkb3duIH0gZnJvbSBcIi4vZHJvcGRvd24udHN4XCJcbmltcG9ydCB7IHRyYWNrc1JhdGluZ3MgfSBmcm9tIFwiLi9yYXRpbmdzLnRzXCJcbmltcG9ydCB7XG4gICAgZ2V0Q29sbGVjdGlvblBsYXlsaXN0QnV0dG9uLFxuICAgIGdldE5vd1BsYXlpbmdCYXIsXG4gICAgZ2V0UGxheWxpc3RCdXR0b24sXG4gICAgZ2V0VHJhY2tMaXN0VHJhY2tVcmksXG4gICAgZ2V0VHJhY2tMaXN0VHJhY2tzLFxuICAgIGdldFRyYWNrTGlzdHMsXG59IGZyb20gXCIuL3V0aWwudHNcIlxuXG5jb25zdCB7IFVSSSB9ID0gU3BpY2V0aWZ5XG5jb25zdCB7IFJlYWN0LCBSZWFjdERPTSB9ID0gU3BpY2V0aWZ5XG5cbmNvbnN0IGNvbG9yQnlSYXRpbmcgPSBbXCJ1bnNldFwiLCBcIiNFRDU1NjRcIiwgXCIjRkZDRTU0XCIsIFwiQTBENTY4XCIsIFwiIzRGQzFFOFwiLCBcIiNBQzkyRUJcIl1cblxuY29uc3QgY29sb3JpemVQbGF5bGlzdEJ1dHRvbiA9IChidG46IEhUTUxCdXR0b25FbGVtZW50LCByYXRpbmc6IG51bWJlcikgPT4ge1xuICAgIGlmIChidG4uc3R5bGUuZmlsbCA9PT0gY29sb3JCeVJhdGluZ1tyYXRpbmddKSByZXR1cm5cblxuICAgIGJ0bi5zdHlsZS5vcGFjaXR5ID0gcmF0aW5nID4gMCA/IFwiMVwiIDogXCJ1bnNldFwiXG4gICAgY29uc3Qgc3ZnID0gYnRuLnF1ZXJ5U2VsZWN0b3I8U1ZHRWxlbWVudD4oXCJzdmdcIikhXG4gICAgc3ZnLnN0eWxlLmZpbGwgPSBjb2xvckJ5UmF0aW5nW3JhdGluZ11cbn1cblxubGV0IGxhc3REaXY6IEhUTUxEaXZFbGVtZW50XG5jb25zdCB3cmFwRHJvcGRvd25JbnNpZGVQbGF5bGlzdEJ1dHRvbiA9IChwYjogSFRNTEJ1dHRvbkVsZW1lbnQsIHVyaTogU3BvdGlmeVVSSSwgZm9yY2VkID0gZmFsc2UpID0+IHtcbiAgICBpZiAocGIuaGFzQXR0cmlidXRlKFwiZHJvcGRvd24tZW5hYmxlZFwiKSkge1xuICAgICAgICBpZiAoIWZvcmNlZCkgcmV0dXJuXG4gICAgfSBlbHNlIHBiLnNldEF0dHJpYnV0ZShcImRyb3Bkb3duLWVuYWJsZWRcIiwgXCJcIilcblxuICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbiAgICBpZiAoZm9yY2VkKSB7XG4gICAgICAgIGxhc3REaXYub3V0ZXJIVE1MID0gXCJcIlxuICAgICAgICBsYXN0RGl2ID0gZGl2XG4gICAgfVxuICAgIHBiLmFwcGVuZENoaWxkKGRpdilcbiAgICBSZWFjdERPTS5yZW5kZXIoPERyb3Bkb3duIHVyaT17dXJpfSAvPiwgZGl2KVxuICAgIFNwaWNldGlmeS5UaXBweShwYiwge1xuICAgICAgICBjb250ZW50OiBkaXYsXG4gICAgICAgIGludGVyYWN0aXZlOiB0cnVlLFxuICAgICAgICBhbmltYXRlRmlsbDogZmFsc2UsXG4gICAgICAgIC8vb2Zmc2V0OiBbMCwgN10sXG4gICAgICAgIHBsYWNlbWVudDogXCJsZWZ0XCIsXG4gICAgICAgIGFuaW1hdGlvbjogXCJmYWRlXCIsXG4gICAgICAgIC8vdHJpZ2dlcjogXCJtb3VzZWVudGVyIGZvY3VzXCIsXG4gICAgICAgIHpJbmRleDogMTAwMDAsXG4gICAgICAgIGRlbGF5OiBbMjAwLCAwXSxcbiAgICAgICAgcmVuZGVyKGluc3RhbmNlOiBhbnkpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbiAgICAgICAgICAgIGNvbnN0IGJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcblxuICAgICAgICAgICAgcG9wcGVyLmlkID0gXCJjb250ZXh0LW1lbnVcIlxuICAgICAgICAgICAgcG9wcGVyLmFwcGVuZENoaWxkKGJveClcblxuICAgICAgICAgICAgYm94LmNsYXNzTmFtZSA9IFwibWFpbi1jb250ZXh0TWVudS10aXBweVwiXG4gICAgICAgICAgICBib3guYXBwZW5kQ2hpbGQoaW5zdGFuY2UucHJvcHMuY29udGVudClcblxuICAgICAgICAgICAgcmV0dXJuIHsgcG9wcGVyLCBvblVwZGF0ZTogZi5jb25zdFZvaWQgfVxuICAgICAgICB9LFxuICAgICAgICBvblNob3coaW5zdGFuY2U6IGFueSkge1xuICAgICAgICAgICAgaW5zdGFuY2UucG9wcGVyLmZpcnN0Q2hpbGQuY2xhc3NMaXN0LmFkZChcIm1haW4tY29udGV4dE1lbnUtdGlwcHlFbnRlclwiKVxuXG4gICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IChpbnN0YW5jZS5yZWZlcmVuY2UucGFyZW50RWxlbWVudCBhcyBIVE1MRGl2RWxlbWVudCkuY2hpbGRyZW5cbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBjaGlsZHJlbi5pdGVtKGNoaWxkcmVuLmxlbmd0aCAtIDEpIGFzIEhUTUxCdXR0b25FbGVtZW50XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLm1hcmdpblJpZ2h0ID0gXCIwcHhcIlxuICAgICAgICB9LFxuICAgICAgICBvbk1vdW50KGluc3RhbmNlOiBhbnkpIHtcbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaW5zdGFuY2UucG9wcGVyLmZpcnN0Q2hpbGQuY2xhc3NMaXN0LnJlbW92ZShcIm1haW4tY29udGV4dE1lbnUtdGlwcHlFbnRlclwiKVxuICAgICAgICAgICAgICAgIGluc3RhbmNlLnBvcHBlci5maXJzdENoaWxkLmNsYXNzTGlzdC5hZGQoXCJtYWluLWNvbnRleHRNZW51LXRpcHB5RW50ZXJBY3RpdmVcIilcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIG9uSGlkZShpbnN0YW5jZTogYW55KSB7XG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGluc3RhbmNlLnBvcHBlci5maXJzdENoaWxkLmNsYXNzTGlzdC5yZW1vdmUoXCJtYWluLWNvbnRleHRNZW51LXRpcHB5RW50ZXJBY3RpdmVcIilcblxuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gKGluc3RhbmNlLnJlZmVyZW5jZS5wYXJlbnRFbGVtZW50IGFzIEhUTUxEaXZFbGVtZW50KS5jaGlsZHJlblxuICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBjaGlsZHJlbi5pdGVtKGNoaWxkcmVuLmxlbmd0aCAtIDIpIGFzIEhUTUxCdXR0b25FbGVtZW50XG4gICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5tYXJnaW5SaWdodCA9IFwidW5zZXRcIlxuXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UudW5tb3VudCgpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgIH0pXG59XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVOb3dQbGF5aW5nQ29udHJvbHMgPSAobmV3VHJhY2s6IFNwb3RpZnlVUkksIHVwZGF0ZURyb3Bkb3duID0gdHJ1ZSkgPT4ge1xuICAgIGNvbnN0IG5wYiA9IGdldE5vd1BsYXlpbmdCYXIoKVxuICAgIGNvbnN0IHBiID0gZ2V0UGxheWxpc3RCdXR0b24obnBiKVxuICAgIGNvbG9yaXplUGxheWxpc3RCdXR0b24ocGIsIHRyYWNrc1JhdGluZ3NbbmV3VHJhY2tdKVxuICAgIGlmICh1cGRhdGVEcm9wZG93bikgd3JhcERyb3Bkb3duSW5zaWRlUGxheWxpc3RCdXR0b24ocGIsIG5ld1RyYWNrLCB0cnVlKVxufVxuXG5leHBvcnQgY29uc3QgdXBkYXRlVHJhY2tMaXN0Q29udHJvbHMgPSAodXBkYXRlRHJvcGRvd24gPSB0cnVlKSA9PiB7XG4gICAgY29uc3QgdHJhY2tMaXN0cyA9IGdldFRyYWNrTGlzdHMoKVxuICAgIGYucGlwZShcbiAgICAgICAgdHJhY2tMaXN0cyxcbiAgICAgICAgYXIubWFwKHRyYWNrTGlzdCA9PiB7XG4gICAgICAgICAgICBjb25zdCB0cmFja0xpc3RUcmFja3MgPSBnZXRUcmFja0xpc3RUcmFja3ModHJhY2tMaXN0KVxuXG4gICAgICAgICAgICB0cmFja0xpc3RUcmFja3MubWFwKHRyYWNrID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB1cmkgPSBVUkkuZnJvbVN0cmluZyhnZXRUcmFja0xpc3RUcmFja1VyaSh0cmFjaykpLnRvVVJJKClcblxuICAgICAgICAgICAgICAgIC8vVE9ETzogTG9jYWwgVHJhY2tzIHN1cHBvcnRcbiAgICAgICAgICAgICAgICBpZiAoIVVSSS5pc1RyYWNrKHVyaSEpKSByZXR1cm5cblxuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSB0cmFja3NSYXRpbmdzW3VyaV1cbiAgICAgICAgICAgICAgICBjb25zdCBwYiA9IGdldFBsYXlsaXN0QnV0dG9uKHRyYWNrKVxuXG4gICAgICAgICAgICAgICAgY29sb3JpemVQbGF5bGlzdEJ1dHRvbihwYiwgcilcbiAgICAgICAgICAgICAgICBpZiAodXBkYXRlRHJvcGRvd24pIHdyYXBEcm9wZG93bkluc2lkZVBsYXlsaXN0QnV0dG9uKHBiLCB1cmkpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KSxcbiAgICApXG59XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVDb2xsZWN0aW9uQ29udHJvbHMgPSBhc3luYyAodXJpOiBTcGljZXRpZnkuVVJJKSA9PiB7XG4gICAgbGV0IHVyaXNcbiAgICBpZiAoVVJJLmlzQWxidW0odXJpKSlcbiAgICAgICAgdXJpcyA9IGYucGlwZShcbiAgICAgICAgICAgIGF3YWl0IGZldGNoR1FMQWxidW0oYCR7dXJpfWApLFxuICAgICAgICAgICAgeCA9PiB4LnRyYWNrcy5pdGVtcyxcbiAgICAgICAgICAgIGFyLm1hcCh4ID0+IHgudHJhY2sudXJpKSxcbiAgICAgICAgKVxuICAgIGVsc2UgaWYgKFVSSS5pc0FydGlzdCh1cmkpKVxuICAgICAgICB1cmlzID0gZi5waXBlKFxuICAgICAgICAgICAgYXdhaXQgZmV0Y2hQbGF0QXJ0aXN0TGlrZWRUcmFja3MoYCR7dXJpfWApLFxuICAgICAgICAgICAgYXIubWFwKHggPT4geC51cmkpLFxuICAgICAgICApXG4gICAgZWxzZSBpZiAoVVJJLmlzUGxheWxpc3RWMU9yVjIodXJpKSlcbiAgICAgICAgdXJpcyA9IGYucGlwZShcbiAgICAgICAgICAgIGF3YWl0IGZldGNoUGxhdFBsYXlsaXN0Q29udGVudHMoYCR7dXJpfWApLFxuICAgICAgICAgICAgYXIubWFwKHggPT4geC51cmkpLFxuICAgICAgICApXG4gICAgZWxzZSB0aHJvdyBcIm1lIG91dCB0aGUgd2luZG93XCJcblxuICAgIGNvbnN0IHJhdGluZ3MgPSB1cmlzLm1hcCh1cmkgPT4gdHJhY2tzUmF0aW5nc1t1cmldKS5maWx0ZXIoQm9vbGVhbilcbiAgICBjb25zdCByYXRpbmcgPSBNYXRoLnJvdW5kKHJhdGluZ3MucmVkdWNlKChhY2MsIHIpID0+IGFjYyArIHIpIC8gcmF0aW5ncy5sZW5ndGgpXG5cbiAgICBjb25zdCBwYiA9IGdldENvbGxlY3Rpb25QbGF5bGlzdEJ1dHRvbigpXG4gICAgY29sb3JpemVQbGF5bGlzdEJ1dHRvbihwYiwgcmF0aW5nKVxufVxuIiwgImltcG9ydCB7XHJcbiAgICBhcnJheSBhcyBhcixcclxuICAgIGVxLFxyXG4gICAgc3RyaW5nIGFzIHN0cixcclxuICAgIHJlY29yZCBhcyByZWMsXHJcbiAgICByZWZpbmVtZW50IGFzIHJlZixcclxuICAgIHNlbWlncm91cCBhcyBzZyxcclxuICAgIGZ1bmN0aW9uIGFzIGYsXHJcbn0gZnJvbSBcImh0dHBzOi8vZXNtLnNoL2ZwLXRzXCJcclxuaW1wb3J0IHsgZ3VhcmQsIG1lbW9pemUgfSBmcm9tIFwiaHR0cHM6Ly9lc20uc2gvZnAtdHMtc3RkL0Z1bmN0aW9uXCJcclxuXHJcbnR5cGUgcmVmaW5lQnJhbmNoPEEsIEIgZXh0ZW5kcyBBLCBSPiA9IFtyZWYuUmVmaW5lbWVudDxBLCBCPiwgKHg6IEIpID0+IFJdXHJcbmV4cG9ydCBjb25zdCBndWFyZDIgPSA8QSwgQTEgZXh0ZW5kcyBBLCBBMiBleHRlbmRzIEEsIFI+KGJyYW5jaGVzOiBbcmVmaW5lQnJhbmNoPEEsIEExLCBSPiwgcmVmaW5lQnJhbmNoPEEsIEEyLCBSPl0pID0+XHJcbiAgICBndWFyZChicmFuY2hlcyBhcyB1bmtub3duIGFzIFtyZWZpbmVCcmFuY2g8QSwgQSwgUj4sIHJlZmluZUJyYW5jaDxBLCBBLCBSPl0pXHJcbmV4cG9ydCBjb25zdCBndWFyZDMgPSA8QSwgQTEgZXh0ZW5kcyBBLCBBMiBleHRlbmRzIEEsIEEzIGV4dGVuZHMgQSwgUj4oXHJcbiAgICBicmFuY2hlczogW3JlZmluZUJyYW5jaDxBLCBBMSwgUj4sIHJlZmluZUJyYW5jaDxBLCBBMiwgUj4sIHJlZmluZUJyYW5jaDxBLCBBMywgUj5dLFxyXG4pID0+IGd1YXJkKGJyYW5jaGVzIGFzIHVua25vd24gYXMgW3JlZmluZUJyYW5jaDxBLCBBLCBSPiwgcmVmaW5lQnJhbmNoPEEsIEEsIFI+LCByZWZpbmVCcmFuY2g8QSwgQSwgUj5dKVxyXG5leHBvcnQgY29uc3QgZ3VhcmQ0ID0gPEEsIEExIGV4dGVuZHMgQSwgQTIgZXh0ZW5kcyBBLCBBMyBleHRlbmRzIEEsIEE0IGV4dGVuZHMgQSwgUj4oXHJcbiAgICBicmFuY2hlczogW3JlZmluZUJyYW5jaDxBLCBBMSwgUj4sIHJlZmluZUJyYW5jaDxBLCBBMiwgUj4sIHJlZmluZUJyYW5jaDxBLCBBMywgUj4sIHJlZmluZUJyYW5jaDxBLCBBNCwgUj5dLFxyXG4pID0+XHJcbiAgICBndWFyZChcclxuICAgICAgICBicmFuY2hlcyBhcyB1bmtub3duIGFzIFtcclxuICAgICAgICAgICAgcmVmaW5lQnJhbmNoPEEsIEEsIFI+LFxyXG4gICAgICAgICAgICByZWZpbmVCcmFuY2g8QSwgQSwgUj4sXHJcbiAgICAgICAgICAgIHJlZmluZUJyYW5jaDxBLCBBLCBSPixcclxuICAgICAgICAgICAgcmVmaW5lQnJhbmNoPEEsIEEsIFI+LFxyXG4gICAgICAgIF0sXHJcbiAgICApXHJcbmV4cG9ydCBjb25zdCBndWFyZDUgPSA8QSwgQTEgZXh0ZW5kcyBBLCBBMiBleHRlbmRzIEEsIEEzIGV4dGVuZHMgQSwgQTQgZXh0ZW5kcyBBLCBBNSBleHRlbmRzIEEsIFI+KFxyXG4gICAgYnJhbmNoZXM6IFtcclxuICAgICAgICByZWZpbmVCcmFuY2g8QSwgQTEsIFI+LFxyXG4gICAgICAgIHJlZmluZUJyYW5jaDxBLCBBMiwgUj4sXHJcbiAgICAgICAgcmVmaW5lQnJhbmNoPEEsIEEzLCBSPixcclxuICAgICAgICByZWZpbmVCcmFuY2g8QSwgQTQsIFI+LFxyXG4gICAgICAgIHJlZmluZUJyYW5jaDxBLCBBNSwgUj4sXHJcbiAgICBdLFxyXG4pID0+XHJcbiAgICBndWFyZChcclxuICAgICAgICBicmFuY2hlcyBhcyB1bmtub3duIGFzIFtcclxuICAgICAgICAgICAgcmVmaW5lQnJhbmNoPEEsIEEsIFI+LFxyXG4gICAgICAgICAgICByZWZpbmVCcmFuY2g8QSwgQSwgUj4sXHJcbiAgICAgICAgICAgIHJlZmluZUJyYW5jaDxBLCBBLCBSPixcclxuICAgICAgICAgICAgcmVmaW5lQnJhbmNoPEEsIEEsIFI+LFxyXG4gICAgICAgICAgICByZWZpbmVCcmFuY2g8QSwgQSwgUj4sXHJcbiAgICAgICAgXSxcclxuICAgIClcclxuXHJcbmV4cG9ydCBjb25zdCBvYmpDb25jYXQyID0gPEExLCBBMj4oKSA9PiByZWMuZ2V0VW5pb25TZW1pZ3JvdXAoc2cuZmlyc3Q8YW55PigpKS5jb25jYXQgYXMgKHg6IEExLCB5OiBBMikgPT4gQTEgJiBBMlxyXG5leHBvcnQgY29uc3Qgb2JqQ29uY2F0ID0gPEE+KCkgPT4gYXIucmVkdWNlKHt9IGFzIEEsIG9iakNvbmNhdDI8QSwgQT4oKSlcclxuXHJcbnR5cGUgYXN5bmMgPSB7XHJcbiAgICA8QSwgQj4oZjogKGE6IEEpID0+IFByb21pc2U8Qj4pOiAoZmE6IFByb21pc2U8QT4pID0+IFByb21pc2U8Qj5cclxuICAgIDxBLCBCPihmOiAoYTogQSkgPT4gQik6IChmYTogUHJvbWlzZTxBPikgPT4gUHJvbWlzZTxCPlxyXG59XHJcbmV4cG9ydCBjb25zdCBwTWNoYWluOiBhc3luYyA9XHJcbiAgICA8QSwgUj4oZjogKGE6IEEpID0+IFIpID0+XHJcbiAgICBhc3luYyAoZmE6IEEpID0+XHJcbiAgICAgICAgZihhd2FpdCBmYSlcclxuXHJcbmV4cG9ydCBjb25zdCBpcyA9XHJcbiAgICA8QT4oYzoga2V5b2YgQSkgPT5cclxuICAgIDxCIGV4dGVuZHMgQT4oYTogQVt0eXBlb2YgY10pID0+XHJcbiAgICAoZmllbGQ6IEEpOiBmaWVsZCBpcyBCID0+XHJcbiAgICAgICAgZmllbGRbY10gPT09IGFcclxuXHJcbmV4cG9ydCBjb25zdCB0YXBBbnkgPVxyXG4gICAgPEE+KGY6IChhOiBBKSA9PiB2b2lkKSA9PlxyXG4gICAgKGZhOiBBKSA9PiB7XHJcbiAgICAgICAgZihmYSlcclxuICAgICAgICByZXR1cm4gZmFcclxuICAgIH1cclxuXHJcbmV4cG9ydCBjb25zdCBjaHVuY2tpZnkgPVxyXG4gICAgKG46IG51bWJlcikgPT5cclxuICAgIDxBLCBSPihnOiAoYTogQVtdKSA9PiBQcm9taXNlPFJbXT4pID0+XHJcbiAgICAgICAgZi5mbG93KGFyLmNodW5rc09mKG4pPEE+LCBhci5tYXAoZyksIHBzID0+IFByb21pc2UuYWxsKHBzKSwgcE1jaGFpbihhci5mbGF0dGVuKSlcclxuXHJcbmV4cG9ydCBjb25zdCB3aXRoUHJvZ3Jlc3MgPVxyXG4gICAgPEYgZXh0ZW5kcyAoZjogKC4uLmE6IGFueSkgPT4gYW55KSA9PiAoZmE6IGFueSkgPT4gYW55PihtYXA6IEYpID0+XHJcbiAgICAoZjogUGFyYW1ldGVyczxGPlswXSkgPT5cclxuICAgIChmYTogUGFyYW1ldGVyczxSZXR1cm5UeXBlPEY+PlswXSk6IFJldHVyblR5cGU8UmV0dXJuVHlwZTxGPj4gPT4ge1xyXG4gICAgICAgIGxldCBpID0gMFxyXG4gICAgICAgIHJldHVybiBtYXAoYXN5bmMgKC4uLmE6IFBhcmFtZXRlcnM8UGFyYW1ldGVyczxGPlswXT4pID0+IHtcclxuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogRnVjayBtZVxyXG4gICAgICAgICAgICBjb25zdCByZXQgPSBhd2FpdCBmKC4uLmEpXHJcbiAgICAgICAgICAgIGNvbnN0IHByb2dyZXNzID0gTWF0aC5yb3VuZCgoaSsrIC8gT2JqZWN0LnZhbHVlcyhmYSkubGVuZ3RoKSAqIDEwMClcclxuICAgICAgICAgICAgU3BpY2V0aWZ5LnNob3dOb3RpZmljYXRpb24oYExvYWRpbmc6ICR7cHJvZ3Jlc3N9JWAsIGZhbHNlLCAyMDApXHJcbiAgICAgICAgICAgIHJldHVybiByZXRcclxuICAgICAgICB9KShmYSlcclxuICAgIH1cclxuXHJcbmV4cG9ydCBjb25zdCBtZW1vaXplMiA9IDxBIGV4dGVuZHMgYW55W10sIFI+KGZuOiAoLi4uYXJnczogQSkgPT4gUikgPT5cclxuICAgIGYucGlwZShmbiwgZi50dXBsZWQsIG1lbW9pemU8QT4oZXEuY29udHJhbWFwKEpTT04uc3RyaW5naWZ5KShzdHIuRXEpKSwgZi51bnR1cGxlZClcclxuIiwgIi8vIGV4cG9ydCBpbnRlcmZhY2UgU3BvdGlmeUlEXHJcbi8vICAgICBleHRlbmRzIE5ld3R5cGU8eyByZWFkb25seSBTcG90aWZ5SUQ6IHVuaXF1ZSBzeW1ib2wgfSwgc3RyaW5nPiB7fVxyXG4vLyBleHBvcnQgaW50ZXJmYWNlIFNwb3RpZnlVUklcclxuLy8gICAgIGV4dGVuZHMgTmV3dHlwZTx7IHJlYWRvbmx5IFNwb3RpZnlVUkk6IHVuaXF1ZSBzeW1ib2wgfSwgc3RyaW5nPiB7fVxyXG5cclxuaW1wb3J0IHsgYXJyYXkgYXMgYSwgZnVuY3Rpb24gYXMgZiB9IGZyb20gXCJodHRwczovL2VzbS5zaC9mcC10c1wiXHJcblxyXG5leHBvcnQgdHlwZSBTcG90aWZ5SUQgPSBzdHJpbmdcclxuZXhwb3J0IHR5cGUgU3BvdGlmeVVSSSA9IHN0cmluZ1xyXG5cclxuZXhwb3J0IHR5cGUgU3BvdGlmeUxvY09iaiA9IHtcclxuICAgIGJlZm9yZT86IFwic3RhcnRcIiB8IHsgdXJpOiBTcG90aWZ5VVJJIH0gfCB7IHVpZDogc3RyaW5nIH1cclxuICAgIGFmdGVyPzogXCJlbmRcIiB8IHsgdXJpOiBTcG90aWZ5VVJJIH0gfCB7IHVpZDogc3RyaW5nIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IFNwb3RpZnlMb2MgPSB7XHJcbiAgICBiZWZvcmU6IHtcclxuICAgICAgICBzdGFydDogZi5jb25zdGFudCh7IGJlZm9yZTogXCJzdGFydFwiIH0gYXMgU3BvdGlmeUxvY09iaiksXHJcbiAgICAgICAgZnJvbVVyaTogKHVyaTogU3BvdGlmeVVSSSkgPT4gKHsgYmVmb3JlOiB7IHVyaSB9IH0pLFxyXG4gICAgICAgIGZyb21VaWQ6ICh1aWQ6IHN0cmluZykgPT4gKHsgYmVmb3JlOiB7IHVpZCB9IH0pLFxyXG4gICAgfSxcclxuICAgIGFmdGVyOiB7XHJcbiAgICAgICAgZW5kOiBmLmNvbnN0YW50KHsgYWZ0ZXI6IFwiZW5kXCIgfSBhcyBTcG90aWZ5TG9jT2JqKSxcclxuICAgICAgICBmcm9tVXJpOiAodXJpOiBTcG90aWZ5VVJJKSA9PiAoeyBhZnRlcjogeyB1cmkgfSB9KSxcclxuICAgICAgICBmcm9tVWlkOiAodWlkOiBzdHJpbmcpID0+ICh7IGFmdGVyOiB7IHVpZCB9IH0pLFxyXG4gICAgfSxcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGVzY2FwZVJlZ2V4ID0gKHN0cjogc3RyaW5nKSA9PiBzdHIucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xcXVxcXFxdL2csIGBcXFxcJCZgKVxyXG5cclxuZXhwb3J0IGNvbnN0IHRpdGxlQ2FzZSA9IChzdHI6IHN0cmluZykgPT4gc3RyLnJlcGxhY2UoL1xcYlxcdy9nLCBsID0+IGwudG9VcHBlckNhc2UoKSlcclxuXHJcbmV4cG9ydCBjb25zdCBub3JtYWxpemVTdHIgPSAoc3RyOiBzdHJpbmcpID0+XHJcbiAgICBzdHJcclxuICAgICAgICAubm9ybWFsaXplKFwiTkZLRFwiKVxyXG4gICAgICAgIC5yZXBsYWNlKC9cXCguKlxcKS9nLCBcIlwiKVxyXG4gICAgICAgIC5yZXBsYWNlKC9cXFsuKlxcXS9nLCBcIlwiKVxyXG4gICAgICAgIC5yZXBsYWNlKC8tXywvZywgXCIgXCIpXHJcbiAgICAgICAgLnJlcGxhY2UoL1teYS16QS1aMC05IF0vZywgXCJcIilcclxuICAgICAgICAucmVwbGFjZSgvXFxzKy9nLCBcIiBcIilcclxuICAgICAgICAudG9Mb3dlckNhc2UoKVxyXG4gICAgICAgIC50cmltKClcclxuXHJcbi8vISBEb2VzIGxvY2F0aW9uIGFjdHVhbGx5IHBvaW50IHRvIGRvY3VtZW50LmJvZHk/XHJcbmV4cG9ydCBjb25zdCB3YWl0Rm9yRWxlbWVudCA9IDxFIGV4dGVuZHMgRWxlbWVudD4oXHJcbiAgICBzZWxlY3Rvcjogc3RyaW5nLFxyXG4gICAgdGltZW91dCA9IDEwMDAsXHJcbiAgICBsb2NhdGlvbiA9IGRvY3VtZW50LmJvZHksXHJcbiAgICBub3RFbD86IEUsXHJcbikgPT5cclxuICAgIG5ldyBQcm9taXNlKChyZXNvbHZlOiAodmFsdWU6IEVsZW1lbnQgfCBudWxsKSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgY29uc3QgcmVzID0gKHY6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KClcclxuICAgICAgICAgICAgcmVzb2x2ZSh2KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxFPihzZWxlY3RvcilcclxuICAgICAgICAgICAgaWYgKGVsICYmICghbm90RWwgfHwgZWwgIT09IG5vdEVsKSkgcmV0dXJuIHJlcyhlbClcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGxvY2F0aW9uLCB7XHJcbiAgICAgICAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcclxuICAgICAgICAgICAgc3VidHJlZTogdHJ1ZSxcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBpZiAodGltZW91dCkgc2V0VGltZW91dCgoKSA9PiByZXMobnVsbCksIHRpbWVvdXQpXHJcbiAgICB9KVxyXG5cclxuZXhwb3J0IGNvbnN0IHRyYXBFbGVtZW50ID0gPEUgZXh0ZW5kcyBFbGVtZW50PihcclxuICAgIHNlbGVjdG9yOiBzdHJpbmcsXHJcbiAgICBjYWxsYmFjazogKGVsOiBFIHwgbnVsbCwgbGFzdEVsOiBFIHwgbnVsbCkgPT4gdm9pZCxcclxuICAgIGxvY2F0aW9uID0gZG9jdW1lbnQuYm9keSxcclxuKSA9PiB7XHJcbiAgICBsZXQgbGFzdEVsOiBFIHwgbnVsbCA9IG51bGxcclxuXHJcbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKCgpID0+IHtcclxuICAgICAgICBjb25zdCBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8RT4oc2VsZWN0b3IpXHJcbiAgICAgICAgaWYgKGVsICE9PSBsYXN0RWwpIGNhbGxiYWNrKGVsLCBsYXN0RWwpXHJcbiAgICAgICAgbGFzdEVsID0gZWxcclxuICAgIH0pXHJcblxyXG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZShsb2NhdGlvbiwge1xyXG4gICAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcclxuICAgICAgICBzdWJ0cmVlOiB0cnVlLFxyXG4gICAgfSlcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHNsZWVwID0gKG1zOiBudW1iZXIpID0+IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpXHJcblxyXG5leHBvcnQgY29uc3QgZ2V0UmVhY3RQcm9wcyA9IChlbGVtZW50OiBFbGVtZW50KSA9PlxyXG4gICAgZWxlbWVudFtPYmplY3Qua2V5cyhlbGVtZW50KS5maW5kKGsgPT4gay5zdGFydHNXaXRoKFwiX19yZWFjdFByb3BzJFwiKSkgYXMga2V5b2YgdHlwZW9mIGVsZW1lbnRdXHJcblxyXG5leHBvcnQgY29uc3QgaXNMaWtlZCA9ICh1cmlzOiBTcG90aWZ5VVJJW10pID0+IFNwaWNldGlmeS5QbGF0Zm9ybS5MaWJyYXJ5QVBJLmNvbnRhaW5zKC4uLnVyaXMpIGFzIFByb21pc2U8Ym9vbGVhbltdPlxyXG5cclxuZXhwb3J0IGNvbnN0IHNldExpa2VkID0gKHVyaXM6IFNwb3RpZnlVUklbXSwgbGlrZWQ6IGJvb2xlYW4pID0+XHJcbiAgICBTcGljZXRpZnkuUGxhdGZvcm0uTGlicmFyeUFQSVtsaWtlZCA/IFwiYWRkXCIgOiBcInJlbW92ZVwiXSguLi51cmlzKVxyXG5cclxuZXhwb3J0IGNvbnN0IHRvZ2dsZUxpa2VkID0gYXN5bmMgKHVyaXM6IFNwb3RpZnlVUklbXSkgPT4ge1xyXG4gICAgY29uc3QgbGlrZWQgPSBhd2FpdCBpc0xpa2VkKHVyaXMpXHJcblxyXG4gICAgcmV0dXJuIGF3YWl0IGYucGlwZShcclxuICAgICAgICB1cmlzLFxyXG4gICAgICAgIGEucmVkdWNlV2l0aEluZGV4KFxyXG4gICAgICAgICAgICBbW10gYXMgU3BvdGlmeVVSSVtdLCBbXSBhcyBTcG90aWZ5VVJJW11dIGFzIGNvbnN0LFxyXG4gICAgICAgICAgICAoaSwgYWNjLCB1cmkpID0+IChhY2NbTnVtYmVyKGxpa2VkW2ldKV0ucHVzaCh1cmkpLCBhY2MpLFxyXG4gICAgICAgICksXHJcbiAgICAgICAgKFt0b0FkZCwgdG9SZW1dKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBzID0gW11cclxuICAgICAgICAgICAgaWYgKHRvQWRkLmxlbmd0aCkgcHMucHVzaChzZXRMaWtlZCh0b0FkZCwgdHJ1ZSkpXHJcbiAgICAgICAgICAgIGlmICh0b1JlbS5sZW5ndGgpIHBzLnB1c2goc2V0TGlrZWQodG9SZW0sIGZhbHNlKSlcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHBzKVxyXG4gICAgICAgIH0sXHJcbiAgICApXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVRdWV1ZUl0ZW0gPSAocXVldWVkOiBib29sZWFuKSA9PiAodXJpOiBTcG90aWZ5VVJJKSA9PiAoe1xyXG4gICAgY29udGV4dFRyYWNrOiB7XHJcbiAgICAgICAgdXJpLFxyXG4gICAgICAgIHVpZDogXCJcIixcclxuICAgICAgICBtZXRhZGF0YToge1xyXG4gICAgICAgICAgICBpc19xdWV1ZWQ6IHF1ZXVlZC50b1N0cmluZygpLFxyXG4gICAgICAgIH0sXHJcbiAgICB9LFxyXG4gICAgcmVtb3ZlZDogW10sXHJcbiAgICBibG9ja2VkOiBbXSxcclxuICAgIHByb3ZpZGVyOiBxdWV1ZWQgPyBcInF1ZXVlXCIgOiBcImNvbnRleHRcIixcclxufSlcclxuXHJcbmV4cG9ydCBjb25zdCBzZXRRdWV1ZSA9IGFzeW5jIChuZXh0VHJhY2tzOiBBcnJheTxSZXR1cm5UeXBlPFJldHVyblR5cGU8dHlwZW9mIGNyZWF0ZVF1ZXVlSXRlbT4+PikgPT4ge1xyXG4gICAgY29uc3QgeyBfcXVldWUsIF9jbGllbnQgfSA9IFNwaWNldGlmeS5QbGF0Zm9ybS5QbGF5ZXJBUEkuX3F1ZXVlXHJcbiAgICBjb25zdCB7IHByZXZUcmFja3MsIHF1ZXVlUmV2aXNpb24gfSA9IF9xdWV1ZVxyXG5cclxuICAgIHJldHVybiBfY2xpZW50LnNldFF1ZXVlKHtcclxuICAgICAgICBuZXh0VHJhY2tzLFxyXG4gICAgICAgIHByZXZUcmFja3MsXHJcbiAgICAgICAgcXVldWVSZXZpc2lvbixcclxuICAgIH0pIGFzIFByb21pc2U8eyBlcnJvcjogbnVtYmVyOyByZWFzb25zOiBzdHJpbmcgfT5cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHNldFBsYXlpbmdDb250ZXh0ID0gKHVyaTogU3BvdGlmeVVSSSkgPT4ge1xyXG4gICAgY29uc3QgeyBzZXNzaW9uSWQgfSA9IFNwaWNldGlmeS5QbGF0Zm9ybS5QbGF5ZXJBUEkuZ2V0U3RhdGUoKVxyXG4gICAgcmV0dXJuIFNwaWNldGlmeS5QbGF0Zm9ybS5QbGF5ZXJBUEkudXBkYXRlQ29udGV4dChzZXNzaW9uSWQsIHsgdXJpLCB1cmw6IFwiY29udGV4dDovL1wiICsgdXJpIH0pIGFzIFByb21pc2U8dW5kZWZpbmVkPlxyXG59XHJcbiIsICJpbXBvcnQgeyBjaHVuY2tpZnksIG1lbW9pemUyIH0gZnJvbSBcIi4vZnAudHNcIlxyXG5pbXBvcnQgeyBTcG90aWZ5SUQsIFNwb3RpZnlMb2NPYmosIFNwb3RpZnlVUkksIGVzY2FwZVJlZ2V4IH0gZnJvbSBcIi4vdXRpbC50c1wiXHJcblxyXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgR3JhcGhRTCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xyXG5cclxuZXhwb3J0IGNvbnN0IGZldGNoR1FMQWxidW0gPSBhc3luYyAodXJpOiBTcG90aWZ5VVJJLCBvZmZzZXQgPSAwLCBsaW1pdCA9IDQ4NykgPT5cclxuICAgIChcclxuICAgICAgICBhd2FpdCBTcGljZXRpZnkuR3JhcGhRTC5SZXF1ZXN0KFNwaWNldGlmeS5HcmFwaFFMLkRlZmluaXRpb25zLmdldEFsYnVtLCB7XHJcbiAgICAgICAgICAgIHVyaSxcclxuICAgICAgICAgICAgbG9jYWxlOiBTcGljZXRpZnkuTG9jYWxlLmdldExvY2FsZSgpLFxyXG4gICAgICAgICAgICBvZmZzZXQsXHJcbiAgICAgICAgICAgIGxpbWl0LFxyXG4gICAgICAgIH0pXHJcbiAgICApLmRhdGEuYWxidW1VbmlvbiBhcyBmZXRjaEdRTEFsYnVtUmVzXHJcblxyXG50eXBlIGZldGNoQXJ0aXN0R1FMUmVzID0gYW55XHJcbmV4cG9ydCBjb25zdCBmZXRjaEdRTEFydGlzdE92ZXJ2aWV3ID0gYXN5bmMgKHVyaTogU3BvdGlmeVVSSSkgPT5cclxuICAgIChcclxuICAgICAgICBhd2FpdCBTcGljZXRpZnkuR3JhcGhRTC5SZXF1ZXN0KFNwaWNldGlmeS5HcmFwaFFMLkRlZmluaXRpb25zLnF1ZXJ5QXJ0aXN0T3ZlcnZpZXcsIHtcclxuICAgICAgICAgICAgdXJpLFxyXG4gICAgICAgICAgICBsb2NhbGU6IFNwaWNldGlmeS5Mb2NhbGUuZ2V0TG9jYWxlKCksXHJcbiAgICAgICAgICAgIGluY2x1ZGVQcmVyZWxlYXNlOiB0cnVlLFxyXG4gICAgICAgIH0pXHJcbiAgICApLmRhdGEuYXJ0aXN0VW5pb24gYXMgZmV0Y2hBcnRpc3RHUUxSZXNcclxuXHJcbnR5cGUgZmV0Y2hHUUxBcnRpc3REaXNjb2dyYXBoeVJlcyA9IGFueVxyXG5leHBvcnQgY29uc3QgZmV0Y2hHUUxBcnRpc3REaXNjb2dyYXBoeSA9IGFzeW5jICh1cmk6IFNwb3RpZnlVUkksIG9mZnNldCA9IDAsIGxpbWl0ID0gMTE2KSA9PlxyXG4gICAgKFxyXG4gICAgICAgIGF3YWl0IFNwaWNldGlmeS5HcmFwaFFMLlJlcXVlc3QoU3BpY2V0aWZ5LkdyYXBoUUwuRGVmaW5pdGlvbnMucXVlcnlBcnRpc3REaXNjb2dyYXBoeUFsbCwge1xyXG4gICAgICAgICAgICB1cmksXHJcbiAgICAgICAgICAgIG9mZnNldCxcclxuICAgICAgICAgICAgbGltaXQsXHJcbiAgICAgICAgfSlcclxuICAgICkuZGF0YS5hcnRpc3RVbmlvbi5kaXNjb2dyYXBoeS5hbGwuaXRlbXMgYXMgZmV0Y2hHUUxBcnRpc3REaXNjb2dyYXBoeVJlc1xyXG5cclxuZXhwb3J0IGNvbnN0IGZldGNoR1FMQXJ0aXN0UmVsYXRlZCA9IGFzeW5jICh1cmk6IFNwb3RpZnlVUkkpID0+XHJcbiAgICAoXHJcbiAgICAgICAgYXdhaXQgU3BpY2V0aWZ5LkdyYXBoUUwuUmVxdWVzdChTcGljZXRpZnkuR3JhcGhRTC5EZWZpbml0aW9ucy5xdWVyeUFydGlzdFJlbGF0ZWQsIHtcclxuICAgICAgICAgICAgdXJpLFxyXG4gICAgICAgICAgICBsb2NhbGU6IFNwaWNldGlmeS5Mb2NhbGUuZ2V0TG9jYWxlKCksXHJcbiAgICAgICAgfSlcclxuICAgICkuZGF0YS5hcnRpc3RVbmlvbi5yZWxhdGVkQ29udGVudC5yZWxhdGVkQXJ0aXN0cy5pdGVtcyBhcyBmZXRjaEdRTEFydGlzdFJlbGF0ZWRSZXNcclxuXHJcbi8qICAgICAgICAgICAgICAgICAgICAgICAgICBTcG90aWZ5IFdlYiBBUEkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXHJcblxyXG5leHBvcnQgY29uc3QgcmVtb3ZlV2ViUGxheWxpc3RUcmFja3MgPSBhc3luYyAocGxheWxpc3Q6IFNwb3RpZnlJRCwgdHJhY2tzOiBTcG90aWZ5VVJJW10pID0+XHJcbiAgICBTcGljZXRpZnkuQ29zbW9zQXN5bmMuZGVsKGBodHRwczovL2FwaS5zcG90aWZ5LmNvbS92MS9wbGF5bGlzdHMvJHtwbGF5bGlzdH0vdHJhY2tzYCwge1xyXG4gICAgICAgIHRyYWNrczogdHJhY2tzLm1hcCh1cmkgPT4gKHsgdXJpIH0pKSxcclxuICAgIH0pXHJcblxyXG5leHBvcnQgY29uc3QgZmV0Y2hXZWJBcnRpc3RzU3BvdCA9IGNodW5ja2lmeSg1MCkoXHJcbiAgICBhc3luYyAoaWRzOiBTcG90aWZ5SURbXSkgPT5cclxuICAgICAgICAoYXdhaXQgU3BpY2V0aWZ5LkNvc21vc0FzeW5jLmdldChgaHR0cHM6Ly9hcGkuc3BvdGlmeS5jb20vdjEvYXJ0aXN0cz9pZHM9JHtpZHMuam9pbihcIixcIil9YCkpXHJcbiAgICAgICAgICAgIC5hcnRpc3RzIGFzIFNwb3RBcGlBcnRpc3RbXSxcclxuKVxyXG5cclxuZXhwb3J0IGNvbnN0IGZldGNoV2ViUGxheWxpc3RzU3BvdCA9IGNodW5ja2lmeSgxKShcclxuICAgIC8vIEB0cy1pZ25vcmUgY2h1bmtpZnkgd2lsbCBuZXZlciBjYWxsIHdpdGggZW1wdHkgYXJyYXlcclxuICAgIGFzeW5jIChbaWRdOiBbU3BvdGlmeUlEXSkgPT4gW1xyXG4gICAgICAgIChhd2FpdCBTcGljZXRpZnkuQ29zbW9zQXN5bmMuZ2V0KGBodHRwczovL2FwaS5zcG90aWZ5LmNvbS92MS9wbGF5bGlzdHMvJHtpZH1gKSkgYXMgU3BvdEFwaVBsYXlsaXN0LFxyXG4gICAgXSxcclxuKVxyXG5leHBvcnQgY29uc3QgZmV0Y2hXZWJBbGJ1bXNTcG90ID0gY2h1bmNraWZ5KDUwKShcclxuICAgIGFzeW5jIChpZHM6IFNwb3RpZnlJRFtdKSA9PlxyXG4gICAgICAgIChhd2FpdCBTcGljZXRpZnkuQ29zbW9zQXN5bmMuZ2V0KGBodHRwczovL2FwaS5zcG90aWZ5LmNvbS92MS9hbGJ1bXM/aWRzPSR7aWRzLmpvaW4oXCIsXCIpfWApKVxyXG4gICAgICAgICAgICAuYWxidW1zIGFzIFNwb3RBcGlBbGJ1bVtdLFxyXG4pXHJcblxyXG5leHBvcnQgY29uc3QgZmV0Y2hXZWJUcmFja3NTcG90ID0gY2h1bmNraWZ5KDUwKShcclxuICAgIGFzeW5jIChpZHM6IFNwb3RpZnlJRFtdKSA9PlxyXG4gICAgICAgIChhd2FpdCBTcGljZXRpZnkuQ29zbW9zQXN5bmMuZ2V0KGBodHRwczovL2FwaS5zcG90aWZ5LmNvbS92MS90cmFja3M/aWRzPSR7aWRzLmpvaW4oXCIsXCIpfWApKVxyXG4gICAgICAgICAgICAudHJhY2tzIGFzIFNwb3RBcGlUcmFja1tdLFxyXG4pXHJcblxyXG5leHBvcnQgY29uc3Qgc2VhcmNoV2ViSXRlbVNwb3QgPSBhc3luYyAocTogc3RyaW5nLCB0eXBlOiBzdHJpbmdbXSkgPT5cclxuICAgIFNwaWNldGlmeS5Db3Ntb3NBc3luYy5nZXQoYGh0dHBzOi8vYXBpLnNwb3RpZnkuY29tL3YxL3NlYXJjaD9xPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHEpfSZ0eXBlPSR7dHlwZS5qb2luKFwiLFwiKX1gKVxyXG5cclxuZXhwb3J0IGNvbnN0IGZldGNoV2ViU291bmRPZlNwb3RpZnlQbGF5bGlzdCA9IGFzeW5jIChnZW5yZTogc3RyaW5nKSA9PiB7XHJcbiAgICBjb25zdCBuYW1lID0gYFRoZSBTb3VuZCBPZiAke2dlbnJlfWBcclxuICAgIGNvbnN0IHJlID0gbmV3IFJlZ0V4cChgXiR7ZXNjYXBlUmVnZXgobmFtZSl9JGAsIFwiaVwiKVxyXG4gICAgY29uc3QgcmVzID0gYXdhaXQgc2VhcmNoV2ViSXRlbVNwb3QobmFtZSwgW1wicGxheWxpc3RcIl0pXHJcbiAgICBjb25zdCBpdGVtID0gcmVzLnBsYXlsaXN0cy5pdGVtc1swXVxyXG4gICAgcmV0dXJuIGl0ZW0/Lm93bmVyLmlkID09PSBcInRoZXNvdW5kc29mc3BvdGlmeVwiICYmIHJlLnRlc3QoaXRlbS5uYW1lKSA/IGl0ZW0udXJpIDogbnVsbFxyXG59XHJcblxyXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgUGxhdGZvcm0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xyXG5cclxuZXhwb3J0IGNvbnN0IGZldGNoUGxhdExpa2VkVHJhY2tzID0gYXN5bmMgKCkgPT5cclxuICAgIChcclxuICAgICAgICBhd2FpdCBTcGljZXRpZnkuUGxhdGZvcm0uTGlicmFyeUFQSS5nZXRUcmFja3Moe1xyXG4gICAgICAgICAgICBsaW1pdDogTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsXHJcbiAgICAgICAgfSlcclxuICAgICkuaXRlbXMgYXMgZmV0Y2hQbGF0QXJ0aXN0TGlrZWRUcmFja3NSZXNcclxuZXhwb3J0IGNvbnN0IGZldGNoUGxhdEFydGlzdExpa2VkVHJhY2tzID0gYXN5bmMgKHVyaTogU3BvdGlmeVVSSSwgb2Zmc2V0ID0gMCwgbGltaXQgPSAxMDApID0+XHJcbiAgICAoYXdhaXQgU3BpY2V0aWZ5LlBsYXRmb3JtLkxpYnJhcnlBUEkuZ2V0VHJhY2tzKHsgdXJpLCBvZmZzZXQsIGxpbWl0IH0pKS5pdGVtcyBhcyBmZXRjaFBsYXRBcnRpc3RMaWtlZFRyYWNrc1Jlc1xyXG5cclxuZXhwb3J0IGNvbnN0IGZldGNoUGxhdFBsYXlsaXN0Q29udGVudHMgPSBhc3luYyAodXJpOiBTcG90aWZ5VVJJKSA9PlxyXG4gICAgKGF3YWl0IFNwaWNldGlmeS5QbGF0Zm9ybS5QbGF5bGlzdEFQSS5nZXRDb250ZW50cyh1cmkpKS5pdGVtcyBhcyBmZXRjaFdlYlBsYXlsaXN0UmVzXHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlUGxhdEZvbGRlciA9IGFzeW5jIChuYW1lOiBzdHJpbmcsIGxvY2F0aW9uOiBTcG90aWZ5TG9jT2JqID0ge30pID0+XHJcbiAgICBhd2FpdCBTcGljZXRpZnkuUGxhdGZvcm0uUm9vdGxpc3RBUEkuY3JlYXRlRm9sZGVyKG5hbWUsIGxvY2F0aW9uKVxyXG5cclxuZXhwb3J0IGNvbnN0IGxpa2VQbGF0UGxheWxpc3QgPSBhc3luYyAodXJpOiBTcG90aWZ5VVJJKSA9PiBhd2FpdCBTcGljZXRpZnkuUGxhdGZvcm0uUm9vdGxpc3RBUEkuYWRkKFt1cmldKVxyXG5cclxuLyogUmVwbGFjZWQgYnkgY3JlYXRlU1BQbGF5bGlzdEZyb21UcmFja3MgKi9cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVBsYXRQbGF5bGlzdCA9IGFzeW5jIChuYW1lOiBzdHJpbmcsIGxvY2F0aW9uOiBTcG90aWZ5TG9jT2JqID0ge30pID0+XHJcbiAgICBhd2FpdCBTcGljZXRpZnkuUGxhdGZvcm0uUm9vdGxpc3RBUEkuY3JlYXRlUGxheWxpc3QobmFtZSwgbG9jYXRpb24pXHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlU1BQbGF5bGlzdEZyb21UcmFja3MgPSAobmFtZTogc3RyaW5nLCB0cmFja3M6IFNwb3RpZnlVUklbXSwgZm9sZGVyPzogU3BvdGlmeVVSSSkgPT5cclxuICAgIFNwaWNldGlmeS5Db3Ntb3NBc3luYy5wb3N0KFwic3A6Ly9jb3JlLXBsYXlsaXN0L3YxL3Jvb3RsaXN0P3Jlc3BvbnNlRm9ybWF0PXByb3RvYnVmSnNvblwiLCB7XHJcbiAgICAgICAgb3BlcmF0aW9uOiBcImNyZWF0ZVwiLFxyXG4gICAgICAgIC4uLihmb2xkZXIgPyB7IGFmdGVyOiBmb2xkZXIgfSA6IHt9KSxcclxuICAgICAgICBuYW1lLFxyXG4gICAgICAgIHBsYXlsaXN0OiB0cnVlLFxyXG4gICAgICAgIHVyaXM6IHRyYWNrcyxcclxuICAgIH0pXHJcblxyXG5leHBvcnQgY29uc3Qgc2V0UGxhdFBsYXlsaXN0VmlzaWJpbGl0eSA9IGFzeW5jIChwbGF5bGlzdDogU3BvdGlmeVVSSSwgdmlzaWJsZUZvckFsbDogYm9vbGVhbikgPT5cclxuICAgIGF3YWl0IFNwaWNldGlmeS5QbGF0Zm9ybS5QbGF5bGlzdFBlcm1pc3Npb25zQVBJLnNldEJhc2VQZXJtaXNzaW9uKHBsYXlsaXN0LCB2aXNpYmxlRm9yQWxsID8gXCJWSUVXRVJcIiA6IFwiQkxPQ0tFRFwiKVxyXG5leHBvcnQgY29uc3Qgc2V0UGxhdFBsYXlsaXN0UHVibGlzaGVkID0gYXN5bmMgKHBsYXlsaXN0OiBTcG90aWZ5VVJJLCBwdWJsaXNoZWQ6IGJvb2xlYW4pID0+XHJcbiAgICBhd2FpdCBTcGljZXRpZnkuUGxhdGZvcm0uUm9vdGxpc3RBUEkuc2V0UHVibGlzaGVkU3RhdGUocGxheWxpc3QsIHB1Ymxpc2hlZClcclxuXHJcbmV4cG9ydCBjb25zdCBmZXRjaFBsYXRGb2xkZXIgPSBhc3luYyAoZm9sZGVyPzogU3BvdGlmeVVSSSkgPT5cclxuICAgIChhd2FpdCBTcGljZXRpZnkuUGxhdGZvcm0uUm9vdGxpc3RBUEkuZ2V0Q29udGVudHMoeyBmb2xkZXJVcmk6IGZvbGRlciB9KSkgYXMgZmV0Y2hQbGF0Rm9sZGVyUmVzXHJcbmV4cG9ydCBjb25zdCBmZXRjaFBsYXRSb290Rm9sZGVyID0gKCkgPT4gZmV0Y2hQbGF0Rm9sZGVyKHVuZGVmaW5lZClcclxuXHJcbmV4cG9ydCBjb25zdCBhZGRQbGF0UGxheWxpc3RUcmFja3MgPSBhc3luYyAocGxheWxpc3Q6IFNwb3RpZnlVUkksIHRyYWNrczogU3BvdGlmeVVSSVtdLCBsb2NhdGlvbjogU3BvdGlmeUxvY09iaiA9IHt9KSA9PlxyXG4gICAgYXdhaXQgU3BpY2V0aWZ5LlBsYXRmb3JtLlBsYXlsaXN0QVBJLmFkZChwbGF5bGlzdCwgdHJhY2tzLCBsb2NhdGlvbilcclxuXHJcbmV4cG9ydCBjb25zdCBtb3ZlUGxhdFBsYXlsaXN0VHJhY2tzID0gYXN5bmMgKFxyXG4gICAgcGxheWxpc3Q6IFNwb3RpZnlVUkksXHJcbiAgICB0cmFja3M6IEFycmF5PHsgdWlkOiBzdHJpbmcgfT4sXHJcbiAgICBsb2NhdGlvbjogU3BvdGlmeUxvY09iaiA9IHt9LFxyXG4pID0+IGF3YWl0IFNwaWNldGlmeS5QbGF0Zm9ybS5QbGF5bGlzdEFQSS5tb3ZlKHBsYXlsaXN0LCB0cmFja3MsIGxvY2F0aW9uKVxyXG5cclxuZXhwb3J0IGNvbnN0IGZldGNoUGxhdFBsYXlsaXN0RW5oYW5jZWRTb25nczMwMCA9IGFzeW5jICh1cmk6IFNwb3RpZnlVUkksIG9mZnNldCA9IDAsIGxpbWl0ID0gMzAwKSA9PlxyXG4gICAgKGF3YWl0IFNwaWNldGlmeS5QbGF0Zm9ybS5FbmhhbmNlQVBJLmdldFBhZ2UodXJpLCAvKiBpdGVyYXRpb24gKi8gMCwgLyogc2Vzc2lvbklkICovIDAsIG9mZnNldCwgbGltaXQpKS5lbmhhbmNlUGFnZVxyXG4gICAgICAgIC5wYWdlSXRlbXMgYXMgYW55W11cclxuZXhwb3J0IGNvbnN0IGZldGNoUGxhdFBsYXlsaXN0RW5oYW5jZWRTb25ncyA9IGFzeW5jICh1cmk6IFNwb3RpZnlVUkksIG9mZnNldCA9IDApOiBQcm9taXNlPGFueVtdPiA9PiB7XHJcbiAgICBjb25zdCBuZXh0UGFnZUl0ZW1zID0gYXdhaXQgZmV0Y2hQbGF0UGxheWxpc3RFbmhhbmNlZFNvbmdzMzAwKHVyaSwgb2Zmc2V0KVxyXG4gICAgaWYgKG5leHRQYWdlSXRlbXM/Lmxlbmd0aCA8IDMwMCkgcmV0dXJuIG5leHRQYWdlSXRlbXNcclxuICAgIGVsc2UgcmV0dXJuIG5leHRQYWdlSXRlbXMuY29uY2F0KGZldGNoUGxhdFBsYXlsaXN0RW5oYW5jZWRTb25ncyh1cmksIG9mZnNldCArIDMwMCkpXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBmZXRjaExvY2FsVHJhY2tzID0gYXN5bmMgKCkgPT4gYXdhaXQgU3BpY2V0aWZ5LlBsYXRmb3JtLkxvY2FsRmlsZXNBUEkuZ2V0VHJhY2tzKClcclxuXHJcbi8qICAgICAgICAgICAgICAgICAgICAgICAgICBOb24gU3BvdGlmeSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXHJcblxyXG5leHBvcnQgY29uc3QgZmV0Y2hUcmFja0xGTUFQSSA9IGFzeW5jIChMRk1BcGlLZXk6IHN0cmluZywgYXJ0aXN0OiBzdHJpbmcsIHRyYWNrTmFtZTogc3RyaW5nLCBsYXN0Rm1Vc2VybmFtZSA9IFwiXCIpID0+IHtcclxuICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoXCJodHRwczovL3dzLmF1ZGlvc2Nyb2JibGVyLmNvbS8yLjAvXCIpXHJcbiAgICB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChcIm1ldGhvZFwiLCBcInRyYWNrLmdldEluZm9cIilcclxuICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKFwiYXBpX2tleVwiLCBMRk1BcGlLZXkpXHJcbiAgICB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChcImFydGlzdFwiLCBhcnRpc3QpXHJcbiAgICB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChcInRyYWNrXCIsIHRyYWNrTmFtZSlcclxuICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKFwiZm9ybWF0XCIsIFwianNvblwiKVxyXG4gICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoXCJ1c2VybmFtZVwiLCBsYXN0Rm1Vc2VybmFtZSlcclxuXHJcbiAgICByZXR1cm4gKGF3YWl0IGZldGNoKHVybCkudGhlbihyZXMgPT4gcmVzLmpzb24oKSkpIGFzIGZldGNoVHJhY2tMRk1BUElSZXNcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGZldGNoVHJhY2tMRk1BUElNZW1vaXplZCA9IG1lbW9pemUyKGZldGNoVHJhY2tMRk1BUEkpXHJcblxyXG5leHBvcnQgY29uc3Qgc2VhcmNoWW91dHViZSA9IGFzeW5jIChZb3VUdWJlQXBpS2V5OiBzdHJpbmcsIHNlYXJjaFN0cmluZzogc3RyaW5nKSA9PiB7XHJcbiAgICBjb25zdCB1cmwgPSBuZXcgVVJMKFwiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20veW91dHViZS92My9zZWFyY2hcIilcclxuICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKFwicGFydFwiLCBcInNuaXBwZXRcIilcclxuICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKFwibWF4UmVzdWx0c1wiLCBcIjEwXCIpXHJcbiAgICB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChcInFcIiwgc2VhcmNoU3RyaW5nKVxyXG4gICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoXCJ0eXBlXCIsIFwidmlkZW9cIilcclxuICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKFwia2V5XCIsIFlvdVR1YmVBcGlLZXkpXHJcblxyXG4gICAgcmV0dXJuIChhd2FpdCBmZXRjaCh1cmwpLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpKSBhcyBhbnlbXVxyXG59XHJcblxyXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZXMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBmZXRjaEdRTEFsYnVtUmVzIHtcclxuICAgIF9fdHlwZW5hbWU6IFwiYWxidW1cIlxyXG4gICAgdXJpOiBTcG90aWZ5VVJJXHJcbiAgICBuYW1lOiBzdHJpbmdcclxuICAgIGFydGlzdHM6IHtcclxuICAgICAgICB0b3RhbENvdW50OiBudW1iZXJcclxuICAgICAgICBpdGVtczogQXJyYXk8e1xyXG4gICAgICAgICAgICBpZDogc3RyaW5nXHJcbiAgICAgICAgICAgIHVyaTogU3BvdGlmeVVSSVxyXG4gICAgICAgICAgICBwcm9maWxlOiB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBzdHJpbmdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2aXN1YWxzOiB7XHJcbiAgICAgICAgICAgICAgICBhdmF0YXJJbWFnZToge1xyXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZXM6IFNwb3RBcGlJbWFnZVtdXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2hhcmluZ0luZm86IHtcclxuICAgICAgICAgICAgICAgIHNoYXJlVXJsOiBzdHJpbmdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0+XHJcbiAgICB9XHJcbiAgICBjb3ZlckFydDoge1xyXG4gICAgICAgIGV4dHJhY3RlZENvbG9yczoge1xyXG4gICAgICAgICAgICBjb2xvclJhdzoge1xyXG4gICAgICAgICAgICAgICAgaGV4OiBzdHJpbmdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb2xvckxpZ2h0OiB7XHJcbiAgICAgICAgICAgICAgICBoZXg6IHN0cmluZ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbG9yRGFyazoge1xyXG4gICAgICAgICAgICAgICAgaGV4OiBzdHJpbmdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBzb3VyY2VzOiBTcG90QXBpSW1hZ2VbXVxyXG4gICAgfVxyXG4gICAgZGlzY3M6IHtcclxuICAgICAgICB0b3RhbENvdW50OiBudW1iZXJcclxuICAgICAgICBpdGVtczogQXJyYXk8e1xyXG4gICAgICAgICAgICBudW1iZXI6IG51bWJlclxyXG4gICAgICAgICAgICB0cmFja3M6IHtcclxuICAgICAgICAgICAgICAgIHRvdGFsQ291bnQ6IG51bWJlclxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfT5cclxuICAgIH1cclxuICAgIHJlbGVhc2VzOiB7XHJcbiAgICAgICAgdG90YWxDb3VudDogbnVtYmVyXHJcbiAgICAgICAgaXRlbXM6IEFycmF5PHtcclxuICAgICAgICAgICAgdXJpOiBTcG90aWZ5VVJJXHJcbiAgICAgICAgICAgIG5hbWU6IHN0cmluZ1xyXG4gICAgICAgIH0+XHJcbiAgICB9XHJcbiAgICB0eXBlOiBzdHJpbmdcclxuICAgIGRhdGU6IHtcclxuICAgICAgICBpc29TdHJpbmc6IHN0cmluZ1xyXG4gICAgICAgIHByZWNpc2lvbjogc3RyaW5nXHJcbiAgICB9XHJcbiAgICBwbGF5YWJpbGl0eToge1xyXG4gICAgICAgIHBsYXlhYmxlOiBib29sZWFuXHJcbiAgICAgICAgcmVhc29uOiBzdHJpbmdcclxuICAgIH1cclxuICAgIGxhYmVsOiBzdHJpbmdcclxuICAgIGNvcHlyaWdodDoge1xyXG4gICAgICAgIHRvdGFsQ291bnQ6IG51bWJlclxyXG4gICAgICAgIGl0ZW1zOiBBcnJheTx7XHJcbiAgICAgICAgICAgIHR5cGU6IHN0cmluZ1xyXG4gICAgICAgICAgICB0ZXh0OiBzdHJpbmdcclxuICAgICAgICB9PlxyXG4gICAgfVxyXG4gICAgY291cnRlc3lMaW5lOiBzdHJpbmdcclxuICAgIHNhdmVkOiBib29sZWFuXHJcbiAgICBzaGFyaW5nSW5mbzoge1xyXG4gICAgICAgIHNoYXJlVXJsOiBzdHJpbmdcclxuICAgICAgICBzaGFyZUlkOiBzdHJpbmdcclxuICAgIH1cclxuICAgIHRyYWNrczoge1xyXG4gICAgICAgIHRvdGFsQ291bnQ6IG51bWJlclxyXG4gICAgICAgIGl0ZW1zOiBBcnJheTx7XHJcbiAgICAgICAgICAgIHVpZDogc3RyaW5nXHJcbiAgICAgICAgICAgIHRyYWNrOiB7XHJcbiAgICAgICAgICAgICAgICBzYXZlZDogYm9vbGVhblxyXG4gICAgICAgICAgICAgICAgdXJpOiBTcG90aWZ5VVJJXHJcbiAgICAgICAgICAgICAgICBuYW1lOiBzdHJpbmdcclxuICAgICAgICAgICAgICAgIHBsYXljb3VudDogc3RyaW5nXHJcbiAgICAgICAgICAgICAgICBkaXNjTnVtYmVyOiBudW1iZXJcclxuICAgICAgICAgICAgICAgIHRyYWNrTnVtYmVyOiBudW1iZXJcclxuICAgICAgICAgICAgICAgIGNvbnRlbnRSYXRpbmc6IHtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogc3RyaW5nXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZWxpbmtpbmdJbmZvcm1hdGlvbjogYW55XHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjoge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsTWlsbGlzZWNvbmRzOiBudW1iZXJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHBsYXlhYmlsaXR5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGxheWFibGU6IGJvb2xlYW5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGFydGlzdHM6IHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtczogQXJyYXk8e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmk6IFNwb3RpZnlVUklcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZmlsZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogc3RyaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9PlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfT5cclxuICAgIH1cclxuICAgIG1vcmVBbGJ1bXNCeUFydGlzdDoge1xyXG4gICAgICAgIGl0ZW1zOiBBcnJheTx7XHJcbiAgICAgICAgICAgIGRpc2NvZ3JhcGh5OiB7XHJcbiAgICAgICAgICAgICAgICBwb3B1bGFyUmVsZWFzZXNBbGJ1bXM6IHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtczogQXJyYXk8e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogc3RyaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVyaTogU3BvdGlmeVVSSVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBzdHJpbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeWVhcjogbnVtYmVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY292ZXJBcnQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZXM6IFNwb3RBcGlJbWFnZVtdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWFiaWxpdHk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXlhYmxlOiBib29sZWFuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFzb246IHN0cmluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJpbmdJbmZvOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFyZUlkOiBzdHJpbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlVXJsOiBzdHJpbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBzdHJpbmdcclxuICAgICAgICAgICAgICAgICAgICB9PlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfT5cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHR5cGUgZmV0Y2hHUUxBcnRpc3RSZWxhdGVkUmVzID0gQXJyYXk8e1xyXG4gICAgaWQ6IHN0cmluZ1xyXG4gICAgdXJpOiBTcG90aWZ5VVJJXHJcbiAgICBwcm9maWxlOiB7XHJcbiAgICAgICAgbmFtZTogc3RyaW5nXHJcbiAgICB9XHJcbiAgICB2aXN1YWxzOiB7XHJcbiAgICAgICAgYXZhdGFySW1hZ2U6IHtcclxuICAgICAgICAgICAgc291cmNlczogU3BvdEFwaUltYWdlW11cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0+XHJcblxyXG5leHBvcnQgdHlwZSBmZXRjaFBsYXRBcnRpc3RMaWtlZFRyYWNrc1JlcyA9IEFycmF5PHtcclxuICAgIHR5cGU6IHN0cmluZ1xyXG4gICAgdXJpOiBzdHJpbmdcclxuICAgIG5hbWU6IHN0cmluZ1xyXG4gICAgZHVyYXRpb246IFNwb3RBcGlEdXJhdGlvblxyXG4gICAgYWxidW06IFNwb3RBcGlBbGJ1bU1pblxyXG4gICAgYXJ0aXN0czogU3BvdEFwaUFydGlzdE1pbltdXHJcbiAgICBkaXNjTnVtYmVyOiBudW1iZXJcclxuICAgIHRyYWNrTnVtYmVyOiBudW1iZXJcclxuICAgIGlzRXhwbGljaXQ6IGJvb2xlYW5cclxuICAgIGlzUGxheWFibGU6IGJvb2xlYW5cclxuICAgIGlzTG9jYWw6IGJvb2xlYW5cclxuICAgIGlzMTlQbHVzT25seTogYm9vbGVhblxyXG4gICAgYWRkZWRBdDogc3RyaW5nXHJcbn0+XHJcblxyXG5leHBvcnQgdHlwZSBmZXRjaFdlYlBsYXlsaXN0UmVzID0gQXJyYXk8e1xyXG4gICAgdWlkOiBzdHJpbmdcclxuICAgIHBsYXlJbmRleDogbnVsbFxyXG4gICAgYWRkZWRBdDogc3RyaW5nXHJcbiAgICBhZGRlZEJ5OiB7XHJcbiAgICAgICAgdHlwZTogc3RyaW5nXHJcbiAgICAgICAgdXJpOiBTcG90aWZ5VVJJXHJcbiAgICAgICAgdXNlcm5hbWU6IHN0cmluZ1xyXG4gICAgICAgIGRpc3BsYXlOYW1lOiBzdHJpbmdcclxuICAgICAgICBpbWFnZXM6IFNwb3RBcGlJbWFnZTJbXVxyXG4gICAgfVxyXG4gICAgZm9ybWF0TGlzdEF0dHJpYnV0ZXM6IHt9XHJcbiAgICB0eXBlOiBcInRyYWNrXCJcclxuICAgIHVyaTogU3BvdGlmeVVSSVxyXG4gICAgbmFtZTogc3RyaW5nXHJcbiAgICBhbGJ1bTogU3BvdEFwaUFsYnVtTWluXHJcbiAgICBhcnRpc3RzOiBTcG90QXBpQXJ0aXN0TWluW11cclxuICAgIGRpc2NOdW1iZXI6IG51bWJlclxyXG4gICAgdHJhY2tOdW1iZXI6IG51bWJlclxyXG4gICAgZHVyYXRpb246IFNwb3RBcGlEdXJhdGlvblxyXG4gICAgaXNFeHBsaWNpdDogYm9vbGVhblxyXG4gICAgaXNMb2NhbDogYm9vbGVhblxyXG4gICAgaXNQbGF5YWJsZTogYm9vbGVhblxyXG4gICAgaXMxOVBsdXNPbmx5OiBib29sZWFuXHJcbn0+XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIGZldGNoVHJhY2tMRk1BUElSZXMge1xyXG4gICAgdHJhY2s6IHtcclxuICAgICAgICBuYW1lOiBzdHJpbmdcclxuICAgICAgICBtYmlkOiBzdHJpbmdcclxuICAgICAgICB1cmw6IHN0cmluZ1xyXG4gICAgICAgIGR1cmF0aW9uOiBzdHJpbmdcclxuICAgICAgICBzdHJlYW1hYmxlOiB7XHJcbiAgICAgICAgICAgIFwiI3RleHRcIjogc3RyaW5nXHJcbiAgICAgICAgICAgIGZ1bGx0cmFjazogc3RyaW5nXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxpc3RlbmVyczogc3RyaW5nXHJcbiAgICAgICAgcGxheWNvdW50OiBzdHJpbmdcclxuICAgICAgICBhcnRpc3Q6IHtcclxuICAgICAgICAgICAgbmFtZTogc3RyaW5nXHJcbiAgICAgICAgICAgIG1iaWQ6IHN0cmluZ1xyXG4gICAgICAgICAgICB1cmw6IHN0cmluZ1xyXG4gICAgICAgIH1cclxuICAgICAgICBhbGJ1bToge1xyXG4gICAgICAgICAgICBhcnRpc3Q6IHN0cmluZ1xyXG4gICAgICAgICAgICB0aXRsZTogc3RyaW5nXHJcbiAgICAgICAgICAgIG1iaWQ6IHN0cmluZ1xyXG4gICAgICAgICAgICB1cmw6IHN0cmluZ1xyXG4gICAgICAgICAgICBpbWFnZTogQXJyYXk8e1xyXG4gICAgICAgICAgICAgICAgXCIjdGV4dFwiOiBzdHJpbmdcclxuICAgICAgICAgICAgICAgIHNpemU6IHN0cmluZ1xyXG4gICAgICAgICAgICB9PlxyXG4gICAgICAgICAgICBcIkBhdHRyXCI6IHtcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBzdHJpbmdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB1c2VycGxheWNvdW50OiBzdHJpbmdcclxuICAgICAgICB1c2VybG92ZWQ6IHN0cmluZ1xyXG4gICAgICAgIHRvcHRhZ3M6IHtcclxuICAgICAgICAgICAgdGFnOiBBcnJheTx7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBzdHJpbmdcclxuICAgICAgICAgICAgICAgIHVybDogc3RyaW5nXHJcbiAgICAgICAgICAgIH0+XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdpa2k6IHtcclxuICAgICAgICAgICAgcHVibGlzaGVkOiBzdHJpbmdcclxuICAgICAgICAgICAgc3VtbWFyeTogc3RyaW5nXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6IHN0cmluZ1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuLy9cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3BvdEFwaUFsYnVtTWluIHtcclxuICAgIHR5cGU6IFwiYWxidW1cIlxyXG4gICAgdXJpOiBTcG90aWZ5VVJJXHJcbiAgICBuYW1lOiBzdHJpbmdcclxuICAgIGFydGlzdDogU3BvdEFwaUFydGlzdE1pblxyXG4gICAgaW1hZ2VzOiBTcG90QXBpSW1hZ2UyW11cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTcG90QXBpSW1hZ2UyIHtcclxuICAgIHVybDogc3RyaW5nXHJcbiAgICBsYWJlbDogXCJzbWFsbFwiIHwgXCJzdGFuZGFyZFwiIHwgXCJsYXJnZVwiIHwgXCJ4bGFyZ2VcIlxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFNwb3RBcGlUcmFjayB7XHJcbiAgICBhbGJ1bTogU3BvdEFwaUFsYnVtXHJcbiAgICBhcnRpc3RzOiBTcG90QXBpQXJ0aXN0W11cclxuICAgIGF2YWlsYWJsZV9tYXJrZXRzOiBzdHJpbmdbXVxyXG4gICAgZGlzY19udW1iZXI6IG51bWJlclxyXG4gICAgZHVyYXRpb25fbXM6IG51bWJlclxyXG4gICAgZXhwbGljaXQ6IGJvb2xlYW5cclxuICAgIGV4dGVybmFsX2lkczogU3BvdEFwaUVJRHNcclxuICAgIGV4dGVybmFsX3VybHM6IFNwb3RBcGlFVXJsc1xyXG4gICAgaHJlZjogc3RyaW5nXHJcbiAgICBpZDogc3RyaW5nXHJcbiAgICBpc19wbGF5YWJsZTogYm9vbGVhblxyXG4gICAgbGlua2VkX2Zyb206IHt9XHJcbiAgICByZXN0cmljdGlvbnM6IFNwb3RBcGlSZXN0cmljdGlvbnNcclxuICAgIG5hbWU6IHN0cmluZ1xyXG4gICAgcG9wdWxhcml0eTogbnVtYmVyXHJcbiAgICBwcmV2aWV3X3VybDogc3RyaW5nXHJcbiAgICB0cmFja19udW1iZXI6IG51bWJlclxyXG4gICAgdHlwZTogc3RyaW5nXHJcbiAgICB1cmk6IFNwb3RpZnlVUklcclxuICAgIGlzX2xvY2FsOiBib29sZWFuXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3BvdEFwaUFydGlzdCB7XHJcbiAgICBleHRlcm5hbF91cmxzOiBTcG90QXBpRVVybHNcclxuICAgIGZvbGxvd2VyczogU3BvdEFwaUZvbGxvd2Vyc1xyXG4gICAgZ2VucmVzOiBzdHJpbmdbXVxyXG4gICAgaHJlZjogc3RyaW5nXHJcbiAgICBpZDogc3RyaW5nXHJcbiAgICBpbWFnZXM6IFNwb3RBcGlJbWFnZVtdXHJcbiAgICBuYW1lOiBzdHJpbmdcclxuICAgIHBvcHVsYXJpdHk6IG51bWJlclxyXG4gICAgdHlwZTogc3RyaW5nXHJcbiAgICB1cmk6IFNwb3RpZnlVUklcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTcG90QXBpQXJ0aXN0TWluIHtcclxuICAgIHR5cGU6IFwiYXJ0aXN0XCJcclxuICAgIHVyaTogU3BvdGlmeVVSSVxyXG4gICAgbmFtZTogc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3BvdEFwaUFsYnVtIHtcclxuICAgIGFsYnVtX3R5cGU6IHN0cmluZ1xyXG4gICAgdG90YWxfdHJhY2tzOiBudW1iZXJcclxuICAgIGF2YWlsYWJsZV9tYXJrZXRzOiBzdHJpbmdbXVxyXG4gICAgZXh0ZXJuYWxfdXJsczogU3BvdEFwaUVVcmxzXHJcbiAgICBocmVmOiBzdHJpbmdcclxuICAgIGlkOiBzdHJpbmdcclxuICAgIGltYWdlczogU3BvdEFwaUltYWdlW11cclxuICAgIG5hbWU6IHN0cmluZ1xyXG4gICAgcmVsZWFzZV9kYXRlOiBzdHJpbmdcclxuICAgIHJlbGVhc2VfZGF0ZV9wcmVjaXNpb246IHN0cmluZ1xyXG4gICAgcmVzdHJpY3Rpb25zOiBTcG90QXBpUmVzdHJpY3Rpb25zXHJcbiAgICB0eXBlOiBzdHJpbmdcclxuICAgIHVyaTogU3BvdGlmeVVSSVxyXG4gICAgY29weXJpZ2h0czogQXJyYXk8e1xyXG4gICAgICAgIHRleHQ6IHN0cmluZ1xyXG4gICAgICAgIHR5cGU6IHN0cmluZ1xyXG4gICAgfT5cclxuICAgIGV4dGVybmFsX2lkczogU3BvdEFwaUVJRHNcclxuICAgIGdlbnJlczogc3RyaW5nW11cclxuICAgIGxhYmVsOiBzdHJpbmdcclxuICAgIHBvcHVsYXJpdHk6IG51bWJlclxyXG4gICAgYWxidW1fZ3JvdXA6IHN0cmluZ1xyXG4gICAgYXJ0aXN0czogQXJyYXk8e1xyXG4gICAgICAgIGV4dGVybmFsX3VybHM6IFNwb3RBcGlFVXJsc1xyXG4gICAgICAgIGhyZWY6IHN0cmluZ1xyXG4gICAgICAgIGlkOiBzdHJpbmdcclxuICAgICAgICBuYW1lOiBzdHJpbmdcclxuICAgICAgICB0eXBlOiBzdHJpbmdcclxuICAgICAgICB1cmk6IFNwb3RpZnlVUklcclxuICAgIH0+XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3BvdEFwaUVVcmxzIHtcclxuICAgIHNwb3RpZnk6IHN0cmluZ1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFNwb3RBcGlFSURzIHtcclxuICAgIGlzcmM6IHN0cmluZ1xyXG4gICAgZWFuOiBzdHJpbmdcclxuICAgIHVwYzogc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3BvdEFwaUltYWdlIHtcclxuICAgIHVybDogc3RyaW5nXHJcbiAgICB3aWR0aDogbnVtYmVyXHJcbiAgICBoZWlnaHQ6IG51bWJlclxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFNwb3RBcGlSZXN0cmljdGlvbnMge1xyXG4gICAgcmVhc29uOiBzdHJpbmdcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTcG90QXBpRm9sbG93ZXJzIHtcclxuICAgIGhyZWY6IHN0cmluZ1xyXG4gICAgdG90YWw6IG51bWJlclxyXG59XHJcbmV4cG9ydCBpbnRlcmZhY2UgU3BvdEFwaUR1cmF0aW9uIHtcclxuICAgIG1pbGxpc2Vjb25kczogbnVtYmVyXHJcbn1cclxuZXhwb3J0IGludGVyZmFjZSBTcG90QXBpUGxheWxpc3Qge1xyXG4gICAgY29sbGFib3JhdGl2ZTogYm9vbGVhblxyXG4gICAgZGVzY3JpcHRpb246IHN0cmluZ1xyXG4gICAgZXh0ZXJuYWxfdXJsczogU3BvdEFwaUVVcmxzXHJcbiAgICBmb2xsb3dlcnM6IHtcclxuICAgICAgICBocmVmOiBzdHJpbmdcclxuICAgICAgICB0b3RhbDogbnVtYmVyXHJcbiAgICB9XHJcbiAgICBocmVmOiBzdHJpbmdcclxuICAgIGlkOiBTcG90aWZ5SURcclxuICAgIGltYWdlczogU3BvdEFwaUltYWdlW11cclxuICAgIG5hbWU6IHN0cmluZ1xyXG4gICAgb3duZXI6IFNwb3RBcGlPd25lclxyXG4gICAgcHVibGljOiBib29sZWFuXHJcbiAgICBzbmFwc2hvdF9pZDogc3RyaW5nXHJcbiAgICB0cmFja3M6IHtcclxuICAgICAgICBocmVmOiBzdHJpbmdcclxuICAgICAgICBsaW1pdDogbnVtYmVyXHJcbiAgICAgICAgbmV4dDogc3RyaW5nXHJcbiAgICAgICAgb2Zmc2V0OiBudW1iZXJcclxuICAgICAgICBwcmV2aW91czogc3RyaW5nXHJcbiAgICAgICAgdG90YWw6IG51bWJlclxyXG4gICAgICAgIGl0ZW1zOiBBcnJheTx7XHJcbiAgICAgICAgICAgIGFkZGVkX2F0OiBzdHJpbmdcclxuICAgICAgICAgICAgYWRkZWRfYnk6IFNwb3RBcGlPd25lclxyXG4gICAgICAgICAgICBpc19sb2NhbDogYm9vbGVhblxyXG4gICAgICAgICAgICB0cmFjazogU3BvdEFwaVRyYWNrXHJcbiAgICAgICAgfT5cclxuICAgIH1cclxuICAgIHR5cGU6IHN0cmluZ1xyXG4gICAgdXJpOiBTcG90aWZ5VVJJXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3BvdEFwaU93bmVyIHtcclxuICAgIGV4dGVybmFsX3VybHM6IFNwb3RBcGlFVXJsc1xyXG4gICAgZm9sbG93ZXJzPzoge1xyXG4gICAgICAgIGhyZWY6IHN0cmluZ1xyXG4gICAgICAgIHRvdGFsOiBudW1iZXJcclxuICAgIH1cclxuICAgIGhyZWY6IHN0cmluZ1xyXG4gICAgaWQ6IFNwb3RpZnlJRFxyXG4gICAgdHlwZTogc3RyaW5nXHJcbiAgICB1cmk6IFNwb3RpZnlVUklcclxuICAgIGRpc3BsYXlfbmFtZT86IHN0cmluZ1xyXG4gICAgbmFtZT86IHN0cmluZ1xyXG59XHJcblxyXG4vL1RPRE86IEJldHRlciBUUyBpbnRlcmZhY2UgZm9yIHJlY3Vyc2l2ZSBmZXRjaFBsYXRGb2xkZXJSZXNcclxuZXhwb3J0IGludGVyZmFjZSBmZXRjaFBsYXRGb2xkZXJSZXMge1xyXG4gICAgdHlwZTogXCJmb2xkZXJcIiB8IFwicGxhY2Vob2xkZXJcIiB8IFwicGxheWxpc3RcIlxyXG4gICAgYWRkZWRBdDogc3RyaW5nXHJcbiAgICBpdGVtcz86IEFycmF5PGZldGNoUGxhdEZvbGRlclJlcz5cclxuICAgIG5hbWU/OiBzdHJpbmdcclxuICAgIHVyaTogc3RyaW5nXHJcbiAgICBkZXNjcmlwdGlvbj86IHN0cmluZ1xyXG4gICAgaW1hZ2VzPzogU3BvdEFwaUltYWdlMltdXHJcbiAgICBtYWRlRm9yPzogbnVsbFxyXG4gICAgb3duZXI/OiB7XHJcbiAgICAgICAgdHlwZTogXCJ1c2VyXCJcclxuICAgICAgICB1cmk6IHN0cmluZ1xyXG4gICAgICAgIHVzZXJuYW1lOiBzdHJpbmdcclxuICAgICAgICBkaXNwbGF5TmFtZTogc3RyaW5nXHJcbiAgICAgICAgaW1hZ2VzOiBhbnlbXVxyXG4gICAgfVxyXG4gICAgdG90YWxMZW5ndGg/OiBudW1iZXJcclxuICAgIHVuZmlsdGVyZWRUb3RhbExlbmd0aD86IG51bWJlclxyXG4gICAgdG90YWxMaWtlcz86IG51bGxcclxuICAgIGR1cmF0aW9uPzogbnVsbFxyXG4gICAgaXNDb2xsYWJvcmF0aXZlPzogYm9vbGVhblxyXG4gICAgaXNMb2FkZWQ/OiBib29sZWFuXHJcbiAgICBpc093bmVkQnlTZWxmPzogYm9vbGVhblxyXG4gICAgaXNQdWJsaXNoZWQ/OiBib29sZWFuXHJcbiAgICBoYXNFcGlzb2Rlcz86IG51bGxcclxuICAgIGhhc1Nwb3RpZnlUcmFja3M/OiBudWxsXHJcbiAgICBoYXNTcG90aWZ5QXVkaW9ib29rcz86IG51bGxcclxuICAgIGNhbkFkZD86IGJvb2xlYW5cclxuICAgIGNhblJlbW92ZT86IGJvb2xlYW5cclxuICAgIGNhblBsYXk/OiBudWxsXHJcbiAgICBmb3JtYXRMaXN0RGF0YT86IHtcclxuICAgICAgICB0eXBlOiBzdHJpbmdcclxuICAgICAgICBhdHRyaWJ1dGVzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9XHJcbiAgICB9IHwgbnVsbFxyXG4gICAgY2FuUmVwb3J0QW5ub3RhdGlvbkFidXNlPzogYm9vbGVhblxyXG4gICAgaGFzRGF0ZUFkZGVkPzogYm9vbGVhblxyXG4gICAgcGVybWlzc2lvbnM/OiBudWxsXHJcbiAgICBjb2xsYWJvcmF0b3JzPzoge1xyXG4gICAgICAgIGNvdW50OiBudW1iZXJcclxuICAgICAgICBpdGVtczogYW55W11cclxuICAgIH1cclxuICAgIGlzTm90Rm91bmQ/OiBib29sZWFuXHJcbiAgICBpc0ZvcmJpZGRlbj86IGJvb2xlYW5cclxufVxyXG4iLCAiaW1wb3J0IHsgcmFuZ2UgfSBmcm9tIFwiaHR0cHM6Ly9lc20uc2gvZnAtdHMvbGliL1JlYWRvbmx5Tm9uRW1wdHlBcnJheVwiXG5pbXBvcnQgeyBTcG90aWZ5VVJJIH0gZnJvbSBcIi4uLy4uL3NoYXJlZC91dGlsLnRzXCJcbmltcG9ydCB7IHRvZ2dsZVJhdGluZyB9IGZyb20gXCIuL3JhdGluZ3MudHNcIlxuXG5jb25zdCB7IFJlYWN0IH0gPSBTcGljZXRpZnlcblxuY29uc3QgUmF0aW5nQnV0dG9uID0gKHsgaSwgdXJpIH06IHsgaTogbnVtYmVyOyB1cmk6IFNwb3RpZnlVUkkgfSkgPT4gKFxuICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiQnV0dG9uLXNjLTFkcXk2bHgtMCBCdXR0b24tdGV4dEJyaWdodEFjY2VudC1zbS0xNi1idXR0b25UZXJ0aWFyeS1pY29uT25seS1jb25kZW5zZWQtaXNVc2luZ0tleWJvYXJkLXVzZUJyb3dzZXJEZWZhdWx0Rm9jdXNTdHlsZSByYXRpbmctYnV0dG9uXCJcbiAgICAgICAgb25DbGljaz17KCkgPT4gdG9nZ2xlUmF0aW5nKHVyaSwgaSl9XG4gICAgPlxuICAgICAgICA8c3ZnXG4gICAgICAgICAgICByb2xlPVwiaW1nXCJcbiAgICAgICAgICAgIGhlaWdodD17MTZ9XG4gICAgICAgICAgICB3aWR0aD17MTZ9XG4gICAgICAgICAgICB2aWV3Qm94PVwiMCAwIDE2IDE2XCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT17YFN2Zy1zYy15dGsyMWUtMCBTdmctaW1nLWljb24gcmF0aW5nLSR7aX1gfVxuICAgICAgICA+XG4gICAgICAgICAgICA8cGF0aCBkPVwiTTAgOGE4IDggMCAxIDEgMTYgMEE4IDggMCAwIDEgMCA4em0xMS43NDgtMS45N2EuNzUuNzUgMCAwIDAtMS4wNi0xLjA2bC00LjQ3IDQuNDctMS40MDUtMS40MDZhLjc1Ljc1IDAgMSAwLTEuMDYxIDEuMDZsMi40NjYgMi40NjcgNS41My01LjUzelwiIC8+XG4gICAgICAgIDwvc3ZnPlxuICAgIDwvYnV0dG9uPlxuKVxuXG5leHBvcnQgY29uc3QgRHJvcGRvd24gPSAoeyB1cmkgfTogeyB1cmk6IFNwb3RpZnlVUkkgfSkgPT4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicmF0aW5nLWRyb3Bkb3duXCI+XG4gICAgICAgIHtyYW5nZSgxLCA1KS5tYXAoaSA9PiAoXG4gICAgICAgICAgICA8UmF0aW5nQnV0dG9uIGk9e2l9IHVyaT17dXJpfSAvPlxuICAgICAgICApKX1cbiAgICA8L2Rpdj5cbilcbiIsICJpbXBvcnQgeyBhcnJheSBhcyBhciwgZnVuY3Rpb24gYXMgZiB9IGZyb20gXCJodHRwczovL2VzbS5zaC9mcC10c1wiXHJcbmltcG9ydCB7XHJcbiAgICBhZGRQbGF0UGxheWxpc3RUcmFja3MsXHJcbiAgICBjcmVhdGVQbGF0UGxheWxpc3QsXHJcbiAgICBmZXRjaFBsYXRGb2xkZXIsXHJcbiAgICBmZXRjaFBsYXRQbGF5bGlzdENvbnRlbnRzLFxyXG4gICAgcmVtb3ZlV2ViUGxheWxpc3RUcmFja3MsXHJcbiAgICBzZXRQbGF0UGxheWxpc3RWaXNpYmlsaXR5LFxyXG59IGZyb20gXCIuLi8uLi9zaGFyZWQvYXBpLnRzXCJcclxuaW1wb3J0IHsgcE1jaGFpbiB9IGZyb20gXCIuLi8uLi9zaGFyZWQvZnAudHNcIlxyXG5pbXBvcnQgeyBTcG90aWZ5TG9jLCBTcG90aWZ5VVJJIH0gZnJvbSBcIi4uLy4uL3NoYXJlZC91dGlsLnRzXCJcclxuaW1wb3J0IHsgdXBkYXRlQ29sbGVjdGlvbkNvbnRyb2xzLCB1cGRhdGVOb3dQbGF5aW5nQ29udHJvbHMsIHVwZGF0ZVRyYWNrTGlzdENvbnRyb2xzIH0gZnJvbSBcIi4vY29udHJvbHMudHN4XCJcclxuaW1wb3J0IHsgQ09ORklHIH0gZnJvbSBcIi4vc2V0dGluZ3MudHNcIlxyXG5cclxuZXhwb3J0IGNvbnN0IGxvYWRSYXRpbmdzID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgcmF0aW5nc0ZvbGRlciA9IGF3YWl0IGZldGNoUGxhdEZvbGRlcihDT05GSUcucmF0aW5nc0ZvbGRlclVyaSlcclxuXHJcbiAgICBwbGF5bGlzdFVyaXMgPSBmLnBpcGUoXHJcbiAgICAgICAgcmF0aW5nc0ZvbGRlciEuaXRlbXMhLFxyXG4gICAgICAgIGFyLm1hcChwID0+IFtwLnVyaSwgTnVtYmVyKHAubmFtZSEpXSBhcyBbU3BvdGlmeVVSSSwgbnVtYmVyXSksXHJcbiAgICAgICAgYXIucmVkdWNlKFtdIGFzIFNwb3RpZnlVUklbXSwgKHVyaXMsIFt1cmksIHJhdGluZ10pID0+ICgodXJpc1tyYXRpbmddID0gdXJpKSwgdXJpcykpLFxyXG4gICAgKVxyXG5cclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIGdsb2JhbFRoaXMudHJhY2tzUmF0aW5ncyA9IHRyYWNrc1JhdGluZ3MgPSBhd2FpdCBmLnBpcGUoXHJcbiAgICAgICAgcGxheWxpc3RVcmlzLFxyXG4gICAgICAgIGFyLm1hcChmZXRjaFBsYXRQbGF5bGlzdENvbnRlbnRzKSxcclxuICAgICAgICBwcyA9PiBQcm9taXNlLmFsbChwcyksIC8vIFByb21pc2UuYWxsIGZsaXBzIGVtcHR5IHRvIHVuZGVmaW5lZFxyXG4gICAgICAgIHBNY2hhaW4oYXIubWFwKHRyYWNrcyA9PiB0cmFja3MgPz8gW10pKSxcclxuICAgICAgICBwTWNoYWluKGFyLm1hcChhci5tYXAodCA9PiB0LnVyaSkpKSxcclxuICAgICAgICBwTWNoYWluKGFyLmZsYXRNYXAoKHRyYWNrVXJpcywgcmF0aW5nKSA9PiB0cmFja1VyaXMubWFwKHRyYWNrVXJpID0+IFt0cmFja1VyaSwgcmF0aW5nXSBhcyBjb25zdCkpKSxcclxuICAgICAgICBwTWNoYWluKFxyXG4gICAgICAgICAgICBhci5yZWR1Y2Uoe30gYXMgUmVjb3JkPHN0cmluZywgbnVtYmVyPiwgKGFjYywgW3RyYWNrVXJpLCByYXRpbmddKSA9PlxyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihhY2MsIHtcclxuICAgICAgICAgICAgICAgICAgICBbdHJhY2tVcmldOiBNYXRoLm1heChyYXRpbmcsIGFjY1t0cmFja1VyaV0gPz8gMCksXHJcbiAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgKSxcclxuICAgICAgICApLFxyXG4gICAgKVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgdG9nZ2xlUmF0aW5nID0gYXN5bmMgKHVyaTogU3BvdGlmeVVSSSwgcmF0aW5nOiBudW1iZXIpID0+IHtcclxuICAgIGNvbnN0IGN1cnJlbnRSYXRpbmcgPSB0cmFja3NSYXRpbmdzW3VyaV1cclxuXHJcbiAgICBpZiAoY3VycmVudFJhdGluZyA9PT0gcmF0aW5nKSByYXRpbmcgPSAwXHJcblxyXG4gICAgaWYgKGN1cnJlbnRSYXRpbmcpIHtcclxuICAgICAgICBmLnBpcGUoXHJcbiAgICAgICAgICAgIHBsYXlsaXN0VXJpcy5zbGljZSgwLCBjdXJyZW50UmF0aW5nICsgMSksXHJcbiAgICAgICAgICAgIGFyLmZpbHRlcihCb29sZWFuKSxcclxuICAgICAgICAgICAgYXIubWFwKHBsYXlsaXN0VXJpID0+IFNwaWNldGlmeS5VUkkuZnJvbVN0cmluZyhwbGF5bGlzdFVyaSkuaWQhKSxcclxuICAgICAgICAgICAgYXIubWFwKHBsYXlsaXN0SWQgPT4gcmVtb3ZlV2ViUGxheWxpc3RUcmFja3MocGxheWxpc3RJZCwgW3VyaV0pKSxcclxuICAgICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgdHJhY2tzUmF0aW5nc1t1cmldID0gcmF0aW5nXHJcblxyXG4gICAgaWYgKHJhdGluZyA+IDApIHtcclxuICAgICAgICBsZXQgcGxheWxpc3RVcmkgPSBwbGF5bGlzdFVyaXNbcmF0aW5nXVxyXG5cclxuICAgICAgICBpZiAoIXBsYXlsaXN0VXJpKSB7XHJcbiAgICAgICAgICAgIHBsYXlsaXN0VXJpID0gYXdhaXQgY3JlYXRlUGxhdFBsYXlsaXN0KHJhdGluZy50b0ZpeGVkKDApLCBTcG90aWZ5TG9jLmFmdGVyLmZyb21VcmkoQ09ORklHLnJhdGluZ3NGb2xkZXJVcmkpKVxyXG4gICAgICAgICAgICBzZXRQbGF0UGxheWxpc3RWaXNpYmlsaXR5KHBsYXlsaXN0VXJpLCBmYWxzZSlcclxuICAgICAgICAgICAgcGxheWxpc3RVcmlzW3JhdGluZ10gPSBwbGF5bGlzdFVyaVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYWRkUGxhdFBsYXlsaXN0VHJhY2tzKHBsYXlsaXN0VXJpLCBbdXJpXSlcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBucFRyYWNrID0gU3BpY2V0aWZ5LlBsYXllci5kYXRhLnRyYWNrPy51cmlcclxuICAgIGlmIChucFRyYWNrID09PSB1cmkpIHVwZGF0ZU5vd1BsYXlpbmdDb250cm9scyhucFRyYWNrLCBmYWxzZSlcclxuXHJcbiAgICAvLyBUT0RPOiBPcHRpbWl6ZSB0aGlzLCBmaW5kIGEgd2F5IHRvIGRpcmVjdGx5IHRhcmdldCB0aGUgcGJzIGZvciB0aGF0IHVyaVxyXG4gICAgdXBkYXRlVHJhY2tMaXN0Q29udHJvbHMoKVxyXG4gICAgY29uc3QgeyBwYXRobmFtZSB9ID0gU3BpY2V0aWZ5LlBsYXRmb3JtLkhpc3RvcnkubG9jYXRpb25cclxuICAgIHVwZGF0ZUNvbGxlY3Rpb25Db250cm9scyhTcGljZXRpZnkuVVJJLmZyb21TdHJpbmcocGF0aG5hbWUpKVxyXG59XHJcblxyXG5leHBvcnQgbGV0IHBsYXlsaXN0VXJpczogU3BvdGlmeVVSSVtdID0gW11cclxuZXhwb3J0IGxldCB0cmFja3NSYXRpbmdzOiBSZWNvcmQ8U3BvdGlmeVVSSSwgbnVtYmVyPiA9IHt9XHJcbiIsICJpbXBvcnQgeyB0YXNrIH0gZnJvbSBcImh0dHBzOi8vZXNtLnNoL2ZwLXRzXCJcclxuaW1wb3J0IHsgY3JlYXRlUGxhdEZvbGRlciB9IGZyb20gXCIuLi8uLi9zaGFyZWQvYXBpLnRzXCJcclxuaW1wb3J0IHsgU2V0dGluZ3NTZWN0aW9uIH0gZnJvbSBcIi4uLy4uL3NoYXJlZC9zZXR0aW5ncy50c3hcIlxyXG5pbXBvcnQgeyBTcG90aWZ5VVJJIH0gZnJvbSBcIi4uLy4uL3NoYXJlZC91dGlsLnRzXCJcclxuaW1wb3J0IHsgbG9hZFJhdGluZ3MgfSBmcm9tIFwiLi9yYXRpbmdzLnRzXCJcclxuXHJcbmNvbnN0IFJBVElOR1NfRk9MREVSX05BTUUgPSBcIlJhdGluZ3NcIlxyXG5cclxuY29uc3Qgc2V0dGluZ3MgPSBuZXcgU2V0dGluZ3NTZWN0aW9uKFwiU3RhciBSYXRpbmdzIDJcIiwgXCJzdGFyLXJhdGluZ3MtMlwiKVxyXG4gICAgLmFkZElucHV0KFwiaGVhcnRUaHJlc2hvbGRcIiwgXCJUaHJlc2hvbGQgZm9yIGxpa2luZyB0cmFrY3NcIiwgdGFzay5vZihcIjNcIikpXHJcbiAgICAuYWRkSW5wdXQoXCJza2lwVGhyZXNob2xkXCIsIFwiVGhyZXNob2xkIGZvciBza2lwcGluZyB0cmFrY3NcIiwgdGFzay5vZihcIjFcIikpXHJcbiAgICAuYWRkSW5wdXQoXHJcbiAgICAgICAgXCJyYXRpbmdzRm9sZGVyVXJpXCIsXHJcbiAgICAgICAgXCJSYXRpbmdzIGZvbGRlciB1cmlcIixcclxuICAgICAgICBhc3luYyAoKSA9PiAoYXdhaXQgY3JlYXRlUGxhdEZvbGRlcihSQVRJTkdTX0ZPTERFUl9OQU1FKSkudXJpLFxyXG4gICAgICAgIGxvYWRSYXRpbmdzLFxyXG4gICAgKVxyXG5cclxuc2V0dGluZ3MucHVzaFNldHRpbmdzKClcclxuXHJcbmV4cG9ydCBjb25zdCBDT05GSUcgPSBzZXR0aW5ncy50b09iamVjdCgpIGFzIHtcclxuICAgIGhlYXJ0VGhyZXNob2xkOiBzdHJpbmdcclxuICAgIHNraXBUaHJlc2hvbGQ6IHN0cmluZ1xyXG4gICAgcmF0aW5nc0ZvbGRlclVyaTogU3BvdGlmeVVSSVxyXG59XHJcbiIsICJpbXBvcnQgeyB0YXNrIH0gZnJvbSBcImh0dHBzOi8vZXNtLnNoL2ZwLXRzXCJcclxuaW1wb3J0IHsgY29uc3RWb2lkIH0gZnJvbSBcImh0dHBzOi8vZXNtLnNoL2ZwLXRzL2Z1bmN0aW9uXCJcclxuaW1wb3J0IHsgZ3VhcmQ0LCBpcyB9IGZyb20gXCIuL2ZwLnRzXCJcclxuaW1wb3J0IHsgc2xlZXAgfSBmcm9tIFwiLi91dGlsLnRzXCJcclxuXHJcbmNvbnN0IHsgUmVhY3QsIFJlYWN0RE9NIH0gPSBTcGljZXRpZnlcclxuXHJcbmV4cG9ydCBjbGFzcyBTZXR0aW5nc1NlY3Rpb24ge1xyXG4gICAgcHJpdmF0ZSBzdG9wSGlzdG9yeUxpc3RlbmVyOiBhbnlcclxuICAgIHByaXZhdGUgc2V0UmVyZW5kZXI6IEZ1bmN0aW9uIHwgbnVsbCA9IG51bGxcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgICAgICBwdWJsaWMgbmFtZTogc3RyaW5nLFxyXG4gICAgICAgIHB1YmxpYyBzZWN0aW9uSWQ6IHN0cmluZyxcclxuICAgICAgICBwdWJsaWMgc2VjdGlvbkZpZWxkczogeyBba2V5OiBzdHJpbmddOiBTZXR0aW5nc0ZpZWxkIH0gPSB7fSxcclxuICAgICkge31cclxuXHJcbiAgICBzdGF0aWMgd2FpdEZvclJlYWN0ID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIHdoaWxlICghKFNwaWNldGlmeS5SZWFjdCAmJiBTcGljZXRpZnkuUmVhY3RET00pKSBzbGVlcCgxMDApXHJcbiAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuXHJcbiAgICBwdXNoU2V0dGluZ3MgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgd2hpbGUgKCFTcGljZXRpZnk/LlBsYXRmb3JtPy5IaXN0b3J5Py5saXN0ZW4pIGF3YWl0IHNsZWVwKDEwMClcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc3RvcEhpc3RvcnlMaXN0ZW5lcikgdGhpcy5zdG9wSGlzdG9yeUxpc3RlbmVyKClcclxuXHJcbiAgICAgICAgdGhpcy5zdG9wSGlzdG9yeUxpc3RlbmVyID0gU3BpY2V0aWZ5LlBsYXRmb3JtLkhpc3RvcnkubGlzdGVuKCh7IHBhdGhuYW1lID0gXCJcIiB9KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChwYXRobmFtZSA9PT0gXCIvcHJlZmVyZW5jZXNcIikgdGhpcy5yZW5kZXIoKVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGlmIChTcGljZXRpZnkuUGxhdGZvcm0uSGlzdG9yeS5sb2NhdGlvbi5wYXRobmFtZSA9PT0gXCIvcHJlZmVyZW5jZXNcIikgYXdhaXQgdGhpcy5yZW5kZXIoKVxyXG4gICAgfVxyXG5cclxuICAgIHRvT2JqZWN0ID0gKCkgPT5cclxuICAgICAgICBuZXcgUHJveHkoXHJcbiAgICAgICAgICAgIHt9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBnZXQ6ICh0YXJnZXQsIHByb3ApID0+IFNldHRpbmdzU2VjdGlvbi5nZXRGaWVsZFZhbHVlKHRoaXMuZ2V0SWQocHJvcC50b1N0cmluZygpKSksXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgKVxyXG5cclxuICAgIHJlcmVuZGVyID0gKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnNldFJlcmVuZGVyKSB0aGlzLnNldFJlcmVuZGVyKE1hdGgucmFuZG9tKCkpXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZW5kZXIgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgd2hpbGUgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlc2t0b3Auc2V0dGluZ3Muc2VsZWN0TGFuZ3VhZ2VcIikpIHtcclxuICAgICAgICAgICAgaWYgKFNwaWNldGlmeS5QbGF0Zm9ybS5IaXN0b3J5LmxvY2F0aW9uLnBhdGhuYW1lICE9PSBcIi9wcmVmZXJlbmNlc1wiKSByZXR1cm5cclxuICAgICAgICAgICAgYXdhaXQgc2xlZXAoMTAwKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgYWxsU2V0dGluZ3NDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLngtc2V0dGluZ3MtY29udGFpbmVyXCIpIVxyXG5cclxuICAgICAgICBsZXQgcGx1Z2luU2V0dGluZ3NDb250YWluZXIgPSBBcnJheS5mcm9tKGFsbFNldHRpbmdzQ29udGFpbmVyLmNoaWxkcmVuKS5maW5kKCh7IGlkIH0pID0+IGlkID09PSB0aGlzLnNlY3Rpb25JZClcclxuXHJcbiAgICAgICAgaWYgKCFwbHVnaW5TZXR0aW5nc0NvbnRhaW5lcikge1xyXG4gICAgICAgICAgICBwbHVnaW5TZXR0aW5nc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcclxuICAgICAgICAgICAgcGx1Z2luU2V0dGluZ3NDb250YWluZXIuaWQgPSB0aGlzLnNlY3Rpb25JZFxyXG4gICAgICAgICAgICBwbHVnaW5TZXR0aW5nc0NvbnRhaW5lci5jbGFzc05hbWUgPSBcInNldHRpbmdzQ29udGFpbmVyXCJcclxuICAgICAgICAgICAgYWxsU2V0dGluZ3NDb250YWluZXIuYXBwZW5kQ2hpbGQocGx1Z2luU2V0dGluZ3NDb250YWluZXIpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBSZWFjdERPTS5yZW5kZXIoPHRoaXMuRmllbGRzQ29udGFpbmVyIC8+LCBwbHVnaW5TZXR0aW5nc0NvbnRhaW5lcilcclxuICAgIH1cclxuXHJcbiAgICBhZGRCdXR0b24gPSAoXHJcbiAgICAgICAgbmFtZUlkOiBzdHJpbmcsXHJcbiAgICAgICAgZGVzY3JpcHRpb246IHN0cmluZyxcclxuICAgICAgICB0ZXh0OiBzdHJpbmcsXHJcbiAgICAgICAgb25DbGljazogKGU6IFJlYWN0Lk1vdXNlRXZlbnQ8SFRNTEJ1dHRvbkVsZW1lbnQsIE1vdXNlRXZlbnQ+KSA9PiB2b2lkID0gY29uc3RWb2lkLFxyXG4gICAgICAgIGV2ZW50czogQnV0dG9uRmllbGRbXCJldmVudHNcIl0gPSB7fSxcclxuICAgICkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy5nZXRJZChuYW1lSWQpXHJcblxyXG4gICAgICAgIGV2ZW50cy5vbkNsaWNrID0gb25DbGlja1xyXG5cclxuICAgICAgICB0aGlzLnNlY3Rpb25GaWVsZHNbbmFtZUlkXSA9IHtcclxuICAgICAgICAgICAgaWQsXHJcbiAgICAgICAgICAgIHR5cGU6IEZpZWxkVHlwZS5CVVRUT04sXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICB0ZXh0LFxyXG4gICAgICAgICAgICBldmVudHMsXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzXHJcbiAgICB9XHJcblxyXG4gICAgYWRkVG9nZ2xlID0gKFxyXG4gICAgICAgIG5hbWVJZDogc3RyaW5nLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBzdHJpbmcsXHJcbiAgICAgICAgZGVmYXVsdFZhbHVlID0gdGFzay5vZih0cnVlKSxcclxuICAgICAgICBvbkNoYW5nZTogKGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB2b2lkID0gY29uc3RWb2lkLFxyXG4gICAgICAgIGV2ZW50czogVG9nZ2xlRmllbGRbXCJldmVudHNcIl0gPSB7fSxcclxuICAgICkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy5nZXRJZChuYW1lSWQpXHJcblxyXG4gICAgICAgIFNldHRpbmdzU2VjdGlvbi5zZXREZWZhdWx0RmllbGRWYWx1ZShpZCwgZGVmYXVsdFZhbHVlKVxyXG5cclxuICAgICAgICBldmVudHMub25DaGFuZ2UgPSBvbkNoYW5nZVxyXG4gICAgICAgIHRoaXMuc2VjdGlvbkZpZWxkc1tuYW1lSWRdID0ge1xyXG4gICAgICAgICAgICBpZCxcclxuICAgICAgICAgICAgdHlwZTogRmllbGRUeXBlLlRPR0dMRSxcclxuICAgICAgICAgICAgZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgIGV2ZW50cyxcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuXHJcbiAgICBhZGRJbnB1dCA9IChcclxuICAgICAgICBuYW1lSWQ6IHN0cmluZyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogc3RyaW5nLFxyXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogdGFzay5UYXNrPHN0cmluZz4sXHJcbiAgICAgICAgb25DaGFuZ2U6IChlOiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4gdm9pZCA9IGNvbnN0Vm9pZCxcclxuICAgICAgICBpbnB1dFR5cGUgPSBcInRleHRcIixcclxuICAgICAgICBldmVudHM6IElucHV0RmllbGRbXCJldmVudHNcIl0gPSB7fSxcclxuICAgICkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy5nZXRJZChuYW1lSWQpXHJcblxyXG4gICAgICAgIFNldHRpbmdzU2VjdGlvbi5zZXREZWZhdWx0RmllbGRWYWx1ZShpZCwgZGVmYXVsdFZhbHVlKVxyXG5cclxuICAgICAgICBldmVudHMub25DaGFuZ2UgPSBvbkNoYW5nZVxyXG4gICAgICAgIHRoaXMuc2VjdGlvbkZpZWxkc1tuYW1lSWRdID0ge1xyXG4gICAgICAgICAgICBpZCxcclxuICAgICAgICAgICAgdHlwZTogRmllbGRUeXBlLklOUFVULFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgaW5wdXRUeXBlLFxyXG4gICAgICAgICAgICBldmVudHMsXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG5cclxuICAgIGFkZERyb3BEb3duID0gKFxyXG4gICAgICAgIG5hbWVJZDogc3RyaW5nLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBzdHJpbmcsXHJcbiAgICAgICAgb3B0aW9uczogc3RyaW5nW10sXHJcbiAgICAgICAgZGVmYXVsdFZhbHVlID0gdGFzay5vZigwKSxcclxuICAgICAgICBvbkNoYW5nZTogKGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxTZWxlY3RFbGVtZW50PikgPT4gdm9pZCA9IGNvbnN0Vm9pZCxcclxuICAgICAgICBldmVudHM6IERyb3Bkb3duRmllbGRbXCJldmVudHNcIl0gPSB7fSxcclxuICAgICkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy5nZXRJZChuYW1lSWQpXHJcblxyXG4gICAgICAgIFNldHRpbmdzU2VjdGlvbi5zZXREZWZhdWx0RmllbGRWYWx1ZShpZCwgZGVmYXVsdFZhbHVlKVxyXG5cclxuICAgICAgICBldmVudHMub25DaGFuZ2UgPSBvbkNoYW5nZVxyXG4gICAgICAgIHRoaXMuc2VjdGlvbkZpZWxkc1tuYW1lSWRdID0ge1xyXG4gICAgICAgICAgICBpZCxcclxuICAgICAgICAgICAgdHlwZTogRmllbGRUeXBlLkRST1BET1dOLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgb3B0aW9ucyxcclxuICAgICAgICAgICAgZXZlbnRzLFxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG5cclxuICAgIGFkZEhpZGRlbiA9IChuYW1lSWQ6IHN0cmluZywgZGVmYXVsdFZhbHVlOiBhbnkpID0+IHtcclxuICAgICAgICBjb25zdCBpZCA9IHRoaXMuZ2V0SWQobmFtZUlkKVxyXG5cclxuICAgICAgICBTZXR0aW5nc1NlY3Rpb24uc2V0RGVmYXVsdEZpZWxkVmFsdWUoaWQsIGRlZmF1bHRWYWx1ZSlcclxuXHJcbiAgICAgICAgdGhpcy5zZWN0aW9uRmllbGRzW25hbWVJZF0gPSB7XHJcbiAgICAgICAgICAgIGlkLFxyXG4gICAgICAgICAgICB0eXBlOiBGaWVsZFR5cGUuSElEREVOLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJcIixcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuXHJcbiAgICBnZXRJZCA9IChuYW1lSWQ6IHN0cmluZykgPT4gYGV4dGVuc2lvbnM6JHt0aGlzLnNlY3Rpb25JZH06JHtuYW1lSWR9YFxyXG5cclxuICAgIHByaXZhdGUgdXNlU3RhdGVGb3IgPSA8QSw+KGlkOiBzdHJpbmcpID0+IHtcclxuICAgICAgICBjb25zdCBbdmFsdWUsIHNldFZhbHVlU3RhdGVdID0gUmVhY3QudXNlU3RhdGUoU2V0dGluZ3NTZWN0aW9uLmdldEZpZWxkVmFsdWU8QT4oaWQpKVxyXG5cclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICB2YWx1ZSxcclxuICAgICAgICAgICAgKG5ld1ZhbHVlOiBBKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAobmV3VmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFZhbHVlU3RhdGUobmV3VmFsdWUpXHJcbiAgICAgICAgICAgICAgICAgICAgU2V0dGluZ3NTZWN0aW9uLnNldEZpZWxkVmFsdWUoaWQhLCBuZXdWYWx1ZSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICBdIGFzIGNvbnN0XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldEZpZWxkVmFsdWUgPSA8Uiw+KGlkOiBzdHJpbmcpOiBSID0+IHtcclxuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShTcGljZXRpZnkuTG9jYWxTdG9yYWdlLmdldChpZCkgPz8gXCJudWxsXCIpIC8vIFwibnVsbFwiIGlzIHBhcnNlZCBhcyBudWxsLCB0aGUgbW9yZSB5b3Uga25vd1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBzZXRGaWVsZFZhbHVlID0gKGlkOiBzdHJpbmcsIG5ld1ZhbHVlOiBhbnkpID0+IHtcclxuICAgICAgICBTcGljZXRpZnkuTG9jYWxTdG9yYWdlLnNldChpZCwgSlNPTi5zdHJpbmdpZnkobmV3VmFsdWUpKVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIHNldERlZmF1bHRGaWVsZFZhbHVlID0gYXN5bmMgKGlkOiBzdHJpbmcsIGRlZmF1bHRWYWx1ZTogdGFzay5UYXNrPGFueT4pID0+IHtcclxuICAgICAgICBpZiAoU2V0dGluZ3NTZWN0aW9uLmdldEZpZWxkVmFsdWUoaWQpID09PSBudWxsKSBTZXR0aW5nc1NlY3Rpb24uc2V0RmllbGRWYWx1ZShpZCwgYXdhaXQgZGVmYXVsdFZhbHVlKCkpXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBGaWVsZHNDb250YWluZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgW3JlcmVuZGVyLCBzZXRSZXJlbmRlcl0gPSBSZWFjdC51c2VTdGF0ZTxudW1iZXI+KDApXHJcbiAgICAgICAgdGhpcy5zZXRSZXJlbmRlciA9IHNldFJlcmVuZGVyXHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwieC1zZXR0aW5ncy1zZWN0aW9uXCIga2V5PXtyZXJlbmRlcn0+XHJcbiAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwiVHlwZV9fVHlwZUVsZW1lbnQtc2MtZ29saTNqLTAgVHlwZUVsZW1lbnQtY2VsbG8tdGV4dEJhc2UtdHlwZVwiPnt0aGlzLm5hbWV9PC9oMj5cclxuICAgICAgICAgICAgICAgIHtPYmplY3QuZW50cmllcyh0aGlzLnNlY3Rpb25GaWVsZHMpLm1hcCgoW25hbWVJZCwgZmllbGRdKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDx0aGlzLkZpZWxkIGZpZWxkPXtmaWVsZH0gLz5cclxuICAgICAgICAgICAgICAgIH0pfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBGaWVsZCA9ICh7IGZpZWxkIH06IHsgZmllbGQ6IFNldHRpbmdzRmllbGQgfSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGlzVHlwZSA9IGlzPFNldHRpbmdzRmllbGQ+KFwidHlwZVwiKVxyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIngtc2V0dGluZ3Mtcm93XCI+XHJcbiAgICAgICAgICAgICAgICA8dGhpcy5TZXR0aW5nRGVzY3JpcHRpb24gaWQ9e2ZpZWxkLmlkfSBkZXNjcmlwdGlvbj17ZmllbGQuZGVzY3JpcHRpb259IC8+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIngtc2V0dGluZ3Mtc2Vjb25kQ29sdW1uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAge2d1YXJkNChbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtpc1R5cGU8SW5wdXRGaWVsZD4oRmllbGRUeXBlLklOUFVUKSwgdGhpcy5TZXR0aW5nSW5wdXRGaWVsZF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtpc1R5cGUoRmllbGRUeXBlLkJVVFRPTiksIHRoaXMuU2V0dGluZ0J1dHRvbkZpZWxkXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgW2lzVHlwZShGaWVsZFR5cGUuVE9HR0xFKSwgdGhpcy5TZXR0aW5nVG9nZ2xlRmllbGRdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbaXNUeXBlKEZpZWxkVHlwZS5EUk9QRE9XTiksIHRoaXMuU2V0dGluZ0Ryb3Bkb3duRmllbGRdLFxyXG4gICAgICAgICAgICAgICAgICAgIF0pKHRoaXMuU2V0dGluZ0hpZGRlbikoZmllbGQpfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIClcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIFNldHRpbmdEZXNjcmlwdGlvbiA9ICh7IGlkLCBkZXNjcmlwdGlvbiB9OiB7IGlkOiBzdHJpbmc7IGRlc2NyaXB0aW9uOiBzdHJpbmcgfSkgPT4gKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwieC1zZXR0aW5ncy1maXJzdENvbHVtblwiPlxyXG4gICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiVHlwZV9fVHlwZUVsZW1lbnQtc2MtZ29saTNqLTAgVHlwZUVsZW1lbnQtdmlvbGEtdGV4dFN1YmR1ZWQtdHlwZVwiIGh0bWxGb3I9e2lkfT5cclxuICAgICAgICAgICAgICAgIHtkZXNjcmlwdGlvbn1cclxuICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIClcclxuXHJcbiAgICBwcml2YXRlIFNldHRpbmdCdXR0b25GaWVsZCA9IChmaWVsZDogQnV0dG9uRmllbGQpID0+IChcclxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJcIj5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgaWQ9e2ZpZWxkLmlkfVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiQnV0dG9uLXNjLXkwZ3RieC0wIEJ1dHRvbi1zbS1idXR0b25TZWNvbmRhcnktdXNlQnJvd3NlckRlZmF1bHRGb2N1c1N0eWxlIHgtc2V0dGluZ3MtYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgIHsuLi5maWVsZC5ldmVudHN9XHJcbiAgICAgICAgICAgICAgICB0eXBlPXtmaWVsZC50eXBlfVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICB7ZmllbGQudGV4dH1cclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgPC9zcGFuPlxyXG4gICAgKVxyXG5cclxuICAgIHByaXZhdGUgU2V0dGluZ1RvZ2dsZUZpZWxkID0gKGZpZWxkOiBUb2dnbGVGaWVsZCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IFt2YWx1ZSwgc2V0VmFsdWVdID0gdGhpcy51c2VTdGF0ZUZvcjxib29sZWFuPihmaWVsZC5pZClcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cIngtc2V0dGluZ3Mtc2Vjb25kQ29sdW1uIHgtdG9nZ2xlLXdyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIGlkPXtmaWVsZC5pZH1cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ4LXRvZ2dsZS1pbnB1dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcclxuICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtTZXR0aW5nc1NlY3Rpb24uZ2V0RmllbGRWYWx1ZShmaWVsZC5pZCl9XHJcbiAgICAgICAgICAgICAgICAgICAgey4uLmZpZWxkLmV2ZW50c31cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFZhbHVlKGUuY3VycmVudFRhcmdldC5jaGVja2VkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZC5ldmVudHMub25DaGFuZ2U/LihlKVxyXG4gICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwieC10b2dnbGUtaW5kaWNhdG9yV3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIngtdG9nZ2xlLWluZGljYXRvclwiPjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICApXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBTZXR0aW5nSW5wdXRGaWVsZCA9IChmaWVsZDogSW5wdXRGaWVsZCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IFt2YWx1ZSwgc2V0VmFsdWVdID0gdGhpcy51c2VTdGF0ZUZvcjxzdHJpbmc+KGZpZWxkLmlkKVxyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIngtc2V0dGluZ3MtaW5wdXRcIlxyXG4gICAgICAgICAgICAgICAgaWQ9e2ZpZWxkLmlkfVxyXG4gICAgICAgICAgICAgICAgZGlyPVwibHRyXCJcclxuICAgICAgICAgICAgICAgIHZhbHVlPXtTZXR0aW5nc1NlY3Rpb24uZ2V0RmllbGRWYWx1ZShmaWVsZC5pZCl9XHJcbiAgICAgICAgICAgICAgICB0eXBlPXtmaWVsZC5pbnB1dFR5cGV9XHJcbiAgICAgICAgICAgICAgICB7Li4uZmllbGQuZXZlbnRzfVxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFZhbHVlKGUuY3VycmVudFRhcmdldC52YWx1ZSlcclxuICAgICAgICAgICAgICAgICAgICBmaWVsZC5ldmVudHMub25DaGFuZ2U/LihlKVxyXG4gICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICApXHJcbiAgICB9XHJcbiAgICBwcml2YXRlIFNldHRpbmdEcm9wZG93bkZpZWxkID0gKGZpZWxkOiBEcm9wZG93bkZpZWxkKSA9PiB7XHJcbiAgICAgICAgY29uc3QgW3ZhbHVlLCBzZXRWYWx1ZV0gPSB0aGlzLnVzZVN0YXRlRm9yPG51bWJlcj4oZmllbGQuaWQpXHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxzZWxlY3RcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1haW4tZHJvcERvd24tZHJvcERvd25cIlxyXG4gICAgICAgICAgICAgICAgaWQ9e2ZpZWxkLmlkfVxyXG4gICAgICAgICAgICAgICAgey4uLmZpZWxkLmV2ZW50c31cclxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBzZXRWYWx1ZShlLmN1cnJlbnRUYXJnZXQuc2VsZWN0ZWRJbmRleClcclxuICAgICAgICAgICAgICAgICAgICBmaWVsZC5ldmVudHMub25DaGFuZ2U/LihlKVxyXG4gICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAge2ZpZWxkLm9wdGlvbnMubWFwKChvcHRpb24sIGkpID0+IChcclxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHNlbGVjdGVkPXtpID09PSBTZXR0aW5nc1NlY3Rpb24uZ2V0RmllbGRWYWx1ZShmaWVsZC5pZCl9IHZhbHVlPXtpICsgMX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtvcHRpb259XHJcbiAgICAgICAgICAgICAgICAgICAgPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICApKX1cclxuICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgU2V0dGluZ0hpZGRlbiA9ICgpID0+IDw+PC8+XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBlbnVtIEZpZWxkVHlwZSB7XHJcbiAgICBISURERU4gPSBcImhpZGRlblwiLFxyXG4gICAgSU5QVVQgPSBcImlucHV0XCIsXHJcbiAgICBEUk9QRE9XTiA9IFwiZHJvcGRvd25cIixcclxuICAgIEJVVFRPTiA9IFwiYnV0dG9uXCIsXHJcbiAgICBUT0dHTEUgPSBcInRvZ2dsZVwiLFxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEJhc2VGaWVsZDxBPiB7XHJcbiAgICBpZDogc3RyaW5nXHJcbiAgICB0eXBlOiBGaWVsZFR5cGVcclxuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmdcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBCdXR0b25GaWVsZCBleHRlbmRzIEJhc2VGaWVsZDxuZXZlcj4ge1xyXG4gICAgdHlwZTogRmllbGRUeXBlLkJVVFRPTlxyXG4gICAgdGV4dDogc3RyaW5nXHJcbiAgICBldmVudHM6IFBhcnRpYWw8UmVhY3QuQnV0dG9uSFRNTEF0dHJpYnV0ZXM8SFRNTEJ1dHRvbkVsZW1lbnQ+PlxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFRvZ2dsZUZpZWxkIGV4dGVuZHMgQmFzZUZpZWxkPGJvb2xlYW4+IHtcclxuICAgIHR5cGU6IEZpZWxkVHlwZS5UT0dHTEVcclxuICAgIGV2ZW50czogUGFydGlhbDxSZWFjdC5JbnB1dEhUTUxBdHRyaWJ1dGVzPEhUTUxJbnB1dEVsZW1lbnQ+PlxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElucHV0RmllbGQgZXh0ZW5kcyBCYXNlRmllbGQ8c3RyaW5nPiB7XHJcbiAgICB0eXBlOiBGaWVsZFR5cGUuSU5QVVRcclxuICAgIGlucHV0VHlwZTogc3RyaW5nXHJcbiAgICBldmVudHM6IFBhcnRpYWw8UmVhY3QuSW5wdXRIVE1MQXR0cmlidXRlczxIVE1MSW5wdXRFbGVtZW50Pj5cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBEcm9wZG93bkZpZWxkIGV4dGVuZHMgQmFzZUZpZWxkPG51bWJlcj4ge1xyXG4gICAgdHlwZTogRmllbGRUeXBlLkRST1BET1dOXHJcbiAgICBvcHRpb25zOiBzdHJpbmdbXVxyXG4gICAgZXZlbnRzOiBQYXJ0aWFsPFJlYWN0LlNlbGVjdEhUTUxBdHRyaWJ1dGVzPEhUTUxTZWxlY3RFbGVtZW50Pj5cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBIaWRkZW5GaWVsZCBleHRlbmRzIEJhc2VGaWVsZDxhbnk+IHtcclxuICAgIHR5cGU6IEZpZWxkVHlwZS5ISURERU5cclxufVxyXG5cclxuZXhwb3J0IHR5cGUgU2V0dGluZ3NGaWVsZCA9IEhpZGRlbkZpZWxkIHwgRHJvcGRvd25GaWVsZCB8IElucHV0RmllbGQgfCBCdXR0b25GaWVsZCB8IFRvZ2dsZUZpZWxkXHJcbiIsICJleHBvcnQgY29uc3QgUkFUSU5HU19GT0xERVJfTkFNRSA9IFwiUmF0aW5nc1wiXHJcblxyXG5leHBvcnQgY29uc3QgZ2V0VHJhY2tMaXN0cyA9ICgpID0+IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbDxIVE1MRGl2RWxlbWVudD4oXCIubWFpbi10cmFja0xpc3QtaW5kZXhhYmxlXCIpKVxyXG5leHBvcnQgY29uc3QgZ2V0VHJhY2tMaXN0VHJhY2tzID0gKHRyYWNrTGlzdDogSFRNTERpdkVsZW1lbnQpID0+XHJcbiAgICBBcnJheS5mcm9tKHRyYWNrTGlzdC5xdWVyeVNlbGVjdG9yQWxsPEhUTUxEaXZFbGVtZW50PihcImRpdi5tYWluLXRyYWNrTGlzdC10cmFja0xpc3RSb3dcIikpXHJcblxyXG5leHBvcnQgY29uc3QgZ2V0VHJhY2tMaXN0VHJhY2tVcmkgPSAodHJhY2s6IEhUTUxEaXZFbGVtZW50KSA9PiAoXHJcbiAgICAodHJhY2sgPSBPYmplY3QudmFsdWVzKHRyYWNrKVswXS5jaGlsZC5jaGlsZC5jaGlsZC5jaGlsZCksXHJcbiAgICAodHJhY2sgYXMgYW55KS5wZW5kaW5nUHJvcHMudXJpID8/ICh0cmFjayBhcyBhbnkpLmNoaWxkLnBlbmRpbmdQcm9wcy51cmlcclxuKVxyXG5cclxuZXhwb3J0IGNvbnN0IGdldE5vd1BsYXlpbmdCYXIgPSAoKSA9PiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxEaXZFbGVtZW50PihcImRpdi5tYWluLW5vd1BsYXlpbmdCYXItbm93UGxheWluZ0JhclwiKSFcclxuZXhwb3J0IGNvbnN0IGdldENvbGxlY3Rpb25BY3Rpb25CYXJSb3cgPSAoKSA9PlxyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MRGl2RWxlbWVudD4oYGRpdi5tYWluLWFjdGlvbkJhci1BY3Rpb25CYXJSb3dgKSFcclxuXHJcbmV4cG9ydCBjb25zdCBwbGF5bGlzdEJ1dHRvblNlbGVjdG9yID0gYGJ1dHRvblthcmlhLWxhYmVsPVwiQWRkIHRvIExpa2VkIFNvbmdzXCJdLCBidXR0b25bYXJpYS1sYWJlbD1cIkFkZCB0byBwbGF5bGlzdFwiXWBcclxuZXhwb3J0IGNvbnN0IGdldFBsYXlsaXN0QnV0dG9uID0gKHBhcmVudDogSFRNTEVsZW1lbnQpID0+XHJcbiAgICBwYXJlbnQucXVlcnlTZWxlY3RvcjxIVE1MQnV0dG9uRWxlbWVudD4ocGxheWxpc3RCdXR0b25TZWxlY3RvcikhXHJcbmV4cG9ydCBjb25zdCBnZXRDb2xsZWN0aW9uUGxheWxpc3RCdXR0b24gPSAoKSA9PiB7XHJcbiAgICBjb25zdCBhYiA9IGdldENvbGxlY3Rpb25BY3Rpb25CYXJSb3coKVxyXG4gICAgcmV0dXJuIGFiLnF1ZXJ5U2VsZWN0b3I8SFRNTEJ1dHRvbkVsZW1lbnQ+KFxyXG4gICAgICAgIGBidXR0b25bYXJpYS1sYWJlbD1cIlJlbW92ZSBmcm9tIFlvdXIgTGlicmFyeVwiXSwgYnV0dG9uW2FyaWEtbGFiZWw9XCJTYXZlIHRvIFlvdXIgTGlicmFyeVwiXWAsXHJcbiAgICApIVxyXG59XHJcbiJdLAogICJtYXBwaW5ncyI6ICJBQUFBLE9BQVMsV0FBQUEsT0FBZSxxQ0NBeEIsT0FBUyxTQUFTQyxFQUFJLFlBQVlDLE1BQVMsdUJDQTNDLE9BQ0ksU0FBU0MsRUFDVCxNQUFBQyxHQUNBLFVBQVVDLEdBQ1YsVUFBVUMsR0FFVixhQUFhQyxHQUNiLFlBQVlDLE1BQ1QsdUJBQ1AsT0FBUyxTQUFBQyxHQUFPLFdBQUFDLE9BQWUsb0NBUXhCLElBQU1DLEVBQ1RDLEdBRUFDLEdBQ0lELENBTUosRUEyQkcsSUFBTUUsRUFDRkMsR0FDUCxNQUFPQyxHQUNIRCxFQUFFLE1BQU1DLENBQUUsRUFFTEMsRUFDTEMsR0FDVUMsR0FDYkMsR0FDR0EsRUFBTUYsQ0FBQyxJQUFNQyxFQVNkLElBQU1FLEVBQ1JDLEdBQ01DLEdBQ0hDLEVBQUUsS0FBS0MsRUFBRyxTQUFTSCxDQUFDLEVBQU1HLEVBQUcsSUFBSUYsQ0FBQyxFQUFHRyxHQUFNLFFBQVEsSUFBSUEsQ0FBRSxFQUFHQyxFQUFRRixFQUFHLE9BQU8sQ0FBQyxFQWdCaEYsSUFBTUcsRUFBZ0NDLEdBQ3pDQyxFQUFFLEtBQUtELEVBQUlDLEVBQUUsT0FBUUMsR0FBV0MsR0FBRyxVQUFVLEtBQUssU0FBUyxFQUFFQyxHQUFJLEVBQUUsQ0FBQyxFQUFHSCxFQUFFLFFBQVEsRUN2RnJGLE9BQVMsU0FBU0ksR0FBRyxZQUFZQyxNQUFTLHVCQVVuQyxJQUFNQyxFQUFhLENBQ3RCLE9BQVEsQ0FDSixNQUFPRCxFQUFFLFNBQVMsQ0FBRSxPQUFRLE9BQVEsQ0FBa0IsRUFDdEQsUUFBVUUsSUFBcUIsQ0FBRSxPQUFRLENBQUUsSUFBQUEsQ0FBSSxDQUFFLEdBQ2pELFFBQVVDLElBQWlCLENBQUUsT0FBUSxDQUFFLElBQUFBLENBQUksQ0FBRSxFQUNqRCxFQUNBLE1BQU8sQ0FDSCxJQUFLSCxFQUFFLFNBQVMsQ0FBRSxNQUFPLEtBQU0sQ0FBa0IsRUFDakQsUUFBVUUsSUFBcUIsQ0FBRSxNQUFPLENBQUUsSUFBQUEsQ0FBSSxDQUFFLEdBQ2hELFFBQVVDLElBQWlCLENBQUUsTUFBTyxDQUFFLElBQUFBLENBQUksQ0FBRSxFQUNoRCxDQUNKLEVBOERPLElBQU1DLEVBQVNDLEdBQWUsSUFBSSxRQUFRQyxHQUFXLFdBQVdBLEVBQVNELENBQUUsQ0FBQyxFQ25GNUUsSUFBTUUsRUFBZ0IsTUFBT0MsRUFBaUJDLEVBQVMsRUFBR0MsRUFBUSxPQUVqRSxNQUFNLFVBQVUsUUFBUSxRQUFRLFVBQVUsUUFBUSxZQUFZLFNBQVUsQ0FDcEUsSUFBQUYsRUFDQSxPQUFRLFVBQVUsT0FBTyxVQUFVLEVBQ25DLE9BQUFDLEVBQ0EsTUFBQUMsQ0FDSixDQUFDLEdBQ0gsS0FBSyxXQWdDSixJQUFNQyxFQUEwQixNQUFPQyxFQUFxQkMsSUFDL0QsVUFBVSxZQUFZLElBQUksd0NBQXdDRCxDQUFRLFVBQVcsQ0FDakYsT0FBUUMsRUFBTyxJQUFJQyxJQUFRLENBQUUsSUFBQUEsQ0FBSSxFQUFFLENBQ3ZDLENBQUMsRUFFUUMsR0FBc0JDLEVBQVUsRUFBRSxFQUMzQyxNQUFPQyxJQUNGLE1BQU0sVUFBVSxZQUFZLElBQUksMENBQTBDQSxFQUFJLEtBQUssR0FBRyxDQUFDLEVBQUUsR0FDckYsT0FDYixFQUVhQyxHQUF3QkYsRUFBVSxDQUFDLEVBRTVDLE1BQU8sQ0FBQ0csQ0FBRSxJQUFtQixDQUN4QixNQUFNLFVBQVUsWUFBWSxJQUFJLHdDQUF3Q0EsQ0FBRSxFQUFFLENBQ2pGLENBQ0osRUFDYUMsR0FBcUJKLEVBQVUsRUFBRSxFQUMxQyxNQUFPQyxJQUNGLE1BQU0sVUFBVSxZQUFZLElBQUkseUNBQXlDQSxFQUFJLEtBQUssR0FBRyxDQUFDLEVBQUUsR0FDcEYsTUFDYixFQUVhSSxHQUFxQkwsRUFBVSxFQUFFLEVBQzFDLE1BQU9DLElBQ0YsTUFBTSxVQUFVLFlBQVksSUFBSSx5Q0FBeUNBLEVBQUksS0FBSyxHQUFHLENBQUMsRUFBRSxHQUNwRixNQUNiLEVBcUJPLElBQU1LLEVBQTZCLE1BQU9DLEVBQWlCQyxFQUFTLEVBQUdDLEVBQVEsT0FDakYsTUFBTSxVQUFVLFNBQVMsV0FBVyxVQUFVLENBQUUsSUFBQUYsRUFBSyxPQUFBQyxFQUFRLE1BQUFDLENBQU0sQ0FBQyxHQUFHLE1BRS9EQyxFQUE0QixNQUFPSCxJQUMzQyxNQUFNLFVBQVUsU0FBUyxZQUFZLFlBQVlBLENBQUcsR0FBRyxNQUUvQ0ksRUFBbUIsTUFBT0MsRUFBY0MsRUFBMEIsQ0FBQyxJQUM1RSxNQUFNLFVBQVUsU0FBUyxZQUFZLGFBQWFELEVBQU1DLENBQVEsRUFLN0QsSUFBTUMsRUFBcUIsTUFBT0MsRUFBY0MsRUFBMEIsQ0FBQyxJQUM5RSxNQUFNLFVBQVUsU0FBUyxZQUFZLGVBQWVELEVBQU1DLENBQVEsRUFXL0QsSUFBTUMsRUFBNEIsTUFBT0MsRUFBc0JDLElBQ2xFLE1BQU0sVUFBVSxTQUFTLHVCQUF1QixrQkFBa0JELEVBQVVDLEVBQWdCLFNBQVcsU0FBUyxFQUk3RyxJQUFNQyxFQUFrQixNQUFPQyxHQUNqQyxNQUFNLFVBQVUsU0FBUyxZQUFZLFlBQVksQ0FBRSxVQUFXQSxDQUFPLENBQUMsRUFHcEUsSUFBTUMsRUFBd0IsTUFBT0MsRUFBc0JDLEVBQXNCQyxFQUEwQixDQUFDLElBQy9HLE1BQU0sVUFBVSxTQUFTLFlBQVksSUFBSUYsRUFBVUMsRUFBUUMsQ0FBUSxFQXFCaEUsSUFBTUMsR0FBbUIsTUFBT0MsRUFBbUJDLEVBQWdCQyxFQUFtQkMsRUFBaUIsS0FBTyxDQUNqSCxJQUFNQyxFQUFNLElBQUksSUFBSSxvQ0FBb0MsRUFDeEQsT0FBQUEsRUFBSSxhQUFhLE9BQU8sU0FBVSxlQUFlLEVBQ2pEQSxFQUFJLGFBQWEsT0FBTyxVQUFXSixDQUFTLEVBQzVDSSxFQUFJLGFBQWEsT0FBTyxTQUFVSCxDQUFNLEVBQ3hDRyxFQUFJLGFBQWEsT0FBTyxRQUFTRixDQUFTLEVBQzFDRSxFQUFJLGFBQWEsT0FBTyxTQUFVLE1BQU0sRUFDeENBLEVBQUksYUFBYSxPQUFPLFdBQVlELENBQWMsRUFFMUMsTUFBTSxNQUFNQyxDQUFHLEVBQUUsS0FBS0MsR0FBT0EsRUFBSSxLQUFLLENBQUMsQ0FDbkQsRUFFYUMsR0FBMkJDLEVBQVNSLEVBQWdCLEVDaEtqRSxPQUFTLFNBQUFTLE9BQWEsaURDQXRCLE9BQVMsU0FBU0MsRUFBSSxZQUFZQyxNQUFTLHVCQ0EzQyxPQUFTLFFBQUFDLE1BQVksdUJDQXJCLE9BQVMsUUFBQUMsTUFBWSx1QkFDckIsT0FBUyxhQUFBQyxNQUFpQixnQ0FJMUIsR0FBTSxDQUFFLE1BQUFDLEVBQU8sU0FBQUMsRUFBUyxFQUFJLFVBRWZDLEVBQU4sTUFBTUMsQ0FBZ0IsQ0FJekIsWUFDV0MsRUFDQUMsRUFDQUMsRUFBa0QsQ0FBQyxFQUM1RCxDQUhTLFVBQUFGLEVBQ0EsZUFBQUMsRUFDQSxtQkFBQUMsRUFMWCxLQUFRLFlBQStCLEtBYXZDLGtCQUFlLFNBQVksQ0FDdkIsS0FBTyxDQUFDLFdBQVcsVUFBVSxTQUFTLFFBQVEsTUFBTUMsRUFBTSxHQUFHLEVBRXpELEtBQUsscUJBQXFCLEtBQUssb0JBQW9CLEVBRXZELEtBQUssb0JBQXNCLFVBQVUsU0FBUyxRQUFRLE9BQU8sQ0FBQyxDQUFFLFNBQUFDLEVBQVcsRUFBRyxJQUFNLENBQzVFQSxJQUFhLGdCQUFnQixLQUFLLE9BQU8sQ0FDakQsQ0FBQyxFQUVHLFVBQVUsU0FBUyxRQUFRLFNBQVMsV0FBYSxnQkFBZ0IsTUFBTSxLQUFLLE9BQU8sQ0FDM0YsRUFFQSxjQUFXLElBQ1AsSUFBSSxNQUNBLENBQUMsRUFDRCxDQUNJLElBQUssQ0FBQ0MsRUFBUUMsSUFBU1AsRUFBZ0IsY0FBYyxLQUFLLE1BQU1PLEVBQUssU0FBUyxDQUFDLENBQUMsQ0FDcEYsQ0FDSixFQUVKLGNBQVcsSUFBTSxDQUNULEtBQUssYUFBYSxLQUFLLFlBQVksS0FBSyxPQUFPLENBQUMsQ0FDeEQsRUFFQSxLQUFRLE9BQVMsU0FBWSxDQUN6QixLQUFPLENBQUMsU0FBUyxlQUFlLGlDQUFpQyxHQUFHLENBQ2hFLEdBQUksVUFBVSxTQUFTLFFBQVEsU0FBUyxXQUFhLGVBQWdCLE9BQ3JFLE1BQU1ILEVBQU0sR0FBRyxDQUNuQixDQUVBLElBQU1JLEVBQXVCLFNBQVMsY0FBYyx1QkFBdUIsRUFFdkVDLEVBQTBCLE1BQU0sS0FBS0QsRUFBcUIsUUFBUSxFQUFFLEtBQUssQ0FBQyxDQUFFLEdBQUFFLENBQUcsSUFBTUEsSUFBTyxLQUFLLFNBQVMsRUFFekdELElBQ0RBLEVBQTBCLFNBQVMsY0FBYyxLQUFLLEVBQ3REQSxFQUF3QixHQUFLLEtBQUssVUFDbENBLEVBQXdCLFVBQVksb0JBQ3BDRCxFQUFxQixZQUFZQyxDQUF1QixHQUc1RFgsR0FBUyxPQUFPRCxFQUFBLGNBQUMsS0FBSyxnQkFBTCxJQUFxQixFQUFJWSxDQUF1QixDQUNyRSxFQUVBLGVBQVksQ0FDUkUsRUFDQUMsRUFDQUMsRUFDQUMsRUFBd0VDLEVBQ3hFQyxFQUFnQyxDQUFDLElBQ2hDLENBQ0QsSUFBTU4sRUFBSyxLQUFLLE1BQU1DLENBQU0sRUFFNUIsT0FBQUssRUFBTyxRQUFVRixFQUVqQixLQUFLLGNBQWNILENBQU0sRUFBSSxDQUN6QixHQUFBRCxFQUNBLEtBQU0sU0FDTixZQUFBRSxFQUNBLEtBQUFDLEVBQ0EsT0FBQUcsQ0FDSixFQUNPLElBQ1gsRUFFQSxlQUFZLENBQ1JMLEVBQ0FDLEVBQ0FLLEVBQWVDLEVBQUssR0FBRyxFQUFJLEVBQzNCQyxFQUE2REosRUFDN0RDLEVBQWdDLENBQUMsSUFDaEMsQ0FDRCxJQUFNTixFQUFLLEtBQUssTUFBTUMsQ0FBTSxFQUU1QixPQUFBWCxFQUFnQixxQkFBcUJVLEVBQUlPLENBQVksRUFFckRELEVBQU8sU0FBV0csRUFDbEIsS0FBSyxjQUFjUixDQUFNLEVBQUksQ0FDekIsR0FBQUQsRUFDQSxLQUFNLFNBQ04sWUFBQUUsRUFDQSxPQUFBSSxDQUNKLEVBQ08sSUFDWCxFQUVBLGNBQVcsQ0FDUEwsRUFDQUMsRUFDQUssRUFDQUUsRUFBNkRKLEVBQzdESyxFQUFZLE9BQ1pKLEVBQStCLENBQUMsSUFDL0IsQ0FDRCxJQUFNTixFQUFLLEtBQUssTUFBTUMsQ0FBTSxFQUU1QixPQUFBWCxFQUFnQixxQkFBcUJVLEVBQUlPLENBQVksRUFFckRELEVBQU8sU0FBV0csRUFDbEIsS0FBSyxjQUFjUixDQUFNLEVBQUksQ0FDekIsR0FBQUQsRUFDQSxLQUFNLFFBQ04sWUFBQUUsRUFDQSxVQUFBUSxFQUNBLE9BQUFKLENBQ0osRUFFTyxJQUNYLEVBRUEsaUJBQWMsQ0FDVkwsRUFDQUMsRUFDQVMsRUFDQUosRUFBZUMsRUFBSyxHQUFHLENBQUMsRUFDeEJDLEVBQThESixFQUM5REMsRUFBa0MsQ0FBQyxJQUNsQyxDQUNELElBQU1OLEVBQUssS0FBSyxNQUFNQyxDQUFNLEVBRTVCLE9BQUFYLEVBQWdCLHFCQUFxQlUsRUFBSU8sQ0FBWSxFQUVyREQsRUFBTyxTQUFXRyxFQUNsQixLQUFLLGNBQWNSLENBQU0sRUFBSSxDQUN6QixHQUFBRCxFQUNBLEtBQU0sV0FDTixZQUFBRSxFQUNBLFFBQUFTLEVBQ0EsT0FBQUwsQ0FDSixFQUNPLElBQ1gsRUFFQSxlQUFZLENBQUNMLEVBQWdCTSxJQUFzQixDQUMvQyxJQUFNUCxFQUFLLEtBQUssTUFBTUMsQ0FBTSxFQUU1QixPQUFBWCxFQUFnQixxQkFBcUJVLEVBQUlPLENBQVksRUFFckQsS0FBSyxjQUFjTixDQUFNLEVBQUksQ0FDekIsR0FBQUQsRUFDQSxLQUFNLFNBQ04sWUFBYSxFQUNqQixFQUNPLElBQ1gsRUFFQSxXQUFTQyxHQUFtQixjQUFjLEtBQUssU0FBUyxJQUFJQSxDQUFNLEdBRWxFLEtBQVEsWUFBbUJELEdBQWUsQ0FDdEMsR0FBTSxDQUFDWSxFQUFPQyxDQUFhLEVBQUkxQixFQUFNLFNBQVNHLEVBQWdCLGNBQWlCVSxDQUFFLENBQUMsRUFFbEYsTUFBTyxDQUNIWSxFQUNDRSxHQUFnQixDQUNUQSxJQUFhLFNBQ2JELEVBQWNDLENBQVEsRUFDdEJ4QixFQUFnQixjQUFjVSxFQUFLYyxDQUFRLEVBRW5ELENBQ0osQ0FDSixFQWNBLEtBQVEsZ0JBQWtCLElBQU0sQ0FDNUIsR0FBTSxDQUFDQyxFQUFVQyxDQUFXLEVBQUk3QixFQUFNLFNBQWlCLENBQUMsRUFDeEQsWUFBSyxZQUFjNkIsRUFHZjdCLEVBQUEsY0FBQyxPQUFJLFVBQVUscUJBQXFCLElBQUs0QixHQUNyQzVCLEVBQUEsY0FBQyxNQUFHLFVBQVUsaUVBQWlFLEtBQUssSUFBSyxFQUN4RixPQUFPLFFBQVEsS0FBSyxhQUFhLEVBQUUsSUFBSSxDQUFDLENBQUNjLEVBQVFnQixDQUFLLElBQzVDOUIsRUFBQSxjQUFDLEtBQUssTUFBTCxDQUFXLE1BQU84QixFQUFPLENBQ3BDLENBQ0wsQ0FFUixFQUVBLEtBQVEsTUFBUSxDQUFDLENBQUUsTUFBQUEsQ0FBTSxJQUFnQyxDQUNyRCxJQUFNQyxFQUFTQyxFQUFrQixNQUFNLEVBRXZDLE9BQ0loQyxFQUFBLGNBQUMsT0FBSSxVQUFVLGtCQUNYQSxFQUFBLGNBQUMsS0FBSyxtQkFBTCxDQUF3QixHQUFJOEIsRUFBTSxHQUFJLFlBQWFBLEVBQU0sWUFBYSxFQUN2RTlCLEVBQUEsY0FBQyxPQUFJLFVBQVUsMkJBQ1ZpQyxFQUFPLENBQ0osQ0FBQ0YsRUFBbUIsT0FBZSxFQUFHLEtBQUssaUJBQWlCLEVBQzVELENBQUNBLEVBQU8sUUFBZ0IsRUFBRyxLQUFLLGtCQUFrQixFQUNsRCxDQUFDQSxFQUFPLFFBQWdCLEVBQUcsS0FBSyxrQkFBa0IsRUFDbEQsQ0FBQ0EsRUFBTyxVQUFrQixFQUFHLEtBQUssb0JBQW9CLENBQzFELENBQUMsRUFBRSxLQUFLLGFBQWEsRUFBRUQsQ0FBSyxDQUNoQyxDQUNKLENBRVIsRUFFQSxLQUFRLG1CQUFxQixDQUFDLENBQUUsR0FBQWpCLEVBQUksWUFBQUUsQ0FBWSxJQUM1Q2YsRUFBQSxjQUFDLE9BQUksVUFBVSwwQkFDWEEsRUFBQSxjQUFDLFNBQU0sVUFBVSxtRUFBbUUsUUFBU2EsR0FDeEZFLENBQ0wsQ0FDSixFQUdKLEtBQVEsbUJBQXNCZSxHQUMxQjlCLEVBQUEsY0FBQyxRQUFLLFVBQVUsSUFDWkEsRUFBQSxjQUFDLFVBQ0csR0FBSThCLEVBQU0sR0FDVixVQUFVLDZGQUNULEdBQUdBLEVBQU0sT0FDVixLQUFNQSxFQUFNLE1BRVhBLEVBQU0sSUFDWCxDQUNKLEVBR0osS0FBUSxtQkFBc0JBLEdBQXVCLENBQ2pELEdBQU0sQ0FBQ0wsRUFBT1MsQ0FBUSxFQUFJLEtBQUssWUFBcUJKLEVBQU0sRUFBRSxFQUU1RCxPQUNJOUIsRUFBQSxjQUFDLFNBQU0sVUFBVSw0Q0FDYkEsRUFBQSxjQUFDLFNBQ0csR0FBSThCLEVBQU0sR0FDVixVQUFVLGlCQUNWLEtBQUssV0FDTCxRQUFTM0IsRUFBZ0IsY0FBYzJCLEVBQU0sRUFBRSxFQUM5QyxHQUFHQSxFQUFNLE9BQ1YsU0FBVUssR0FBSyxDQUNYRCxFQUFTQyxFQUFFLGNBQWMsT0FBTyxFQUNoQ0wsRUFBTSxPQUFPLFdBQVdLLENBQUMsQ0FDN0IsRUFDSixFQUNBbkMsRUFBQSxjQUFDLFFBQUssVUFBVSw2QkFDWkEsRUFBQSxjQUFDLFFBQUssVUFBVSxxQkFBcUIsQ0FDekMsQ0FDSixDQUVSLEVBRUEsS0FBUSxrQkFBcUI4QixHQUFzQixDQUMvQyxHQUFNLENBQUNMLEVBQU9TLENBQVEsRUFBSSxLQUFLLFlBQW9CSixFQUFNLEVBQUUsRUFFM0QsT0FDSTlCLEVBQUEsY0FBQyxTQUNHLFVBQVUsbUJBQ1YsR0FBSThCLEVBQU0sR0FDVixJQUFJLE1BQ0osTUFBTzNCLEVBQWdCLGNBQWMyQixFQUFNLEVBQUUsRUFDN0MsS0FBTUEsRUFBTSxVQUNYLEdBQUdBLEVBQU0sT0FDVixTQUFVSyxHQUFLLENBQ1hELEVBQVNDLEVBQUUsY0FBYyxLQUFLLEVBQzlCTCxFQUFNLE9BQU8sV0FBV0ssQ0FBQyxDQUM3QixFQUNKLENBRVIsRUFDQSxLQUFRLHFCQUF3QkwsR0FBeUIsQ0FDckQsR0FBTSxDQUFDTCxFQUFPUyxDQUFRLEVBQUksS0FBSyxZQUFvQkosRUFBTSxFQUFFLEVBRTNELE9BQ0k5QixFQUFBLGNBQUMsVUFDRyxVQUFVLHlCQUNWLEdBQUk4QixFQUFNLEdBQ1QsR0FBR0EsRUFBTSxPQUNWLFNBQVVLLEdBQUssQ0FDWEQsRUFBU0MsRUFBRSxjQUFjLGFBQWEsRUFDdENMLEVBQU0sT0FBTyxXQUFXSyxDQUFDLENBQzdCLEdBRUNMLEVBQU0sUUFBUSxJQUFJLENBQUNNLEVBQVFDLElBQ3hCckMsRUFBQSxjQUFDLFVBQU8sU0FBVXFDLElBQU1sQyxFQUFnQixjQUFjMkIsRUFBTSxFQUFFLEVBQUcsTUFBT08sRUFBSSxHQUN2RUQsQ0FDTCxDQUNILENBQ0wsQ0FFUixFQUVBLEtBQVEsY0FBZ0IsSUFBTXBDLEVBQUEsY0FBQUEsRUFBQSxhQUFFLENBelM3QixDQUVILFlBQU8sYUFBZSxTQUFZLENBQzlCLEtBQU8sRUFBRSxVQUFVLE9BQVMsVUFBVSxXQUFXTyxFQUFNLEdBQUcsRUFDMUQsT0FBTyxJQUNYLEVBb0tBLFlBQU8sY0FBcUJNLEdBQ2pCLEtBQUssTUFBTSxVQUFVLGFBQWEsSUFBSUEsQ0FBRSxHQUFLLE1BQU0sRUFHOUQsWUFBTyxjQUFnQixDQUFDQSxFQUFZYyxJQUFrQixDQUNsRCxVQUFVLGFBQWEsSUFBSWQsRUFBSSxLQUFLLFVBQVVjLENBQVEsQ0FBQyxDQUMzRCxFQUVBLFlBQWUscUJBQXVCLE1BQU9kLEVBQVlPLElBQWlDLENBQ2xGakIsRUFBZ0IsY0FBY1UsQ0FBRSxJQUFNLE1BQU1WLEVBQWdCLGNBQWNVLEVBQUksTUFBTU8sRUFBYSxDQUFDLENBQzFHLEVBdUhKLEVEblRBLElBQU1rQixHQUFzQixVQUV0QkMsRUFBVyxJQUFJQyxFQUFnQixpQkFBa0IsZ0JBQWdCLEVBQ2xFLFNBQVMsaUJBQWtCLDhCQUErQkMsRUFBSyxHQUFHLEdBQUcsQ0FBQyxFQUN0RSxTQUFTLGdCQUFpQixnQ0FBaUNBLEVBQUssR0FBRyxHQUFHLENBQUMsRUFDdkUsU0FDRyxtQkFDQSxxQkFDQSxVQUFhLE1BQU1DLEVBQWlCSixFQUFtQixHQUFHLElBQzFESyxDQUNKLEVBRUpKLEVBQVMsYUFBYSxFQUVmLElBQU1LLEVBQVNMLEVBQVMsU0FBUyxFRE5qQyxJQUFNTSxFQUFjLFNBQVksQ0FDbkMsSUFBTUMsRUFBZ0IsTUFBTUMsRUFBZ0JDLEVBQU8sZ0JBQWdCLEVBRW5FQyxFQUFlQyxFQUFFLEtBQ2JKLEVBQWUsTUFDZkssRUFBRyxJQUFJQyxHQUFLLENBQUNBLEVBQUUsSUFBSyxPQUFPQSxFQUFFLElBQUssQ0FBQyxDQUF5QixFQUM1REQsRUFBRyxPQUFPLENBQUMsRUFBbUIsQ0FBQ0UsRUFBTSxDQUFDQyxFQUFLQyxDQUFNLEtBQVFGLEVBQUtFLENBQU0sRUFBSUQsRUFBTUQsRUFBSyxDQUN2RixFQUdBLFdBQVcsY0FBZ0JHLEVBQWdCLE1BQU1OLEVBQUUsS0FDL0NELEVBQ0FFLEVBQUcsSUFBSU0sQ0FBeUIsRUFDaENDLEdBQU0sUUFBUSxJQUFJQSxDQUFFLEVBQ3BCQyxFQUFRUixFQUFHLElBQUlTLEdBQVVBLEdBQVUsQ0FBQyxDQUFDLENBQUMsRUFDdENELEVBQVFSLEVBQUcsSUFBSUEsRUFBRyxJQUFJLEdBQUssRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUNsQ1EsRUFBUVIsRUFBRyxRQUFRLENBQUNVLEVBQVdOLElBQVdNLEVBQVUsSUFBSUMsR0FBWSxDQUFDQSxFQUFVUCxDQUFNLENBQVUsQ0FBQyxDQUFDLEVBQ2pHSSxFQUNJUixFQUFHLE9BQU8sQ0FBQyxFQUE2QixDQUFDWSxFQUFLLENBQUNELEVBQVVQLENBQU0sSUFDM0QsT0FBTyxPQUFPUSxFQUFLLENBQ2YsQ0FBQ0QsQ0FBUSxFQUFHLEtBQUssSUFBSVAsRUFBUVEsRUFBSUQsQ0FBUSxHQUFLLENBQUMsQ0FDbkQsQ0FBQyxDQUNMLENBQ0osQ0FDSixDQUNKLEVBRWFFLEVBQWUsTUFBT1YsRUFBaUJDLElBQW1CLENBQ25FLElBQU1VLEVBQWdCVCxFQUFjRixDQUFHLEVBZXZDLEdBYklXLElBQWtCVixJQUFRQSxFQUFTLEdBRW5DVSxHQUNBZixFQUFFLEtBQ0VELEVBQWEsTUFBTSxFQUFHZ0IsRUFBZ0IsQ0FBQyxFQUN2Q2QsRUFBRyxPQUFPLE9BQU8sRUFDakJBLEVBQUcsSUFBSWUsR0FBZSxVQUFVLElBQUksV0FBV0EsQ0FBVyxFQUFFLEVBQUcsRUFDL0RmLEVBQUcsSUFBSWdCLEdBQWNDLEVBQXdCRCxFQUFZLENBQUNiLENBQUcsQ0FBQyxDQUFDLENBQ25FLEVBR0pFLEVBQWNGLENBQUcsRUFBSUMsRUFFakJBLEVBQVMsRUFBRyxDQUNaLElBQUlXLEVBQWNqQixFQUFhTSxDQUFNLEVBRWhDVyxJQUNEQSxFQUFjLE1BQU1HLEVBQW1CZCxFQUFPLFFBQVEsQ0FBQyxFQUFHZSxFQUFXLE1BQU0sUUFBUXRCLEVBQU8sZ0JBQWdCLENBQUMsRUFDM0d1QixFQUEwQkwsRUFBYSxFQUFLLEVBQzVDakIsRUFBYU0sQ0FBTSxFQUFJVyxHQUczQk0sRUFBc0JOLEVBQWEsQ0FBQ1osQ0FBRyxDQUFDLENBQzVDLENBRUEsSUFBTW1CLEVBQVUsVUFBVSxPQUFPLEtBQUssT0FBTyxJQUN6Q0EsSUFBWW5CLEdBQUtvQixFQUF5QkQsRUFBUyxFQUFLLEVBRzVERSxFQUF3QixFQUN4QixHQUFNLENBQUUsU0FBQUMsQ0FBUyxFQUFJLFVBQVUsU0FBUyxRQUFRLFNBQ2hEQyxFQUF5QixVQUFVLElBQUksV0FBV0QsQ0FBUSxDQUFDLENBQy9ELEVBRVczQixFQUE2QixDQUFDLEVBQzlCTyxFQUE0QyxDQUFDLEVEM0V4RCxHQUFNLENBQUUsTUFBQXNCLENBQU0sRUFBSSxVQUVaQyxHQUFlLENBQUMsQ0FBRSxFQUFBQyxFQUFHLElBQUFDLENBQUksSUFDM0JILEVBQUEsY0FBQyxVQUNHLFVBQVUsZ0pBQ1YsUUFBUyxJQUFNSSxFQUFhRCxFQUFLRCxDQUFDLEdBRWxDRixFQUFBLGNBQUMsT0FDRyxLQUFLLE1BQ0wsT0FBUSxHQUNSLE1BQU8sR0FDUCxRQUFRLFlBQ1IsVUFBVyx1Q0FBdUNFLENBQUMsSUFFbkRGLEVBQUEsY0FBQyxRQUFLLEVBQUUsOElBQThJLENBQzFKLENBQ0osRUFHU0ssRUFBVyxDQUFDLENBQUUsSUFBQUYsQ0FBSSxJQUMzQkgsRUFBQSxjQUFDLE9BQUksVUFBVSxtQkFDVk0sR0FBTSxFQUFHLENBQUMsRUFBRSxJQUFJSixHQUNiRixFQUFBLGNBQUNDLEdBQUEsQ0FBYSxFQUFHQyxFQUFHLElBQUtDLEVBQUssQ0FDakMsQ0FDTCxFSTFCRyxJQUFNSSxFQUFnQixJQUFNLE1BQU0sS0FBSyxTQUFTLGlCQUFpQywyQkFBMkIsQ0FBQyxFQUN2R0MsRUFBc0JDLEdBQy9CLE1BQU0sS0FBS0EsRUFBVSxpQkFBaUMsaUNBQWlDLENBQUMsRUFFL0VDLEdBQXdCQyxJQUNoQ0EsRUFBUSxPQUFPLE9BQU9BLENBQUssRUFBRSxDQUFDLEVBQUUsTUFBTSxNQUFNLE1BQU0sTUFDbERBLEVBQWMsYUFBYSxLQUFRQSxFQUFjLE1BQU0sYUFBYSxLQUc1REMsR0FBbUIsSUFBTSxTQUFTLGNBQThCLHNDQUFzQyxFQUN0R0MsR0FBNEIsSUFDckMsU0FBUyxjQUE4QixpQ0FBaUMsRUFFL0RDLEdBQXlCLGdGQUN6QkMsRUFBcUJDLEdBQzlCQSxFQUFPLGNBQWlDRixFQUFzQixFQUNyREcsR0FBOEIsSUFDNUJKLEdBQTBCLEVBQzNCLGNBQ04sMEZBQ0osRVJQSixHQUFNLENBQUUsSUFBQUssQ0FBSSxFQUFJLFVBQ1YsQ0FBRSxNQUFBQyxHQUFPLFNBQUFDLEVBQVMsRUFBSSxVQUV0QkMsR0FBZ0IsQ0FBQyxRQUFTLFVBQVcsVUFBVyxTQUFVLFVBQVcsU0FBUyxFQUU5RUMsRUFBeUIsQ0FBQ0MsRUFBd0JDLElBQW1CLENBQ3ZFLEdBQUlELEVBQUksTUFBTSxPQUFTRixHQUFjRyxDQUFNLEVBQUcsT0FFOUNELEVBQUksTUFBTSxRQUFVQyxFQUFTLEVBQUksSUFBTSxRQUN2QyxJQUFNQyxFQUFNRixFQUFJLGNBQTBCLEtBQUssRUFDL0NFLEVBQUksTUFBTSxLQUFPSixHQUFjRyxDQUFNLENBQ3pDLEVBRUlFLEdBQ0VDLEdBQW1DLENBQUNDLEVBQXVCQyxFQUFpQkMsRUFBUyxLQUFVLENBQ2pHLEdBQUlGLEVBQUcsYUFBYSxrQkFBa0IsR0FDbEMsR0FBSSxDQUFDRSxFQUFRLFlBQ1ZGLEVBQUcsYUFBYSxtQkFBb0IsRUFBRSxFQUU3QyxJQUFNRyxFQUFNLFNBQVMsY0FBYyxLQUFLLEVBQ3BDRCxJQUNBSixHQUFRLFVBQVksR0FDcEJBLEdBQVVLLEdBRWRILEVBQUcsWUFBWUcsQ0FBRyxFQUNsQlgsR0FBUyxPQUFPRCxHQUFBLGNBQUNhLEVBQUEsQ0FBUyxJQUFLSCxFQUFLLEVBQUlFLENBQUcsRUFDM0MsVUFBVSxNQUFNSCxFQUFJLENBQ2hCLFFBQVNHLEVBQ1QsWUFBYSxHQUNiLFlBQWEsR0FFYixVQUFXLE9BQ1gsVUFBVyxPQUVYLE9BQVEsSUFDUixNQUFPLENBQUMsSUFBSyxDQUFDLEVBQ2QsT0FBT0UsRUFBZSxDQUNsQixJQUFNQyxFQUFTLFNBQVMsY0FBYyxLQUFLLEVBQ3JDQyxFQUFNLFNBQVMsY0FBYyxLQUFLLEVBRXhDLE9BQUFELEVBQU8sR0FBSyxlQUNaQSxFQUFPLFlBQVlDLENBQUcsRUFFdEJBLEVBQUksVUFBWSx5QkFDaEJBLEVBQUksWUFBWUYsRUFBUyxNQUFNLE9BQU8sRUFFL0IsQ0FBRSxPQUFBQyxFQUFRLFNBQVVFLEVBQUUsU0FBVSxDQUMzQyxFQUNBLE9BQU9ILEVBQWUsQ0FDbEJBLEVBQVMsT0FBTyxXQUFXLFVBQVUsSUFBSSw2QkFBNkIsRUFFdEUsSUFBTUksRUFBWUosRUFBUyxVQUFVLGNBQWlDLFNBQ2hFSyxFQUFVRCxFQUFTLEtBQUtBLEVBQVMsT0FBUyxDQUFDLEVBQ2pEQyxFQUFRLE1BQU0sWUFBYyxLQUNoQyxFQUNBLFFBQVFMLEVBQWUsQ0FDbkIsc0JBQXNCLElBQU0sQ0FDeEJBLEVBQVMsT0FBTyxXQUFXLFVBQVUsT0FBTyw2QkFBNkIsRUFDekVBLEVBQVMsT0FBTyxXQUFXLFVBQVUsSUFBSSxtQ0FBbUMsQ0FDaEYsQ0FBQyxDQUNMLEVBQ0EsT0FBT0EsRUFBZSxDQUNsQixzQkFBc0IsSUFBTSxDQUN4QkEsRUFBUyxPQUFPLFdBQVcsVUFBVSxPQUFPLG1DQUFtQyxFQUUvRSxJQUFNSSxFQUFZSixFQUFTLFVBQVUsY0FBaUMsU0FDaEVLLEVBQVVELEVBQVMsS0FBS0EsRUFBUyxPQUFTLENBQUMsRUFDakRDLEVBQVEsTUFBTSxZQUFjLFFBRTVCTCxFQUFTLFFBQVEsQ0FDckIsQ0FBQyxDQUNMLENBQ0osQ0FBQyxDQUNMLEVBRWFNLEVBQTJCLENBQUNDLEVBQXNCQyxFQUFpQixLQUFTLENBQ3JGLElBQU1DLEVBQU1DLEdBQWlCLEVBQ3ZCZixFQUFLZ0IsRUFBa0JGLENBQUcsRUFDaENwQixFQUF1Qk0sRUFBSWlCLEVBQWNMLENBQVEsQ0FBQyxFQUM5Q0MsR0FBZ0JkLEdBQWlDQyxFQUFJWSxFQUFVLEVBQUksQ0FDM0UsRUFFYU0sRUFBMEIsQ0FBQ0wsRUFBaUIsS0FBUyxDQUM5RCxJQUFNTSxFQUFhQyxFQUFjLEVBQ2pDWixFQUFFLEtBQ0VXLEVBQ0FFLEVBQUcsSUFBSUMsR0FBYSxDQUNRQyxFQUFtQkQsQ0FBUyxFQUVwQyxJQUFJRSxHQUFTLENBQ3pCLElBQU12QixFQUFNWCxFQUFJLFdBQVdtQyxHQUFxQkQsQ0FBSyxDQUFDLEVBQUUsTUFBTSxFQUc5RCxHQUFJLENBQUNsQyxFQUFJLFFBQVFXLENBQUksRUFBRyxPQUV4QixJQUFNeUIsRUFBSVQsRUFBY2hCLENBQUcsRUFDckJELEVBQUtnQixFQUFrQlEsQ0FBSyxFQUVsQzlCLEVBQXVCTSxFQUFJMEIsQ0FBQyxFQUN4QmIsR0FBZ0JkLEdBQWlDQyxFQUFJQyxDQUFHLENBQ2hFLENBQUMsQ0FDTCxDQUFDLENBQ0wsQ0FDSixFQUVhMEIsRUFBMkIsTUFBTzFCLEdBQXVCLENBQ2xFLElBQUkyQixFQUNKLEdBQUl0QyxFQUFJLFFBQVFXLENBQUcsRUFDZjJCLEVBQU9wQixFQUFFLEtBQ0wsTUFBTXFCLEVBQWMsR0FBRzVCLENBQUcsRUFBRSxFQUM1QjZCLEdBQUtBLEVBQUUsT0FBTyxNQUNkVCxFQUFHLElBQUlTLEdBQUtBLEVBQUUsTUFBTSxHQUFHLENBQzNCLFVBQ0t4QyxFQUFJLFNBQVNXLENBQUcsRUFDckIyQixFQUFPcEIsRUFBRSxLQUNMLE1BQU11QixFQUEyQixHQUFHOUIsQ0FBRyxFQUFFLEVBQ3pDb0IsRUFBRyxJQUFJUyxHQUFLQSxFQUFFLEdBQUcsQ0FDckIsVUFDS3hDLEVBQUksaUJBQWlCVyxDQUFHLEVBQzdCMkIsRUFBT3BCLEVBQUUsS0FDTCxNQUFNd0IsRUFBMEIsR0FBRy9CLENBQUcsRUFBRSxFQUN4Q29CLEVBQUcsSUFBSVMsR0FBS0EsRUFBRSxHQUFHLENBQ3JCLE1BQ0MsTUFBTSxvQkFFWCxJQUFNRyxFQUFVTCxFQUFLLElBQUkzQixHQUFPZ0IsRUFBY2hCLENBQUcsQ0FBQyxFQUFFLE9BQU8sT0FBTyxFQUM1REwsRUFBUyxLQUFLLE1BQU1xQyxFQUFRLE9BQU8sQ0FBQ0MsRUFBS1IsSUFBTVEsRUFBTVIsQ0FBQyxFQUFJTyxFQUFRLE1BQU0sRUFFeEVqQyxFQUFLbUMsR0FBNEIsRUFDdkN6QyxFQUF1Qk0sRUFBSUosQ0FBTSxDQUNyQyxFRDFJQSxHQUFNLENBQUUsSUFBQXdDLENBQUksRUFBSSxVQUVoQkMsRUFBWSxFQUVaLFVBQVUsT0FBTyxpQkFBaUIsYUFBYyxJQUFNLENBQ2xELElBQU1DLEVBQVUsVUFBVSxPQUFPLEtBQUssT0FBTyxJQUM3QyxHQUNJLE9BQU9DLEVBQU8sYUFBYSxJQUMxQkMsRUFBY0YsQ0FBTyxHQUFLLE9BQU8sbUJBQXFCLE9BQU9DLEVBQU8sYUFBYSxFQUVsRixPQUFPLEtBQUssVUFBVSxPQUFPLEtBQUssRUFFdENFLEVBQXlCSCxDQUFPLENBQ3BDLENBQUMsRUFDREcsRUFBeUIsVUFBVSxPQUFPLEtBQUssT0FBTyxHQUFJLEVBRTFELElBQUlDLEVBQ0VDLEdBQXNCLElBQUksaUJBQWlCLElBQU1DLEVBQXdCLENBQUMsRUFFaEYsSUFBSSxpQkFBaUIsSUFBTSxDQUN2QixJQUFNQyxFQUFrQixTQUFTLGNBQTJCLE1BQU0sRUFDOURBLEdBQW1CLENBQUNBLEVBQWdCLFlBQVlILENBQVcsSUFDdkRBLEdBQWFDLEdBQW9CLFdBQVcsRUFDaERELEVBQWNHLEVBQ2RGLEdBQW9CLFFBQVFELEVBQWEsQ0FDckMsVUFBVyxHQUNYLFFBQVMsRUFDYixDQUFDLEVBRVQsQ0FBQyxFQUFFLFFBQVEsU0FBUyxLQUFNLENBQ3RCLFVBQVcsR0FDWCxRQUFTLEVBQ2IsQ0FBQyxFQUVELFVBQVUsU0FBUyxRQUFRLE9BQU8sTUFBTyxDQUFFLFNBQUFJLENBQVMsSUFBNEIsQ0FDdkRDLEdBQVEsQ0FBQ1gsRUFBSSxRQUFTQSxFQUFJLFNBQVVBLEVBQUksZ0JBQWdCLENBQUMsRUFDNURVLENBQVEsR0FFMUJFLEVBQXlCWixFQUFJLFdBQVdVLENBQVEsQ0FBQyxDQUNyRCxDQUFDIiwKICAibmFtZXMiOiBbImFueVBhc3MiLCAiYXIiLCAiZiIsICJhciIsICJlcSIsICJzdHIiLCAicmVjIiwgInNnIiwgImYiLCAiZ3VhcmQiLCAibWVtb2l6ZSIsICJndWFyZDQiLCAiYnJhbmNoZXMiLCAiZ3VhcmQiLCAicE1jaGFpbiIsICJmIiwgImZhIiwgImlzIiwgImMiLCAiYSIsICJmaWVsZCIsICJjaHVuY2tpZnkiLCAibiIsICJnIiwgImYiLCAiYXIiLCAicHMiLCAicE1jaGFpbiIsICJtZW1vaXplMiIsICJmbiIsICJmIiwgIm1lbW9pemUiLCAiZXEiLCAic3RyIiwgImEiLCAiZiIsICJTcG90aWZ5TG9jIiwgInVyaSIsICJ1aWQiLCAic2xlZXAiLCAibXMiLCAicmVzb2x2ZSIsICJmZXRjaEdRTEFsYnVtIiwgInVyaSIsICJvZmZzZXQiLCAibGltaXQiLCAicmVtb3ZlV2ViUGxheWxpc3RUcmFja3MiLCAicGxheWxpc3QiLCAidHJhY2tzIiwgInVyaSIsICJmZXRjaFdlYkFydGlzdHNTcG90IiwgImNodW5ja2lmeSIsICJpZHMiLCAiZmV0Y2hXZWJQbGF5bGlzdHNTcG90IiwgImlkIiwgImZldGNoV2ViQWxidW1zU3BvdCIsICJmZXRjaFdlYlRyYWNrc1Nwb3QiLCAiZmV0Y2hQbGF0QXJ0aXN0TGlrZWRUcmFja3MiLCAidXJpIiwgIm9mZnNldCIsICJsaW1pdCIsICJmZXRjaFBsYXRQbGF5bGlzdENvbnRlbnRzIiwgImNyZWF0ZVBsYXRGb2xkZXIiLCAibmFtZSIsICJsb2NhdGlvbiIsICJjcmVhdGVQbGF0UGxheWxpc3QiLCAibmFtZSIsICJsb2NhdGlvbiIsICJzZXRQbGF0UGxheWxpc3RWaXNpYmlsaXR5IiwgInBsYXlsaXN0IiwgInZpc2libGVGb3JBbGwiLCAiZmV0Y2hQbGF0Rm9sZGVyIiwgImZvbGRlciIsICJhZGRQbGF0UGxheWxpc3RUcmFja3MiLCAicGxheWxpc3QiLCAidHJhY2tzIiwgImxvY2F0aW9uIiwgImZldGNoVHJhY2tMRk1BUEkiLCAiTEZNQXBpS2V5IiwgImFydGlzdCIsICJ0cmFja05hbWUiLCAibGFzdEZtVXNlcm5hbWUiLCAidXJsIiwgInJlcyIsICJmZXRjaFRyYWNrTEZNQVBJTWVtb2l6ZWQiLCAibWVtb2l6ZTIiLCAicmFuZ2UiLCAiYXIiLCAiZiIsICJ0YXNrIiwgInRhc2siLCAiY29uc3RWb2lkIiwgIlJlYWN0IiwgIlJlYWN0RE9NIiwgIlNldHRpbmdzU2VjdGlvbiIsICJfU2V0dGluZ3NTZWN0aW9uIiwgIm5hbWUiLCAic2VjdGlvbklkIiwgInNlY3Rpb25GaWVsZHMiLCAic2xlZXAiLCAicGF0aG5hbWUiLCAidGFyZ2V0IiwgInByb3AiLCAiYWxsU2V0dGluZ3NDb250YWluZXIiLCAicGx1Z2luU2V0dGluZ3NDb250YWluZXIiLCAiaWQiLCAibmFtZUlkIiwgImRlc2NyaXB0aW9uIiwgInRleHQiLCAib25DbGljayIsICJjb25zdFZvaWQiLCAiZXZlbnRzIiwgImRlZmF1bHRWYWx1ZSIsICJ0YXNrIiwgIm9uQ2hhbmdlIiwgImlucHV0VHlwZSIsICJvcHRpb25zIiwgInZhbHVlIiwgInNldFZhbHVlU3RhdGUiLCAibmV3VmFsdWUiLCAicmVyZW5kZXIiLCAic2V0UmVyZW5kZXIiLCAiZmllbGQiLCAiaXNUeXBlIiwgImlzIiwgImd1YXJkNCIsICJzZXRWYWx1ZSIsICJlIiwgIm9wdGlvbiIsICJpIiwgIlJBVElOR1NfRk9MREVSX05BTUUiLCAic2V0dGluZ3MiLCAiU2V0dGluZ3NTZWN0aW9uIiwgInRhc2siLCAiY3JlYXRlUGxhdEZvbGRlciIsICJsb2FkUmF0aW5ncyIsICJDT05GSUciLCAibG9hZFJhdGluZ3MiLCAicmF0aW5nc0ZvbGRlciIsICJmZXRjaFBsYXRGb2xkZXIiLCAiQ09ORklHIiwgInBsYXlsaXN0VXJpcyIsICJmIiwgImFyIiwgInAiLCAidXJpcyIsICJ1cmkiLCAicmF0aW5nIiwgInRyYWNrc1JhdGluZ3MiLCAiZmV0Y2hQbGF0UGxheWxpc3RDb250ZW50cyIsICJwcyIsICJwTWNoYWluIiwgInRyYWNrcyIsICJ0cmFja1VyaXMiLCAidHJhY2tVcmkiLCAiYWNjIiwgInRvZ2dsZVJhdGluZyIsICJjdXJyZW50UmF0aW5nIiwgInBsYXlsaXN0VXJpIiwgInBsYXlsaXN0SWQiLCAicmVtb3ZlV2ViUGxheWxpc3RUcmFja3MiLCAiY3JlYXRlUGxhdFBsYXlsaXN0IiwgIlNwb3RpZnlMb2MiLCAic2V0UGxhdFBsYXlsaXN0VmlzaWJpbGl0eSIsICJhZGRQbGF0UGxheWxpc3RUcmFja3MiLCAibnBUcmFjayIsICJ1cGRhdGVOb3dQbGF5aW5nQ29udHJvbHMiLCAidXBkYXRlVHJhY2tMaXN0Q29udHJvbHMiLCAicGF0aG5hbWUiLCAidXBkYXRlQ29sbGVjdGlvbkNvbnRyb2xzIiwgIlJlYWN0IiwgIlJhdGluZ0J1dHRvbiIsICJpIiwgInVyaSIsICJ0b2dnbGVSYXRpbmciLCAiRHJvcGRvd24iLCAicmFuZ2UiLCAiZ2V0VHJhY2tMaXN0cyIsICJnZXRUcmFja0xpc3RUcmFja3MiLCAidHJhY2tMaXN0IiwgImdldFRyYWNrTGlzdFRyYWNrVXJpIiwgInRyYWNrIiwgImdldE5vd1BsYXlpbmdCYXIiLCAiZ2V0Q29sbGVjdGlvbkFjdGlvbkJhclJvdyIsICJwbGF5bGlzdEJ1dHRvblNlbGVjdG9yIiwgImdldFBsYXlsaXN0QnV0dG9uIiwgInBhcmVudCIsICJnZXRDb2xsZWN0aW9uUGxheWxpc3RCdXR0b24iLCAiVVJJIiwgIlJlYWN0IiwgIlJlYWN0RE9NIiwgImNvbG9yQnlSYXRpbmciLCAiY29sb3JpemVQbGF5bGlzdEJ1dHRvbiIsICJidG4iLCAicmF0aW5nIiwgInN2ZyIsICJsYXN0RGl2IiwgIndyYXBEcm9wZG93bkluc2lkZVBsYXlsaXN0QnV0dG9uIiwgInBiIiwgInVyaSIsICJmb3JjZWQiLCAiZGl2IiwgIkRyb3Bkb3duIiwgImluc3RhbmNlIiwgInBvcHBlciIsICJib3giLCAiZiIsICJjaGlsZHJlbiIsICJlbGVtZW50IiwgInVwZGF0ZU5vd1BsYXlpbmdDb250cm9scyIsICJuZXdUcmFjayIsICJ1cGRhdGVEcm9wZG93biIsICJucGIiLCAiZ2V0Tm93UGxheWluZ0JhciIsICJnZXRQbGF5bGlzdEJ1dHRvbiIsICJ0cmFja3NSYXRpbmdzIiwgInVwZGF0ZVRyYWNrTGlzdENvbnRyb2xzIiwgInRyYWNrTGlzdHMiLCAiZ2V0VHJhY2tMaXN0cyIsICJhciIsICJ0cmFja0xpc3QiLCAiZ2V0VHJhY2tMaXN0VHJhY2tzIiwgInRyYWNrIiwgImdldFRyYWNrTGlzdFRyYWNrVXJpIiwgInIiLCAidXBkYXRlQ29sbGVjdGlvbkNvbnRyb2xzIiwgInVyaXMiLCAiZmV0Y2hHUUxBbGJ1bSIsICJ4IiwgImZldGNoUGxhdEFydGlzdExpa2VkVHJhY2tzIiwgImZldGNoUGxhdFBsYXlsaXN0Q29udGVudHMiLCAicmF0aW5ncyIsICJhY2MiLCAiZ2V0Q29sbGVjdGlvblBsYXlsaXN0QnV0dG9uIiwgIlVSSSIsICJsb2FkUmF0aW5ncyIsICJucFRyYWNrIiwgIkNPTkZJRyIsICJ0cmFja3NSYXRpbmdzIiwgInVwZGF0ZU5vd1BsYXlpbmdDb250cm9scyIsICJtYWluRWxlbWVudCIsICJtYWluRWxlbWVudE9ic2VydmVyIiwgInVwZGF0ZVRyYWNrTGlzdENvbnRyb2xzIiwgIm5leHRNYWluRWxlbWVudCIsICJwYXRobmFtZSIsICJhbnlQYXNzIiwgInVwZGF0ZUNvbGxlY3Rpb25Db250cm9scyJdCn0K
(async () => {
    if (!document.getElementById("star-ratings-2-css")) {
        const el = document.createElement("style")
        el.id = "star-ratings-2-css"
        
        el.textContent = "svg.rating-1{fill:#ed5564!important}svg.rating-2{fill:#ffce54!important}svg.rating-3{fill:#a0d568!important}svg.rating-4{fill:#4fc1e8!important}svg.rating-5{fill:#ac92eb!important}\n/*# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vZXh0ZW5zaW9ucy9zdGFyLXJhdGluZ3MtMi9hc3NldHMvc3R5bGVzLmNzcyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsic3ZnLnJhdGluZy0xe2ZpbGw6I2VkNTU2NCAhaW1wb3J0YW50fXN2Zy5yYXRpbmctMntmaWxsOiNmZmNlNTQgIWltcG9ydGFudH1zdmcucmF0aW5nLTN7ZmlsbDojYTBkNTY4ICFpbXBvcnRhbnR9c3ZnLnJhdGluZy00e2ZpbGw6IzRmYzFlOCAhaW1wb3J0YW50fXN2Zy5yYXRpbmctNXtmaWxsOiNhYzkyZWIgIWltcG9ydGFudH0iXSwKICAibWFwcGluZ3MiOiAiQUFBQSxHQUFHLENBQUMsU0FBUyxLQUFLLGlCQUFrQixDQUFDLEdBQUcsQ0FBQyxTQUFTLEtBQUssaUJBQWtCLENBQUMsR0FBRyxDQUFDLFNBQVMsS0FBSyxpQkFBa0IsQ0FBQyxHQUFHLENBQUMsU0FBUyxLQUFLLGlCQUFrQixDQUFDLEdBQUcsQ0FBQyxTQUFTLEtBQUssaUJBQWtCIiwKICAibmFtZXMiOiBbXQp9Cg== */\n"
        document.head.appendChild(el)
    }
})()