var y=(t,e)=>()=>(t&&(e=t(t=0)),e);import{array as x,eq as lt,string as pt,record as Ft,semigroup as Tt,function as m}from"https://esm.sh/fp-ts";import{guard as L,memoize as ct}from"https://esm.sh/fp-ts-std/Function";var T,U,R,g,f,w,A=y(()=>{T=t=>L(t),U=t=>L(t),R=t=>async e=>t(await e),g=t=>e=>i=>i[t]===e,f=t=>e=>m.flow(x.chunksOf(t),x.map(e),i=>Promise.all(i),R(x.flatten)),w=t=>m.pipe(t,m.tupled,ct(lt.contramap(JSON.stringify)(pt.Eq)),m.untupled)});import{array as Bt,function as v}from"https://esm.sh/fp-ts";var Et,B,E,S,b=y(()=>{Et={before:{start:v.constant({before:"start"}),fromUri:t=>({before:{uri:t}}),fromUid:t=>({before:{uid:t}})},after:{end:v.constant({after:"end"}),fromUri:t=>({after:{uri:t}}),fromUid:t=>({after:{uid:t}})}};B=t=>new Promise(e=>setTimeout(e,t)),E=t=>t[Object.keys(t).find(e=>e.startsWith("__reactProps$"))],S=(t,e)=>Spicetify.Platform.LibraryAPI[e?"add":"remove"](...t)});var Gt,Qt,qt,$t,C,O,D,N,yt,_,ut,Vt,M=y(()=>{A();b();Gt=f(50)(async t=>(await Spicetify.CosmosAsync.get(`https://api.spotify.com/v1/artists?ids=${t.join(",")}`)).artists),Qt=f(1)(async([t])=>[await Spicetify.CosmosAsync.get(`https://api.spotify.com/v1/playlists/${t}`)]),qt=f(50)(async t=>(await Spicetify.CosmosAsync.get(`https://api.spotify.com/v1/albums?ids=${t.join(",")}`)).albums),$t=f(50)(async t=>(await Spicetify.CosmosAsync.get(`https://api.spotify.com/v1/tracks?ids=${t.join(",")}`)).tracks),C=async t=>(await Spicetify.Platform.PlaylistAPI.getContents(t)).items,O=async(t,e={})=>await Spicetify.Platform.RootlistAPI.createFolder(t,e),D=async t=>await Spicetify.Platform.RootlistAPI.add([t]),N=(t,e,i)=>Spicetify.CosmosAsync.post("sp://core-playlist/v1/rootlist?responseFormat=protobufJson",{operation:"create",...i?{after:i}:{},name:t,playlist:!0,uris:e}),yt=async t=>await Spicetify.Platform.RootlistAPI.getContents({folderUri:t}),_=()=>yt(void 0),ut=async(t,e,i,s="")=>{let r=new URL("https://ws.audioscrobbler.com/2.0/");return r.searchParams.append("method","track.getInfo"),r.searchParams.append("api_key",t),r.searchParams.append("artist",e),r.searchParams.append("track",i),r.searchParams.append("format","json"),r.searchParams.append("username",s),await fetch(r).then(n=>n.json())},Vt=w(ut)});import{allPass as dt}from"https://esm.sh/fp-ts-std@0.18.0/Predicate";var j,ft,I,u,mt,gt,zt,d,Jt,G,Q,q,$,V,Kt,W=y(()=>{j=webpackChunkopen.push([[Symbol("Dummy module to extract require method")],{},t=>t]),ft=Object.keys(j.m).map(t=>j(t)),I=ft.filter(t=>typeof t=="object").flatMap(t=>Object.values(t)),u=I.filter(t=>typeof t=="function"),mt=I.filter(t=>t?.$$typeof),gt=Spicetify.React.memo().$$typeof,zt=mt.filter(t=>t.$$typeof===gt),d=(t,...e)=>t.find(i=>dt(e.map(s=>typeof s=="string"?r=>r.includes(s):r=>s.test(r)))(i.toString())),Jt=d(u,"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm11.748-1.97a.75.75 0 0 0-1.06-1.06l-4.47 4.47-1.405-1.406a.75.75 0 1 0-1.061 1.06l2.466 2.467 5.53-5.53z"),G=d(u,/^function .\(.\)\{return\(0,.\.jsx\)\(/),Q=d(u,"textToHighlight"),q=d(u,"setSectionFilterMatchQueryValue","filterMatchQuery"),$=d(u,"textSubdued","viola"),V=d(u,"condensed","onSelected"),Kt=I.find(t=>t?.curationButton).curationButton});import{task as H}from"https://esm.sh/fp-ts";var a,At,St,h,z=y(()=>{A();b();W();({React:a,ReactDOM:At}=Spicetify),{ButtonSecondary:St}=Spicetify.ReactComponent,h=class t{constructor(e,i,s={}){this.name=e;this.id=i;this.sectionFields=s;this.pushSettings=()=>{this.stopHistoryListener&&this.stopHistoryListener(),this.stopHistoryListener=Spicetify.Platform.History.listen(()=>this.render()),this.render()};this.toObject=()=>new Proxy({},{get:(e,i)=>t.getFieldValue(this.getId(i.toString()))});this.render=async()=>{for(;!document.getElementById("desktop.settings.selectLanguage");){if(Spicetify.Platform.History.location.pathname!=="/preferences")return;await B(100)}let e=document.querySelector(".x-settings-container"),i=Array.from(e.children).find(({id:s})=>s===this.id);i||(i=document.createElement("div"),i.id=this.id,i.className="settingsContainer",e.appendChild(i)),At.render(a.createElement(this.FieldsContainer,null),i)};this.addButton=e=>(this.addField("button",e),this);this.addToggle=(e,i=H.of(!1))=>(this.addField("toggle",e,i),this);this.addInput=(e,i=H.of(""))=>(this.addField("input",e,i),this);this.getId=e=>["extensions",this.id,e].join(":");this.useStateFor=e=>{let[i,s]=a.useState(t.getFieldValue(e));return[i,r=>{r!==void 0&&(s(r),t.setFieldValue(e,r))}]};this.FieldsContainer=()=>a.createElement(G,{filterMatchQuery:this.name},a.createElement(Q,null,this.name),Object.values(this.sectionFields).map(e=>{let i=g("type");return U([[i("input"),this.InputField],[i("button"),this.ButtonField],[i("toggle"),this.ToggleField]])(()=>a.createElement(a.Fragment,null))(e)}));this.SettingField=({field:e,children:i})=>a.createElement(q,{filterMatchQuery:e.id},a.createElement("div",{className:"x-settings-firstColumn"},a.createElement($,{htmlFor:e.id},e.desc)),a.createElement("div",{className:"x-settings-secondColumn"},i));this.ButtonField=e=>a.createElement(this.SettingField,{field:e},a.createElement(St,{id:e.id,buttonSize:"sm",onClick:e.onClick,className:"x-settings-button"},e.text));this.ToggleField=e=>{let[i,s]=this.useStateFor(e.id);return a.createElement(this.SettingField,{field:e},a.createElement(V,{id:e.id,value:t.getFieldValue(this.getId(e.id)),onSelected:r=>{s(r),e.onSelected?.(r)},className:"x-settings-button"}))};this.InputField=e=>{let[i,s]=this.useStateFor(e.id);return a.createElement(this.SettingField,{field:e},a.createElement("input",{className:"x-settings-input",id:e.id,dir:"ltr",value:t.getFieldValue(this.getId(e.id)),type:e.inputType,onChange:r=>{let n=r.currentTarget.value;s(n),e.onChange?.(n)}}))}}addField(e,i,s){if(s!==void 0){let n=this.getId(i.id);t.setDefaultFieldValue(n,s)}let r=Object.assign({},i,{type:e});this.sectionFields[i.id]=r}static{this.getFieldValue=e=>JSON.parse(Spicetify.LocalStorage.get(e)??"null")}static{this.setFieldValue=(e,i)=>Spicetify.LocalStorage.set(e,JSON.stringify(i))}static{this.setDefaultFieldValue=async(e,i)=>{t.getFieldValue(e)===null&&t.setFieldValue(e,await i())}}}});var ht={};var bt,J=y(()=>{z();X();bt=new h("Vaultify","vaultify").addButton({id:"backup",desc:"Backup Library, Extensions and Settings",text:"Backup to clipboard",onClick:K}).addButton({id:"restoreLibrary",desc:"Restore Library",text:"Restore from clipboard",onClick:P("library")}).addButton({id:"restoreExtensions",desc:"Restore Extensions",text:"Restore from clipboard",onClick:P("extensions")}).addButton({id:"restoreSettings",desc:"Restore Settings",text:"Restore from clipboard",onClick:P("settings")});bt.pushSettings()});import{array as l,function as p,record as Y,task as Pt}from"https://esm.sh/fp-ts";var Z,tt,xt,et,Rt,K,P,X=y(()=>{M();A();b();Z=g("type"),tt=t=>T([[Z("playlist"),async e=>({[e.name]:e.isOwnedBySelf?await p.pipe(e.uri,C,R(l.map(i=>i.uri))):e.uri})],[Z("folder"),async e=>({[e.name]:await p.pipe(e.items,l.map(tt),i=>Promise.all(i))})]])(Pt.of({}))(t),xt=t=>typeof t[0]=="string"&&Spicetify.URI.isTrack(t[0]),et=async t=>{Object.keys(t).forEach(e=>{let i=t[e];if(!Array.isArray(i))return void D(i);if(i.length!==0){if(xt(i))return void N(e,i);O(e),i.forEach(et)}})},Rt=/^(?:marketplace:)|(?:extensions:)|(?:spicetify)/,K=async()=>{let t=o=>o.items.map(c=>c.uri),e=await Spicetify.Platform.LibraryAPI.getTracks({limit:-1,sort:{field:"ADDED_AT",order:"ASC"}}),i=t(e),s=await Spicetify.Platform.LibraryAPI.getAlbums({limit:2**30,sort:{field:"ADDED_AT"}}),r=t(s),n=await Spicetify.Platform.LibraryAPI.getArtists({limit:2**30,sort:{field:"ADDED_AT"}}),k=t(n),it=await p.pipe(await _(),tt),rt=p.pipe(localStorage,Y.toUnfoldable(l),l.filter(([o])=>Rt.test(o))),{items:st,namespace:at}=Spicetify.Platform.LocalStorageAPI,nt=p.pipe(st,Y.toUnfoldable(l),l.filter(([o])=>o.startsWith(at)),l.map(([o,c])=>[o.split(":")[1],c])),ot=p.pipe(document.querySelectorAll('[id^="settings."],[id^="desktop."],[class^="network."]'),Array.from,l.flatMap(o=>{let c=o.getAttribute("id");if(o instanceof HTMLInputElement){let F=o.getAttribute("type");if(F==="checkbox")return[[c,"checkbox",o.checked]];if(F==="text")return[[c,"text",o.value]]}else if(o instanceof HTMLSelectElement)return[[c,"select",o.value]];return[]}));await Spicetify.Platform.ClipboardAPI.copy(JSON.stringify({libraryTracks:i,libraryAlbums:r,libraryArtists:k,playlists:it,localStore:rt,localStoreAPI:nt,settings:ot})),Spicetify.showNotification("Backed up Playlists, Extensions and Settings")},P=t=>async()=>{let e=JSON.parse(await Spicetify.Platform.ClipboardAPI.paste());t==="library"&&(S(e.libraryTracks,!0),S(e.libraryAlbums,!0),S(e.libraryArtists,!0),await et(e.playlists),Spicetify.showNotification("Restored Library")),t==="extensions"&&(l.map(p.tupled(Spicetify.LocalStorage.set))(e.localStore),l.map(p.tupled(Spicetify.Platform.LocalStorageAPI.setItem))(e.localStoreAPI),Spicetify.showNotification("Restored Extensions")),t==="settings"&&(e.settings.map(([i,s,r])=>{let n=document.querySelector(`[id="${i}"]`);if(!n)return console.warn(`Setting for ${i} wasn't found`);if(s==="text")n.value=r;else if(s==="checkbox")n.checked=r;else if(s==="select")n.value=r;else return;E(n).onChange({target:n})}),Spicetify.showNotification("Restored Settings"))};Promise.resolve().then(()=>J())});X();export{K as backup,P as restore};
//! Does location actually point to document.body?
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vc2hhcmVkL2ZwLnRzIiwgIi4uLy4uL3NoYXJlZC91dGlsLnRzIiwgIi4uLy4uL3NoYXJlZC9hcGkudHMiLCAiLi4vLi4vc2hhcmVkL21vZHVsZXMudHMiLCAiLi4vLi4vc2hhcmVkL3NldHRpbmdzLnRzeCIsICIuLi8uLi9leHRlbnNpb25zL3ZhdWx0aWZ5L3NldHRpbmdzLnRzIiwgIi4uLy4uL2V4dGVuc2lvbnMvdmF1bHRpZnkvYXBwLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQge1xyXG4gICAgYXJyYXkgYXMgYXIsXHJcbiAgICBlcSxcclxuICAgIHN0cmluZyBhcyBzdHIsXHJcbiAgICByZWNvcmQgYXMgcmVjLFxyXG4gICAgcmVmaW5lbWVudCBhcyByZWYsXHJcbiAgICBzZW1pZ3JvdXAgYXMgc2csXHJcbiAgICBmdW5jdGlvbiBhcyBmLFxyXG59IGZyb20gXCJodHRwczovL2VzbS5zaC9mcC10c1wiXHJcbmltcG9ydCB7IGd1YXJkLCBtZW1vaXplIH0gZnJvbSBcImh0dHBzOi8vZXNtLnNoL2ZwLXRzLXN0ZC9GdW5jdGlvblwiXHJcblxyXG50eXBlIHJlZmluZUJyYW5jaDxBLCBCIGV4dGVuZHMgQSwgUj4gPSBbcmVmLlJlZmluZW1lbnQ8QSwgQj4sICh4OiBCKSA9PiBSXVxyXG5leHBvcnQgY29uc3QgZ3VhcmQyID0gPEEsIEExIGV4dGVuZHMgQSwgQTIgZXh0ZW5kcyBBLCBSPihicmFuY2hlczogW3JlZmluZUJyYW5jaDxBLCBBMSwgUj4sIHJlZmluZUJyYW5jaDxBLCBBMiwgUj5dKSA9PlxyXG4gICAgZ3VhcmQoYnJhbmNoZXMgYXMgdW5rbm93biBhcyBbcmVmaW5lQnJhbmNoPEEsIEEsIFI+LCByZWZpbmVCcmFuY2g8QSwgQSwgUj5dKVxyXG5leHBvcnQgY29uc3QgZ3VhcmQzID0gPEEsIEExIGV4dGVuZHMgQSwgQTIgZXh0ZW5kcyBBLCBBMyBleHRlbmRzIEEsIFI+KFxyXG4gICAgYnJhbmNoZXM6IFtyZWZpbmVCcmFuY2g8QSwgQTEsIFI+LCByZWZpbmVCcmFuY2g8QSwgQTIsIFI+LCByZWZpbmVCcmFuY2g8QSwgQTMsIFI+XSxcclxuKSA9PiBndWFyZChicmFuY2hlcyBhcyB1bmtub3duIGFzIFtyZWZpbmVCcmFuY2g8QSwgQSwgUj4sIHJlZmluZUJyYW5jaDxBLCBBLCBSPiwgcmVmaW5lQnJhbmNoPEEsIEEsIFI+XSlcclxuZXhwb3J0IGNvbnN0IGd1YXJkNCA9IDxBLCBBMSBleHRlbmRzIEEsIEEyIGV4dGVuZHMgQSwgQTMgZXh0ZW5kcyBBLCBBNCBleHRlbmRzIEEsIFI+KFxyXG4gICAgYnJhbmNoZXM6IFtyZWZpbmVCcmFuY2g8QSwgQTEsIFI+LCByZWZpbmVCcmFuY2g8QSwgQTIsIFI+LCByZWZpbmVCcmFuY2g8QSwgQTMsIFI+LCByZWZpbmVCcmFuY2g8QSwgQTQsIFI+XSxcclxuKSA9PlxyXG4gICAgZ3VhcmQoXHJcbiAgICAgICAgYnJhbmNoZXMgYXMgdW5rbm93biBhcyBbXHJcbiAgICAgICAgICAgIHJlZmluZUJyYW5jaDxBLCBBLCBSPixcclxuICAgICAgICAgICAgcmVmaW5lQnJhbmNoPEEsIEEsIFI+LFxyXG4gICAgICAgICAgICByZWZpbmVCcmFuY2g8QSwgQSwgUj4sXHJcbiAgICAgICAgICAgIHJlZmluZUJyYW5jaDxBLCBBLCBSPixcclxuICAgICAgICBdLFxyXG4gICAgKVxyXG5leHBvcnQgY29uc3QgZ3VhcmQ1ID0gPEEsIEExIGV4dGVuZHMgQSwgQTIgZXh0ZW5kcyBBLCBBMyBleHRlbmRzIEEsIEE0IGV4dGVuZHMgQSwgQTUgZXh0ZW5kcyBBLCBSPihcclxuICAgIGJyYW5jaGVzOiBbXHJcbiAgICAgICAgcmVmaW5lQnJhbmNoPEEsIEExLCBSPixcclxuICAgICAgICByZWZpbmVCcmFuY2g8QSwgQTIsIFI+LFxyXG4gICAgICAgIHJlZmluZUJyYW5jaDxBLCBBMywgUj4sXHJcbiAgICAgICAgcmVmaW5lQnJhbmNoPEEsIEE0LCBSPixcclxuICAgICAgICByZWZpbmVCcmFuY2g8QSwgQTUsIFI+LFxyXG4gICAgXSxcclxuKSA9PlxyXG4gICAgZ3VhcmQoXHJcbiAgICAgICAgYnJhbmNoZXMgYXMgdW5rbm93biBhcyBbXHJcbiAgICAgICAgICAgIHJlZmluZUJyYW5jaDxBLCBBLCBSPixcclxuICAgICAgICAgICAgcmVmaW5lQnJhbmNoPEEsIEEsIFI+LFxyXG4gICAgICAgICAgICByZWZpbmVCcmFuY2g8QSwgQSwgUj4sXHJcbiAgICAgICAgICAgIHJlZmluZUJyYW5jaDxBLCBBLCBSPixcclxuICAgICAgICAgICAgcmVmaW5lQnJhbmNoPEEsIEEsIFI+LFxyXG4gICAgICAgIF0sXHJcbiAgICApXHJcblxyXG5leHBvcnQgY29uc3Qgb2JqQ29uY2F0MiA9IDxBMSwgQTI+KCkgPT4gcmVjLmdldFVuaW9uU2VtaWdyb3VwKHNnLmZpcnN0PGFueT4oKSkuY29uY2F0IGFzICh4OiBBMSwgeTogQTIpID0+IEExICYgQTJcclxuZXhwb3J0IGNvbnN0IG9iakNvbmNhdCA9IDxBPigpID0+IGFyLnJlZHVjZSh7fSBhcyBBLCBvYmpDb25jYXQyPEEsIEE+KCkpXHJcblxyXG50eXBlIGFzeW5jID0ge1xyXG4gICAgPEEsIEI+KGY6IChhOiBBKSA9PiBQcm9taXNlPEI+KTogKGZhOiBQcm9taXNlPEE+KSA9PiBQcm9taXNlPEI+XHJcbiAgICA8QSwgQj4oZjogKGE6IEEpID0+IEIpOiAoZmE6IFByb21pc2U8QT4pID0+IFByb21pc2U8Qj5cclxufVxyXG5leHBvcnQgY29uc3QgcE1jaGFpbjogYXN5bmMgPVxyXG4gICAgPEEsIFI+KGY6IChhOiBBKSA9PiBSKSA9PlxyXG4gICAgYXN5bmMgKGZhOiBBKSA9PlxyXG4gICAgICAgIGYoYXdhaXQgZmEpXHJcblxyXG5leHBvcnQgY29uc3QgaXMgPVxyXG4gICAgPEE+KGM6IGtleW9mIEEpID0+XHJcbiAgICA8QiBleHRlbmRzIEE+KGE6IEFbdHlwZW9mIGNdKSA9PlxyXG4gICAgKGZpZWxkOiBBKTogZmllbGQgaXMgQiA9PlxyXG4gICAgICAgIGZpZWxkW2NdID09PSBhXHJcblxyXG5leHBvcnQgY29uc3QgdGFwQW55ID1cclxuICAgIDxBPihmOiAoYTogQSkgPT4gdm9pZCkgPT5cclxuICAgIChmYTogQSkgPT4ge1xyXG4gICAgICAgIGYoZmEpXHJcbiAgICAgICAgcmV0dXJuIGZhXHJcbiAgICB9XHJcblxyXG5leHBvcnQgY29uc3QgY2h1bmNraWZ5ID1cclxuICAgIChuOiBudW1iZXIpID0+XHJcbiAgICA8QSwgUj4oZzogKGE6IEFbXSkgPT4gUHJvbWlzZTxSW10+KSA9PlxyXG4gICAgICAgIGYuZmxvdyhhci5jaHVua3NPZihuKTxBPiwgYXIubWFwKGcpLCBwcyA9PiBQcm9taXNlLmFsbChwcyksIHBNY2hhaW4oYXIuZmxhdHRlbikpXHJcblxyXG5leHBvcnQgY29uc3Qgd2l0aFByb2dyZXNzID1cclxuICAgIDxGIGV4dGVuZHMgKGY6ICguLi5hOiBhbnkpID0+IGFueSkgPT4gKGZhOiBhbnkpID0+IGFueT4obWFwOiBGKSA9PlxyXG4gICAgKGY6IFBhcmFtZXRlcnM8Rj5bMF0pID0+XHJcbiAgICAoZmE6IFBhcmFtZXRlcnM8UmV0dXJuVHlwZTxGPj5bMF0pOiBSZXR1cm5UeXBlPFJldHVyblR5cGU8Rj4+ID0+IHtcclxuICAgICAgICBsZXQgaSA9IDBcclxuICAgICAgICByZXR1cm4gbWFwKGFzeW5jICguLi5hOiBQYXJhbWV0ZXJzPFBhcmFtZXRlcnM8Rj5bMF0+KSA9PiB7XHJcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IEZ1Y2sgbWVcclxuICAgICAgICAgICAgY29uc3QgcmV0ID0gYXdhaXQgZiguLi5hKVxyXG4gICAgICAgICAgICBjb25zdCBwcm9ncmVzcyA9IE1hdGgucm91bmQoKGkrKyAvIE9iamVjdC52YWx1ZXMoZmEpLmxlbmd0aCkgKiAxMDApXHJcbiAgICAgICAgICAgIFNwaWNldGlmeS5zaG93Tm90aWZpY2F0aW9uKGBMb2FkaW5nOiAke3Byb2dyZXNzfSVgLCBmYWxzZSwgMjAwKVxyXG4gICAgICAgICAgICByZXR1cm4gcmV0XHJcbiAgICAgICAgfSkoZmEpXHJcbiAgICB9XHJcblxyXG5leHBvcnQgY29uc3QgbWVtb2l6ZTIgPSA8QSBleHRlbmRzIGFueVtdLCBSPihmbjogKC4uLmFyZ3M6IEEpID0+IFIpID0+XHJcbiAgICBmLnBpcGUoZm4sIGYudHVwbGVkLCBtZW1vaXplPEE+KGVxLmNvbnRyYW1hcChKU09OLnN0cmluZ2lmeSkoc3RyLkVxKSksIGYudW50dXBsZWQpXHJcbiIsICIvLyBleHBvcnQgaW50ZXJmYWNlIFNwb3RpZnlJRFxyXG4vLyAgICAgZXh0ZW5kcyBOZXd0eXBlPHsgcmVhZG9ubHkgU3BvdGlmeUlEOiB1bmlxdWUgc3ltYm9sIH0sIHN0cmluZz4ge31cclxuLy8gZXhwb3J0IGludGVyZmFjZSBTcG90aWZ5VVJJXHJcbi8vICAgICBleHRlbmRzIE5ld3R5cGU8eyByZWFkb25seSBTcG90aWZ5VVJJOiB1bmlxdWUgc3ltYm9sIH0sIHN0cmluZz4ge31cclxuXHJcbmltcG9ydCB7IGFycmF5IGFzIGEsIGZ1bmN0aW9uIGFzIGYgfSBmcm9tIFwiaHR0cHM6Ly9lc20uc2gvZnAtdHNcIlxyXG5cclxuZXhwb3J0IHR5cGUgU3BvdGlmeUlEID0gc3RyaW5nXHJcbmV4cG9ydCB0eXBlIFNwb3RpZnlVUkkgPSBzdHJpbmdcclxuXHJcbmV4cG9ydCB0eXBlIFNwb3RpZnlMb2NPYmogPSB7XHJcbiAgICBiZWZvcmU/OiBcInN0YXJ0XCIgfCB7IHVyaTogU3BvdGlmeVVSSSB9IHwgeyB1aWQ6IHN0cmluZyB9XHJcbiAgICBhZnRlcj86IFwiZW5kXCIgfCB7IHVyaTogU3BvdGlmeVVSSSB9IHwgeyB1aWQ6IHN0cmluZyB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBTcG90aWZ5TG9jID0ge1xyXG4gICAgYmVmb3JlOiB7XHJcbiAgICAgICAgc3RhcnQ6IGYuY29uc3RhbnQoeyBiZWZvcmU6IFwic3RhcnRcIiB9IGFzIFNwb3RpZnlMb2NPYmopLFxyXG4gICAgICAgIGZyb21Vcmk6ICh1cmk6IFNwb3RpZnlVUkkpID0+ICh7IGJlZm9yZTogeyB1cmkgfSB9KSxcclxuICAgICAgICBmcm9tVWlkOiAodWlkOiBzdHJpbmcpID0+ICh7IGJlZm9yZTogeyB1aWQgfSB9KSxcclxuICAgIH0sXHJcbiAgICBhZnRlcjoge1xyXG4gICAgICAgIGVuZDogZi5jb25zdGFudCh7IGFmdGVyOiBcImVuZFwiIH0gYXMgU3BvdGlmeUxvY09iaiksXHJcbiAgICAgICAgZnJvbVVyaTogKHVyaTogU3BvdGlmeVVSSSkgPT4gKHsgYWZ0ZXI6IHsgdXJpIH0gfSksXHJcbiAgICAgICAgZnJvbVVpZDogKHVpZDogc3RyaW5nKSA9PiAoeyBhZnRlcjogeyB1aWQgfSB9KSxcclxuICAgIH0sXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBlc2NhcGVSZWdleCA9IChzdHI6IHN0cmluZykgPT4gc3RyLnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXF1cXFxcXS9nLCBgXFxcXCQmYClcclxuXHJcbmV4cG9ydCBjb25zdCB0aXRsZUNhc2UgPSAoc3RyOiBzdHJpbmcpID0+IHN0ci5yZXBsYWNlKC9cXGJcXHcvZywgbCA9PiBsLnRvVXBwZXJDYXNlKCkpXHJcblxyXG5leHBvcnQgY29uc3Qgbm9ybWFsaXplU3RyID0gKHN0cjogc3RyaW5nKSA9PlxyXG4gICAgc3RyXHJcbiAgICAgICAgLm5vcm1hbGl6ZShcIk5GS0RcIilcclxuICAgICAgICAucmVwbGFjZSgvXFwoLipcXCkvZywgXCJcIilcclxuICAgICAgICAucmVwbGFjZSgvXFxbLipcXF0vZywgXCJcIilcclxuICAgICAgICAucmVwbGFjZSgvLV8sL2csIFwiIFwiKVxyXG4gICAgICAgIC5yZXBsYWNlKC9bXmEtekEtWjAtOSBdL2csIFwiXCIpXHJcbiAgICAgICAgLnJlcGxhY2UoL1xccysvZywgXCIgXCIpXHJcbiAgICAgICAgLnRvTG93ZXJDYXNlKClcclxuICAgICAgICAudHJpbSgpXHJcblxyXG4vLyEgRG9lcyBsb2NhdGlvbiBhY3R1YWxseSBwb2ludCB0byBkb2N1bWVudC5ib2R5P1xyXG5leHBvcnQgY29uc3Qgd2FpdEZvckVsZW1lbnQgPSA8RSBleHRlbmRzIEVsZW1lbnQ+KFxyXG4gICAgc2VsZWN0b3I6IHN0cmluZyxcclxuICAgIHRpbWVvdXQgPSAxMDAwLFxyXG4gICAgbG9jYXRpb24gPSBkb2N1bWVudC5ib2R5LFxyXG4gICAgbm90RWw/OiBFLFxyXG4pID0+XHJcbiAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZTogKHZhbHVlOiBFbGVtZW50IHwgbnVsbCkgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHJlcyA9ICh2OiBhbnkpID0+IHtcclxuICAgICAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpXHJcbiAgICAgICAgICAgIHJlc29sdmUodilcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8RT4oc2VsZWN0b3IpXHJcbiAgICAgICAgICAgIGlmIChlbCAmJiAoIW5vdEVsIHx8IGVsICE9PSBub3RFbCkpIHJldHVybiByZXMoZWwpXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShsb2NhdGlvbiwge1xyXG4gICAgICAgICAgICBjaGlsZExpc3Q6IHRydWUsXHJcbiAgICAgICAgICAgIHN1YnRyZWU6IHRydWUsXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgaWYgKHRpbWVvdXQpIHNldFRpbWVvdXQoKCkgPT4gcmVzKG51bGwpLCB0aW1lb3V0KVxyXG4gICAgfSlcclxuXHJcbmV4cG9ydCBjb25zdCB0cmFwRWxlbWVudCA9IDxFIGV4dGVuZHMgRWxlbWVudD4oXHJcbiAgICBzZWxlY3Rvcjogc3RyaW5nLFxyXG4gICAgY2FsbGJhY2s6IChlbDogRSB8IG51bGwsIGxhc3RFbDogRSB8IG51bGwpID0+IHZvaWQsXHJcbiAgICBsb2NhdGlvbiA9IGRvY3VtZW50LmJvZHksXHJcbikgPT4ge1xyXG4gICAgbGV0IGxhc3RFbDogRSB8IG51bGwgPSBudWxsXHJcblxyXG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEU+KHNlbGVjdG9yKVxyXG4gICAgICAgIGlmIChlbCAhPT0gbGFzdEVsKSBjYWxsYmFjayhlbCwgbGFzdEVsKVxyXG4gICAgICAgIGxhc3RFbCA9IGVsXHJcbiAgICB9KVxyXG5cclxuICAgIG9ic2VydmVyLm9ic2VydmUobG9jYXRpb24sIHtcclxuICAgICAgICBjaGlsZExpc3Q6IHRydWUsXHJcbiAgICAgICAgc3VidHJlZTogdHJ1ZSxcclxuICAgIH0pXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBzbGVlcCA9IChtczogbnVtYmVyKSA9PiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKVxyXG5cclxuZXhwb3J0IGNvbnN0IGdldFJlYWN0UHJvcHMgPSAoZWxlbWVudDogRWxlbWVudCkgPT5cclxuICAgIGVsZW1lbnRbT2JqZWN0LmtleXMoZWxlbWVudCkuZmluZChrID0+IGsuc3RhcnRzV2l0aChcIl9fcmVhY3RQcm9wcyRcIikpIGFzIGtleW9mIHR5cGVvZiBlbGVtZW50XVxyXG5cclxuZXhwb3J0IGNvbnN0IGlzTGlrZWQgPSAodXJpczogU3BvdGlmeVVSSVtdKSA9PiBTcGljZXRpZnkuUGxhdGZvcm0uTGlicmFyeUFQSS5jb250YWlucyguLi51cmlzKSBhcyBQcm9taXNlPGJvb2xlYW5bXT5cclxuXHJcbmV4cG9ydCBjb25zdCBzZXRMaWtlZCA9ICh1cmlzOiBTcG90aWZ5VVJJW10sIGxpa2VkOiBib29sZWFuKSA9PlxyXG4gICAgU3BpY2V0aWZ5LlBsYXRmb3JtLkxpYnJhcnlBUElbbGlrZWQgPyBcImFkZFwiIDogXCJyZW1vdmVcIl0oLi4udXJpcylcclxuXHJcbmV4cG9ydCBjb25zdCB0b2dnbGVMaWtlZCA9IGFzeW5jICh1cmlzOiBTcG90aWZ5VVJJW10pID0+IHtcclxuICAgIGNvbnN0IGxpa2VkID0gYXdhaXQgaXNMaWtlZCh1cmlzKVxyXG5cclxuICAgIHJldHVybiBhd2FpdCBmLnBpcGUoXHJcbiAgICAgICAgdXJpcyxcclxuICAgICAgICBhLnJlZHVjZVdpdGhJbmRleChcclxuICAgICAgICAgICAgW1tdIGFzIFNwb3RpZnlVUklbXSwgW10gYXMgU3BvdGlmeVVSSVtdXSBhcyBjb25zdCxcclxuICAgICAgICAgICAgKGksIGFjYywgdXJpKSA9PiAoYWNjW051bWJlcihsaWtlZFtpXSldLnB1c2godXJpKSwgYWNjKSxcclxuICAgICAgICApLFxyXG4gICAgICAgIChbdG9BZGQsIHRvUmVtXSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBwcyA9IFtdXHJcbiAgICAgICAgICAgIGlmICh0b0FkZC5sZW5ndGgpIHBzLnB1c2goc2V0TGlrZWQodG9BZGQsIHRydWUpKVxyXG4gICAgICAgICAgICBpZiAodG9SZW0ubGVuZ3RoKSBwcy5wdXNoKHNldExpa2VkKHRvUmVtLCBmYWxzZSkpXHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChwcylcclxuICAgICAgICB9LFxyXG4gICAgKVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlUXVldWVJdGVtID0gKHF1ZXVlZDogYm9vbGVhbikgPT4gKHVyaTogU3BvdGlmeVVSSSkgPT4gKHtcclxuICAgIGNvbnRleHRUcmFjazoge1xyXG4gICAgICAgIHVyaSxcclxuICAgICAgICB1aWQ6IFwiXCIsXHJcbiAgICAgICAgbWV0YWRhdGE6IHtcclxuICAgICAgICAgICAgaXNfcXVldWVkOiBxdWV1ZWQudG9TdHJpbmcoKSxcclxuICAgICAgICB9LFxyXG4gICAgfSxcclxuICAgIHJlbW92ZWQ6IFtdLFxyXG4gICAgYmxvY2tlZDogW10sXHJcbiAgICBwcm92aWRlcjogcXVldWVkID8gXCJxdWV1ZVwiIDogXCJjb250ZXh0XCIsXHJcbn0pXHJcblxyXG5leHBvcnQgY29uc3Qgc2V0UXVldWUgPSBhc3luYyAobmV4dFRyYWNrczogQXJyYXk8UmV0dXJuVHlwZTxSZXR1cm5UeXBlPHR5cGVvZiBjcmVhdGVRdWV1ZUl0ZW0+Pj4pID0+IHtcclxuICAgIGNvbnN0IHsgX3F1ZXVlLCBfY2xpZW50IH0gPSBTcGljZXRpZnkuUGxhdGZvcm0uUGxheWVyQVBJLl9xdWV1ZVxyXG4gICAgY29uc3QgeyBwcmV2VHJhY2tzLCBxdWV1ZVJldmlzaW9uIH0gPSBfcXVldWVcclxuXHJcbiAgICByZXR1cm4gX2NsaWVudC5zZXRRdWV1ZSh7XHJcbiAgICAgICAgbmV4dFRyYWNrcyxcclxuICAgICAgICBwcmV2VHJhY2tzLFxyXG4gICAgICAgIHF1ZXVlUmV2aXNpb24sXHJcbiAgICB9KSBhcyBQcm9taXNlPHsgZXJyb3I6IG51bWJlcjsgcmVhc29uczogc3RyaW5nIH0+XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBzZXRQbGF5aW5nQ29udGV4dCA9ICh1cmk6IFNwb3RpZnlVUkkpID0+IHtcclxuICAgIGNvbnN0IHsgc2Vzc2lvbklkIH0gPSBTcGljZXRpZnkuUGxhdGZvcm0uUGxheWVyQVBJLmdldFN0YXRlKClcclxuICAgIHJldHVybiBTcGljZXRpZnkuUGxhdGZvcm0uUGxheWVyQVBJLnVwZGF0ZUNvbnRleHQoc2Vzc2lvbklkLCB7IHVyaSwgdXJsOiBcImNvbnRleHQ6Ly9cIiArIHVyaSB9KSBhcyBQcm9taXNlPHVuZGVmaW5lZD5cclxufVxyXG4iLCAiaW1wb3J0IHsgY2h1bmNraWZ5LCBtZW1vaXplMiB9IGZyb20gXCIuL2ZwLnRzXCJcclxuaW1wb3J0IHsgU3BvdGlmeUlELCBTcG90aWZ5TG9jT2JqLCBTcG90aWZ5VVJJLCBlc2NhcGVSZWdleCB9IGZyb20gXCIuL3V0aWwudHNcIlxyXG5cclxuLyogICAgICAgICAgICAgICAgICAgICAgICAgIEdyYXBoUUwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cclxuXHJcbmV4cG9ydCBjb25zdCBmZXRjaEdRTEFsYnVtID0gYXN5bmMgKHVyaTogU3BvdGlmeVVSSSwgb2Zmc2V0ID0gMCwgbGltaXQgPSA0ODcpID0+XHJcbiAgICAoXHJcbiAgICAgICAgYXdhaXQgU3BpY2V0aWZ5LkdyYXBoUUwuUmVxdWVzdChTcGljZXRpZnkuR3JhcGhRTC5EZWZpbml0aW9ucy5nZXRBbGJ1bSwge1xyXG4gICAgICAgICAgICB1cmksXHJcbiAgICAgICAgICAgIGxvY2FsZTogU3BpY2V0aWZ5LkxvY2FsZS5nZXRMb2NhbGUoKSxcclxuICAgICAgICAgICAgb2Zmc2V0LFxyXG4gICAgICAgICAgICBsaW1pdCxcclxuICAgICAgICB9KVxyXG4gICAgKS5kYXRhLmFsYnVtVW5pb24gYXMgZmV0Y2hHUUxBbGJ1bVJlc1xyXG5cclxudHlwZSBmZXRjaEFydGlzdEdRTFJlcyA9IGFueVxyXG5leHBvcnQgY29uc3QgZmV0Y2hHUUxBcnRpc3RPdmVydmlldyA9IGFzeW5jICh1cmk6IFNwb3RpZnlVUkkpID0+XHJcbiAgICAoXHJcbiAgICAgICAgYXdhaXQgU3BpY2V0aWZ5LkdyYXBoUUwuUmVxdWVzdChTcGljZXRpZnkuR3JhcGhRTC5EZWZpbml0aW9ucy5xdWVyeUFydGlzdE92ZXJ2aWV3LCB7XHJcbiAgICAgICAgICAgIHVyaSxcclxuICAgICAgICAgICAgbG9jYWxlOiBTcGljZXRpZnkuTG9jYWxlLmdldExvY2FsZSgpLFxyXG4gICAgICAgICAgICBpbmNsdWRlUHJlcmVsZWFzZTogdHJ1ZSxcclxuICAgICAgICB9KVxyXG4gICAgKS5kYXRhLmFydGlzdFVuaW9uIGFzIGZldGNoQXJ0aXN0R1FMUmVzXHJcblxyXG50eXBlIGZldGNoR1FMQXJ0aXN0RGlzY29ncmFwaHlSZXMgPSBhbnlcclxuZXhwb3J0IGNvbnN0IGZldGNoR1FMQXJ0aXN0RGlzY29ncmFwaHkgPSBhc3luYyAodXJpOiBTcG90aWZ5VVJJLCBvZmZzZXQgPSAwLCBsaW1pdCA9IDExNikgPT5cclxuICAgIChcclxuICAgICAgICBhd2FpdCBTcGljZXRpZnkuR3JhcGhRTC5SZXF1ZXN0KFNwaWNldGlmeS5HcmFwaFFMLkRlZmluaXRpb25zLnF1ZXJ5QXJ0aXN0RGlzY29ncmFwaHlBbGwsIHtcclxuICAgICAgICAgICAgdXJpLFxyXG4gICAgICAgICAgICBvZmZzZXQsXHJcbiAgICAgICAgICAgIGxpbWl0LFxyXG4gICAgICAgIH0pXHJcbiAgICApLmRhdGEuYXJ0aXN0VW5pb24uZGlzY29ncmFwaHkuYWxsLml0ZW1zIGFzIGZldGNoR1FMQXJ0aXN0RGlzY29ncmFwaHlSZXNcclxuXHJcbmV4cG9ydCBjb25zdCBmZXRjaEdRTEFydGlzdFJlbGF0ZWQgPSBhc3luYyAodXJpOiBTcG90aWZ5VVJJKSA9PlxyXG4gICAgKFxyXG4gICAgICAgIGF3YWl0IFNwaWNldGlmeS5HcmFwaFFMLlJlcXVlc3QoU3BpY2V0aWZ5LkdyYXBoUUwuRGVmaW5pdGlvbnMucXVlcnlBcnRpc3RSZWxhdGVkLCB7XHJcbiAgICAgICAgICAgIHVyaSxcclxuICAgICAgICAgICAgbG9jYWxlOiBTcGljZXRpZnkuTG9jYWxlLmdldExvY2FsZSgpLFxyXG4gICAgICAgIH0pXHJcbiAgICApLmRhdGEuYXJ0aXN0VW5pb24ucmVsYXRlZENvbnRlbnQucmVsYXRlZEFydGlzdHMuaXRlbXMgYXMgZmV0Y2hHUUxBcnRpc3RSZWxhdGVkUmVzXHJcblxyXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgU3BvdGlmeSBXZWIgQVBJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xyXG5cclxuZXhwb3J0IGNvbnN0IHJlbW92ZVdlYlBsYXlsaXN0VHJhY2tzID0gYXN5bmMgKHBsYXlsaXN0OiBTcG90aWZ5SUQsIHRyYWNrczogU3BvdGlmeVVSSVtdKSA9PlxyXG4gICAgU3BpY2V0aWZ5LkNvc21vc0FzeW5jLmRlbChgaHR0cHM6Ly9hcGkuc3BvdGlmeS5jb20vdjEvcGxheWxpc3RzLyR7cGxheWxpc3R9L3RyYWNrc2AsIHtcclxuICAgICAgICB0cmFja3M6IHRyYWNrcy5tYXAodXJpID0+ICh7IHVyaSB9KSksXHJcbiAgICB9KVxyXG5cclxuZXhwb3J0IGNvbnN0IGZldGNoV2ViQXJ0aXN0c1Nwb3QgPSBjaHVuY2tpZnkoNTApKFxyXG4gICAgYXN5bmMgKGlkczogU3BvdGlmeUlEW10pID0+XHJcbiAgICAgICAgKGF3YWl0IFNwaWNldGlmeS5Db3Ntb3NBc3luYy5nZXQoYGh0dHBzOi8vYXBpLnNwb3RpZnkuY29tL3YxL2FydGlzdHM/aWRzPSR7aWRzLmpvaW4oXCIsXCIpfWApKVxyXG4gICAgICAgICAgICAuYXJ0aXN0cyBhcyBTcG90QXBpQXJ0aXN0W10sXHJcbilcclxuXHJcbmV4cG9ydCBjb25zdCBmZXRjaFdlYlBsYXlsaXN0c1Nwb3QgPSBjaHVuY2tpZnkoMSkoXHJcbiAgICAvLyBAdHMtaWdub3JlIGNodW5raWZ5IHdpbGwgbmV2ZXIgY2FsbCB3aXRoIGVtcHR5IGFycmF5XHJcbiAgICBhc3luYyAoW2lkXTogW1Nwb3RpZnlJRF0pID0+IFtcclxuICAgICAgICAoYXdhaXQgU3BpY2V0aWZ5LkNvc21vc0FzeW5jLmdldChgaHR0cHM6Ly9hcGkuc3BvdGlmeS5jb20vdjEvcGxheWxpc3RzLyR7aWR9YCkpIGFzIFNwb3RBcGlQbGF5bGlzdCxcclxuICAgIF0sXHJcbilcclxuZXhwb3J0IGNvbnN0IGZldGNoV2ViQWxidW1zU3BvdCA9IGNodW5ja2lmeSg1MCkoXHJcbiAgICBhc3luYyAoaWRzOiBTcG90aWZ5SURbXSkgPT5cclxuICAgICAgICAoYXdhaXQgU3BpY2V0aWZ5LkNvc21vc0FzeW5jLmdldChgaHR0cHM6Ly9hcGkuc3BvdGlmeS5jb20vdjEvYWxidW1zP2lkcz0ke2lkcy5qb2luKFwiLFwiKX1gKSlcclxuICAgICAgICAgICAgLmFsYnVtcyBhcyBTcG90QXBpQWxidW1bXSxcclxuKVxyXG5cclxuZXhwb3J0IGNvbnN0IGZldGNoV2ViVHJhY2tzU3BvdCA9IGNodW5ja2lmeSg1MCkoXHJcbiAgICBhc3luYyAoaWRzOiBTcG90aWZ5SURbXSkgPT5cclxuICAgICAgICAoYXdhaXQgU3BpY2V0aWZ5LkNvc21vc0FzeW5jLmdldChgaHR0cHM6Ly9hcGkuc3BvdGlmeS5jb20vdjEvdHJhY2tzP2lkcz0ke2lkcy5qb2luKFwiLFwiKX1gKSlcclxuICAgICAgICAgICAgLnRyYWNrcyBhcyBTcG90QXBpVHJhY2tbXSxcclxuKVxyXG5cclxuZXhwb3J0IGNvbnN0IHNlYXJjaFdlYkl0ZW1TcG90ID0gYXN5bmMgKHE6IHN0cmluZywgdHlwZTogc3RyaW5nW10pID0+XHJcbiAgICBTcGljZXRpZnkuQ29zbW9zQXN5bmMuZ2V0KGBodHRwczovL2FwaS5zcG90aWZ5LmNvbS92MS9zZWFyY2g/cT0ke2VuY29kZVVSSUNvbXBvbmVudChxKX0mdHlwZT0ke3R5cGUuam9pbihcIixcIil9YClcclxuXHJcbmV4cG9ydCBjb25zdCBmZXRjaFdlYlNvdW5kT2ZTcG90aWZ5UGxheWxpc3QgPSBhc3luYyAoZ2VucmU6IHN0cmluZykgPT4ge1xyXG4gICAgY29uc3QgbmFtZSA9IGBUaGUgU291bmQgT2YgJHtnZW5yZX1gXHJcbiAgICBjb25zdCByZSA9IG5ldyBSZWdFeHAoYF4ke2VzY2FwZVJlZ2V4KG5hbWUpfSRgLCBcImlcIilcclxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHNlYXJjaFdlYkl0ZW1TcG90KG5hbWUsIFtcInBsYXlsaXN0XCJdKVxyXG4gICAgY29uc3QgaXRlbSA9IHJlcy5wbGF5bGlzdHMuaXRlbXNbMF1cclxuICAgIHJldHVybiBpdGVtPy5vd25lci5pZCA9PT0gXCJ0aGVzb3VuZHNvZnNwb3RpZnlcIiAmJiByZS50ZXN0KGl0ZW0ubmFtZSkgPyBpdGVtLnVyaSA6IG51bGxcclxufVxyXG5cclxuLyogICAgICAgICAgICAgICAgICAgICAgICAgIFBsYXRmb3JtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cclxuXHJcbmV4cG9ydCBjb25zdCBmZXRjaFBsYXRMaWtlZFRyYWNrcyA9IGFzeW5jICgpID0+XHJcbiAgICAoXHJcbiAgICAgICAgYXdhaXQgU3BpY2V0aWZ5LlBsYXRmb3JtLkxpYnJhcnlBUEkuZ2V0VHJhY2tzKHtcclxuICAgICAgICAgICAgbGltaXQ6IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSLFxyXG4gICAgICAgIH0pXHJcbiAgICApLml0ZW1zIGFzIGZldGNoUGxhdEFydGlzdExpa2VkVHJhY2tzUmVzXHJcbmV4cG9ydCBjb25zdCBmZXRjaFBsYXRBcnRpc3RMaWtlZFRyYWNrcyA9IGFzeW5jICh1cmk6IFNwb3RpZnlVUkksIG9mZnNldCA9IDAsIGxpbWl0ID0gMTAwKSA9PlxyXG4gICAgKGF3YWl0IFNwaWNldGlmeS5QbGF0Zm9ybS5MaWJyYXJ5QVBJLmdldFRyYWNrcyh7IHVyaSwgb2Zmc2V0LCBsaW1pdCB9KSkuaXRlbXMgYXMgZmV0Y2hQbGF0QXJ0aXN0TGlrZWRUcmFja3NSZXNcclxuXHJcbmV4cG9ydCBjb25zdCBmZXRjaFBsYXRQbGF5bGlzdENvbnRlbnRzID0gYXN5bmMgKHVyaTogU3BvdGlmeVVSSSkgPT5cclxuICAgIChhd2FpdCBTcGljZXRpZnkuUGxhdGZvcm0uUGxheWxpc3RBUEkuZ2V0Q29udGVudHModXJpKSkuaXRlbXMgYXMgZmV0Y2hXZWJQbGF5bGlzdFJlc1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVBsYXRGb2xkZXIgPSBhc3luYyAobmFtZTogc3RyaW5nLCBsb2NhdGlvbjogU3BvdGlmeUxvY09iaiA9IHt9KSA9PlxyXG4gICAgYXdhaXQgU3BpY2V0aWZ5LlBsYXRmb3JtLlJvb3RsaXN0QVBJLmNyZWF0ZUZvbGRlcihuYW1lLCBsb2NhdGlvbilcclxuXHJcbmV4cG9ydCBjb25zdCBsaWtlUGxhdFBsYXlsaXN0ID0gYXN5bmMgKHVyaTogU3BvdGlmeVVSSSkgPT4gYXdhaXQgU3BpY2V0aWZ5LlBsYXRmb3JtLlJvb3RsaXN0QVBJLmFkZChbdXJpXSlcclxuXHJcbi8qIFJlcGxhY2VkIGJ5IGNyZWF0ZVNQUGxheWxpc3RGcm9tVHJhY2tzICovXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVQbGF0UGxheWxpc3QgPSBhc3luYyAobmFtZTogc3RyaW5nLCBsb2NhdGlvbjogU3BvdGlmeUxvY09iaiA9IHt9KSA9PlxyXG4gICAgYXdhaXQgU3BpY2V0aWZ5LlBsYXRmb3JtLlJvb3RsaXN0QVBJLmNyZWF0ZVBsYXlsaXN0KG5hbWUsIGxvY2F0aW9uKVxyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVNQUGxheWxpc3RGcm9tVHJhY2tzID0gKG5hbWU6IHN0cmluZywgdHJhY2tzOiBTcG90aWZ5VVJJW10sIGZvbGRlcj86IFNwb3RpZnlVUkkpID0+XHJcbiAgICBTcGljZXRpZnkuQ29zbW9zQXN5bmMucG9zdChcInNwOi8vY29yZS1wbGF5bGlzdC92MS9yb290bGlzdD9yZXNwb25zZUZvcm1hdD1wcm90b2J1Zkpzb25cIiwge1xyXG4gICAgICAgIG9wZXJhdGlvbjogXCJjcmVhdGVcIixcclxuICAgICAgICAuLi4oZm9sZGVyID8geyBhZnRlcjogZm9sZGVyIH0gOiB7fSksXHJcbiAgICAgICAgbmFtZSxcclxuICAgICAgICBwbGF5bGlzdDogdHJ1ZSxcclxuICAgICAgICB1cmlzOiB0cmFja3MsXHJcbiAgICB9KVxyXG5cclxuZXhwb3J0IGNvbnN0IHNldFBsYXRQbGF5bGlzdFZpc2liaWxpdHkgPSBhc3luYyAocGxheWxpc3Q6IFNwb3RpZnlVUkksIHZpc2libGVGb3JBbGw6IGJvb2xlYW4pID0+XHJcbiAgICBhd2FpdCBTcGljZXRpZnkuUGxhdGZvcm0uUGxheWxpc3RQZXJtaXNzaW9uc0FQSS5zZXRCYXNlUGVybWlzc2lvbihwbGF5bGlzdCwgdmlzaWJsZUZvckFsbCA/IFwiVklFV0VSXCIgOiBcIkJMT0NLRURcIilcclxuZXhwb3J0IGNvbnN0IHNldFBsYXRQbGF5bGlzdFB1Ymxpc2hlZCA9IGFzeW5jIChwbGF5bGlzdDogU3BvdGlmeVVSSSwgcHVibGlzaGVkOiBib29sZWFuKSA9PlxyXG4gICAgYXdhaXQgU3BpY2V0aWZ5LlBsYXRmb3JtLlJvb3RsaXN0QVBJLnNldFB1Ymxpc2hlZFN0YXRlKHBsYXlsaXN0LCBwdWJsaXNoZWQpXHJcblxyXG5leHBvcnQgY29uc3QgZmV0Y2hQbGF0Rm9sZGVyID0gYXN5bmMgKGZvbGRlcj86IFNwb3RpZnlVUkkpID0+XHJcbiAgICAoYXdhaXQgU3BpY2V0aWZ5LlBsYXRmb3JtLlJvb3RsaXN0QVBJLmdldENvbnRlbnRzKHsgZm9sZGVyVXJpOiBmb2xkZXIgfSkpIGFzIGZldGNoUGxhdEZvbGRlclJlc1xyXG5leHBvcnQgY29uc3QgZmV0Y2hQbGF0Um9vdEZvbGRlciA9ICgpID0+IGZldGNoUGxhdEZvbGRlcih1bmRlZmluZWQpXHJcblxyXG5leHBvcnQgY29uc3QgYWRkUGxhdFBsYXlsaXN0VHJhY2tzID0gYXN5bmMgKHBsYXlsaXN0OiBTcG90aWZ5VVJJLCB0cmFja3M6IFNwb3RpZnlVUklbXSwgbG9jYXRpb246IFNwb3RpZnlMb2NPYmogPSB7fSkgPT5cclxuICAgIGF3YWl0IFNwaWNldGlmeS5QbGF0Zm9ybS5QbGF5bGlzdEFQSS5hZGQocGxheWxpc3QsIHRyYWNrcywgbG9jYXRpb24pXHJcblxyXG5leHBvcnQgY29uc3QgbW92ZVBsYXRQbGF5bGlzdFRyYWNrcyA9IGFzeW5jIChcclxuICAgIHBsYXlsaXN0OiBTcG90aWZ5VVJJLFxyXG4gICAgdHJhY2tzOiBBcnJheTx7IHVpZDogc3RyaW5nIH0+LFxyXG4gICAgbG9jYXRpb246IFNwb3RpZnlMb2NPYmogPSB7fSxcclxuKSA9PiBhd2FpdCBTcGljZXRpZnkuUGxhdGZvcm0uUGxheWxpc3RBUEkubW92ZShwbGF5bGlzdCwgdHJhY2tzLCBsb2NhdGlvbilcclxuXHJcbmV4cG9ydCBjb25zdCByZW1vdmVQbGF0UGxheWxpc3RUcmFja3MgPSBhc3luYyAocGxheWxpc3Q6IFNwb3RpZnlVUkksIHRyYWNrczogQXJyYXk8eyB1aWQ6IHN0cmluZyB9PikgPT5cclxuICAgIFNwaWNldGlmeS5QbGF0Zm9ybS5QbGF5bGlzdEFQSS5yZW1vdmUocGxheWxpc3QsIHRyYWNrcylcclxuXHJcbmV4cG9ydCBjb25zdCBmZXRjaFBsYXRQbGF5bGlzdEVuaGFuY2VkU29uZ3MzMDAgPSBhc3luYyAodXJpOiBTcG90aWZ5VVJJLCBvZmZzZXQgPSAwLCBsaW1pdCA9IDMwMCkgPT5cclxuICAgIChhd2FpdCBTcGljZXRpZnkuUGxhdGZvcm0uRW5oYW5jZUFQSS5nZXRQYWdlKHVyaSwgLyogaXRlcmF0aW9uICovIDAsIC8qIHNlc3Npb25JZCAqLyAwLCBvZmZzZXQsIGxpbWl0KSkuZW5oYW5jZVBhZ2VcclxuICAgICAgICAucGFnZUl0ZW1zIGFzIGFueVtdXHJcbmV4cG9ydCBjb25zdCBmZXRjaFBsYXRQbGF5bGlzdEVuaGFuY2VkU29uZ3MgPSBhc3luYyAodXJpOiBTcG90aWZ5VVJJLCBvZmZzZXQgPSAwKTogUHJvbWlzZTxhbnlbXT4gPT4ge1xyXG4gICAgY29uc3QgbmV4dFBhZ2VJdGVtcyA9IGF3YWl0IGZldGNoUGxhdFBsYXlsaXN0RW5oYW5jZWRTb25nczMwMCh1cmksIG9mZnNldClcclxuICAgIGlmIChuZXh0UGFnZUl0ZW1zPy5sZW5ndGggPCAzMDApIHJldHVybiBuZXh0UGFnZUl0ZW1zXHJcbiAgICBlbHNlIHJldHVybiBuZXh0UGFnZUl0ZW1zLmNvbmNhdChmZXRjaFBsYXRQbGF5bGlzdEVuaGFuY2VkU29uZ3ModXJpLCBvZmZzZXQgKyAzMDApKVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZmV0Y2hMb2NhbFRyYWNrcyA9IGFzeW5jICgpID0+IGF3YWl0IFNwaWNldGlmeS5QbGF0Zm9ybS5Mb2NhbEZpbGVzQVBJLmdldFRyYWNrcygpXHJcblxyXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgTm9uIFNwb3RpZnkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xyXG5cclxuZXhwb3J0IGNvbnN0IGZldGNoVHJhY2tMRk1BUEkgPSBhc3luYyAoTEZNQXBpS2V5OiBzdHJpbmcsIGFydGlzdDogc3RyaW5nLCB0cmFja05hbWU6IHN0cmluZywgbGFzdEZtVXNlcm5hbWUgPSBcIlwiKSA9PiB7XHJcbiAgICBjb25zdCB1cmwgPSBuZXcgVVJMKFwiaHR0cHM6Ly93cy5hdWRpb3Njcm9iYmxlci5jb20vMi4wL1wiKVxyXG4gICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoXCJtZXRob2RcIiwgXCJ0cmFjay5nZXRJbmZvXCIpXHJcbiAgICB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChcImFwaV9rZXlcIiwgTEZNQXBpS2V5KVxyXG4gICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoXCJhcnRpc3RcIiwgYXJ0aXN0KVxyXG4gICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoXCJ0cmFja1wiLCB0cmFja05hbWUpXHJcbiAgICB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChcImZvcm1hdFwiLCBcImpzb25cIilcclxuICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKFwidXNlcm5hbWVcIiwgbGFzdEZtVXNlcm5hbWUpXHJcblxyXG4gICAgcmV0dXJuIChhd2FpdCBmZXRjaCh1cmwpLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpKSBhcyBmZXRjaFRyYWNrTEZNQVBJUmVzXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBmZXRjaFRyYWNrTEZNQVBJTWVtb2l6ZWQgPSBtZW1vaXplMihmZXRjaFRyYWNrTEZNQVBJKVxyXG5cclxuZXhwb3J0IGNvbnN0IHNlYXJjaFlvdXR1YmUgPSBhc3luYyAoWW91VHViZUFwaUtleTogc3RyaW5nLCBzZWFyY2hTdHJpbmc6IHN0cmluZykgPT4ge1xyXG4gICAgY29uc3QgdXJsID0gbmV3IFVSTChcImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL3lvdXR1YmUvdjMvc2VhcmNoXCIpXHJcbiAgICB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChcInBhcnRcIiwgXCJzbmlwcGV0XCIpXHJcbiAgICB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChcIm1heFJlc3VsdHNcIiwgXCIxMFwiKVxyXG4gICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoXCJxXCIsIHNlYXJjaFN0cmluZylcclxuICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKFwidHlwZVwiLCBcInZpZGVvXCIpXHJcbiAgICB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChcImtleVwiLCBZb3VUdWJlQXBpS2V5KVxyXG5cclxuICAgIHJldHVybiAoYXdhaXQgZmV0Y2godXJsKS50aGVuKHJlcyA9PiByZXMuanNvbigpKSkgYXMgYW55W11cclxufVxyXG5cclxuLyogICAgICAgICAgICAgICAgICAgICAgICAgIFR5cGVzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgZmV0Y2hHUUxBbGJ1bVJlcyB7XHJcbiAgICBfX3R5cGVuYW1lOiBcImFsYnVtXCJcclxuICAgIHVyaTogU3BvdGlmeVVSSVxyXG4gICAgbmFtZTogc3RyaW5nXHJcbiAgICBhcnRpc3RzOiB7XHJcbiAgICAgICAgdG90YWxDb3VudDogbnVtYmVyXHJcbiAgICAgICAgaXRlbXM6IEFycmF5PHtcclxuICAgICAgICAgICAgaWQ6IHN0cmluZ1xyXG4gICAgICAgICAgICB1cmk6IFNwb3RpZnlVUklcclxuICAgICAgICAgICAgcHJvZmlsZToge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogc3RyaW5nXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmlzdWFsczoge1xyXG4gICAgICAgICAgICAgICAgYXZhdGFySW1hZ2U6IHtcclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VzOiBTcG90QXBpSW1hZ2VbXVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNoYXJpbmdJbmZvOiB7XHJcbiAgICAgICAgICAgICAgICBzaGFyZVVybDogc3RyaW5nXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9PlxyXG4gICAgfVxyXG4gICAgY292ZXJBcnQ6IHtcclxuICAgICAgICBleHRyYWN0ZWRDb2xvcnM6IHtcclxuICAgICAgICAgICAgY29sb3JSYXc6IHtcclxuICAgICAgICAgICAgICAgIGhleDogc3RyaW5nXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29sb3JMaWdodDoge1xyXG4gICAgICAgICAgICAgICAgaGV4OiBzdHJpbmdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb2xvckRhcms6IHtcclxuICAgICAgICAgICAgICAgIGhleDogc3RyaW5nXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgc291cmNlczogU3BvdEFwaUltYWdlW11cclxuICAgIH1cclxuICAgIGRpc2NzOiB7XHJcbiAgICAgICAgdG90YWxDb3VudDogbnVtYmVyXHJcbiAgICAgICAgaXRlbXM6IEFycmF5PHtcclxuICAgICAgICAgICAgbnVtYmVyOiBudW1iZXJcclxuICAgICAgICAgICAgdHJhY2tzOiB7XHJcbiAgICAgICAgICAgICAgICB0b3RhbENvdW50OiBudW1iZXJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0+XHJcbiAgICB9XHJcbiAgICByZWxlYXNlczoge1xyXG4gICAgICAgIHRvdGFsQ291bnQ6IG51bWJlclxyXG4gICAgICAgIGl0ZW1zOiBBcnJheTx7XHJcbiAgICAgICAgICAgIHVyaTogU3BvdGlmeVVSSVxyXG4gICAgICAgICAgICBuYW1lOiBzdHJpbmdcclxuICAgICAgICB9PlxyXG4gICAgfVxyXG4gICAgdHlwZTogc3RyaW5nXHJcbiAgICBkYXRlOiB7XHJcbiAgICAgICAgaXNvU3RyaW5nOiBzdHJpbmdcclxuICAgICAgICBwcmVjaXNpb246IHN0cmluZ1xyXG4gICAgfVxyXG4gICAgcGxheWFiaWxpdHk6IHtcclxuICAgICAgICBwbGF5YWJsZTogYm9vbGVhblxyXG4gICAgICAgIHJlYXNvbjogc3RyaW5nXHJcbiAgICB9XHJcbiAgICBsYWJlbDogc3RyaW5nXHJcbiAgICBjb3B5cmlnaHQ6IHtcclxuICAgICAgICB0b3RhbENvdW50OiBudW1iZXJcclxuICAgICAgICBpdGVtczogQXJyYXk8e1xyXG4gICAgICAgICAgICB0eXBlOiBzdHJpbmdcclxuICAgICAgICAgICAgdGV4dDogc3RyaW5nXHJcbiAgICAgICAgfT5cclxuICAgIH1cclxuICAgIGNvdXJ0ZXN5TGluZTogc3RyaW5nXHJcbiAgICBzYXZlZDogYm9vbGVhblxyXG4gICAgc2hhcmluZ0luZm86IHtcclxuICAgICAgICBzaGFyZVVybDogc3RyaW5nXHJcbiAgICAgICAgc2hhcmVJZDogc3RyaW5nXHJcbiAgICB9XHJcbiAgICB0cmFja3M6IHtcclxuICAgICAgICB0b3RhbENvdW50OiBudW1iZXJcclxuICAgICAgICBpdGVtczogQXJyYXk8e1xyXG4gICAgICAgICAgICB1aWQ6IHN0cmluZ1xyXG4gICAgICAgICAgICB0cmFjazoge1xyXG4gICAgICAgICAgICAgICAgc2F2ZWQ6IGJvb2xlYW5cclxuICAgICAgICAgICAgICAgIHVyaTogU3BvdGlmeVVSSVxyXG4gICAgICAgICAgICAgICAgbmFtZTogc3RyaW5nXHJcbiAgICAgICAgICAgICAgICBwbGF5Y291bnQ6IHN0cmluZ1xyXG4gICAgICAgICAgICAgICAgZGlzY051bWJlcjogbnVtYmVyXHJcbiAgICAgICAgICAgICAgICB0cmFja051bWJlcjogbnVtYmVyXHJcbiAgICAgICAgICAgICAgICBjb250ZW50UmF0aW5nOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHN0cmluZ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmVsaW5raW5nSW5mb3JtYXRpb246IGFueVxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IHtcclxuICAgICAgICAgICAgICAgICAgICB0b3RhbE1pbGxpc2Vjb25kczogbnVtYmVyXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBwbGF5YWJpbGl0eToge1xyXG4gICAgICAgICAgICAgICAgICAgIHBsYXlhYmxlOiBib29sZWFuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBhcnRpc3RzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbXM6IEFycmF5PHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXJpOiBTcG90aWZ5VVJJXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2ZpbGU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHN0cmluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfT5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0+XHJcbiAgICB9XHJcbiAgICBtb3JlQWxidW1zQnlBcnRpc3Q6IHtcclxuICAgICAgICBpdGVtczogQXJyYXk8e1xyXG4gICAgICAgICAgICBkaXNjb2dyYXBoeToge1xyXG4gICAgICAgICAgICAgICAgcG9wdWxhclJlbGVhc2VzQWxidW1zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbXM6IEFycmF5PHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHN0cmluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmk6IFNwb3RpZnlVUklcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogc3RyaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHllYXI6IG51bWJlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdmVyQXJ0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VzOiBTcG90QXBpSW1hZ2VbXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXlhYmlsaXR5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5YWJsZTogYm9vbGVhblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uOiBzdHJpbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaGFyaW5nSW5mbzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhcmVJZDogc3RyaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFyZVVybDogc3RyaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogc3RyaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgfT5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0+XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIGZldGNoR1FMQXJ0aXN0UmVsYXRlZFJlcyA9IEFycmF5PHtcclxuICAgIGlkOiBzdHJpbmdcclxuICAgIHVyaTogU3BvdGlmeVVSSVxyXG4gICAgcHJvZmlsZToge1xyXG4gICAgICAgIG5hbWU6IHN0cmluZ1xyXG4gICAgfVxyXG4gICAgdmlzdWFsczoge1xyXG4gICAgICAgIGF2YXRhckltYWdlOiB7XHJcbiAgICAgICAgICAgIHNvdXJjZXM6IFNwb3RBcGlJbWFnZVtdXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59PlxyXG5cclxuZXhwb3J0IHR5cGUgZmV0Y2hQbGF0QXJ0aXN0TGlrZWRUcmFja3NSZXMgPSBBcnJheTx7XHJcbiAgICB0eXBlOiBzdHJpbmdcclxuICAgIHVyaTogc3RyaW5nXHJcbiAgICBuYW1lOiBzdHJpbmdcclxuICAgIGR1cmF0aW9uOiBTcG90QXBpRHVyYXRpb25cclxuICAgIGFsYnVtOiBTcG90QXBpQWxidW1NaW5cclxuICAgIGFydGlzdHM6IFNwb3RBcGlBcnRpc3RNaW5bXVxyXG4gICAgZGlzY051bWJlcjogbnVtYmVyXHJcbiAgICB0cmFja051bWJlcjogbnVtYmVyXHJcbiAgICBpc0V4cGxpY2l0OiBib29sZWFuXHJcbiAgICBpc1BsYXlhYmxlOiBib29sZWFuXHJcbiAgICBpc0xvY2FsOiBib29sZWFuXHJcbiAgICBpczE5UGx1c09ubHk6IGJvb2xlYW5cclxuICAgIGFkZGVkQXQ6IHN0cmluZ1xyXG59PlxyXG5cclxuZXhwb3J0IHR5cGUgZmV0Y2hXZWJQbGF5bGlzdFJlcyA9IEFycmF5PHtcclxuICAgIHVpZDogc3RyaW5nXHJcbiAgICBwbGF5SW5kZXg6IG51bGxcclxuICAgIGFkZGVkQXQ6IHN0cmluZ1xyXG4gICAgYWRkZWRCeToge1xyXG4gICAgICAgIHR5cGU6IHN0cmluZ1xyXG4gICAgICAgIHVyaTogU3BvdGlmeVVSSVxyXG4gICAgICAgIHVzZXJuYW1lOiBzdHJpbmdcclxuICAgICAgICBkaXNwbGF5TmFtZTogc3RyaW5nXHJcbiAgICAgICAgaW1hZ2VzOiBTcG90QXBpSW1hZ2UyW11cclxuICAgIH1cclxuICAgIGZvcm1hdExpc3RBdHRyaWJ1dGVzOiB7fVxyXG4gICAgdHlwZTogXCJ0cmFja1wiXHJcbiAgICB1cmk6IFNwb3RpZnlVUklcclxuICAgIG5hbWU6IHN0cmluZ1xyXG4gICAgYWxidW06IFNwb3RBcGlBbGJ1bU1pblxyXG4gICAgYXJ0aXN0czogU3BvdEFwaUFydGlzdE1pbltdXHJcbiAgICBkaXNjTnVtYmVyOiBudW1iZXJcclxuICAgIHRyYWNrTnVtYmVyOiBudW1iZXJcclxuICAgIGR1cmF0aW9uOiBTcG90QXBpRHVyYXRpb25cclxuICAgIGlzRXhwbGljaXQ6IGJvb2xlYW5cclxuICAgIGlzTG9jYWw6IGJvb2xlYW5cclxuICAgIGlzUGxheWFibGU6IGJvb2xlYW5cclxuICAgIGlzMTlQbHVzT25seTogYm9vbGVhblxyXG59PlxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBmZXRjaFRyYWNrTEZNQVBJUmVzIHtcclxuICAgIHRyYWNrOiB7XHJcbiAgICAgICAgbmFtZTogc3RyaW5nXHJcbiAgICAgICAgbWJpZDogc3RyaW5nXHJcbiAgICAgICAgdXJsOiBzdHJpbmdcclxuICAgICAgICBkdXJhdGlvbjogc3RyaW5nXHJcbiAgICAgICAgc3RyZWFtYWJsZToge1xyXG4gICAgICAgICAgICBcIiN0ZXh0XCI6IHN0cmluZ1xyXG4gICAgICAgICAgICBmdWxsdHJhY2s6IHN0cmluZ1xyXG4gICAgICAgIH1cclxuICAgICAgICBsaXN0ZW5lcnM6IHN0cmluZ1xyXG4gICAgICAgIHBsYXljb3VudDogc3RyaW5nXHJcbiAgICAgICAgYXJ0aXN0OiB7XHJcbiAgICAgICAgICAgIG5hbWU6IHN0cmluZ1xyXG4gICAgICAgICAgICBtYmlkOiBzdHJpbmdcclxuICAgICAgICAgICAgdXJsOiBzdHJpbmdcclxuICAgICAgICB9XHJcbiAgICAgICAgYWxidW06IHtcclxuICAgICAgICAgICAgYXJ0aXN0OiBzdHJpbmdcclxuICAgICAgICAgICAgdGl0bGU6IHN0cmluZ1xyXG4gICAgICAgICAgICBtYmlkOiBzdHJpbmdcclxuICAgICAgICAgICAgdXJsOiBzdHJpbmdcclxuICAgICAgICAgICAgaW1hZ2U6IEFycmF5PHtcclxuICAgICAgICAgICAgICAgIFwiI3RleHRcIjogc3RyaW5nXHJcbiAgICAgICAgICAgICAgICBzaXplOiBzdHJpbmdcclxuICAgICAgICAgICAgfT5cclxuICAgICAgICAgICAgXCJAYXR0clwiOiB7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogc3RyaW5nXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdXNlcnBsYXljb3VudDogc3RyaW5nXHJcbiAgICAgICAgdXNlcmxvdmVkOiBzdHJpbmdcclxuICAgICAgICB0b3B0YWdzOiB7XHJcbiAgICAgICAgICAgIHRhZzogQXJyYXk8e1xyXG4gICAgICAgICAgICAgICAgbmFtZTogc3RyaW5nXHJcbiAgICAgICAgICAgICAgICB1cmw6IHN0cmluZ1xyXG4gICAgICAgICAgICB9PlxyXG4gICAgICAgIH1cclxuICAgICAgICB3aWtpOiB7XHJcbiAgICAgICAgICAgIHB1Ymxpc2hlZDogc3RyaW5nXHJcbiAgICAgICAgICAgIHN1bW1hcnk6IHN0cmluZ1xyXG4gICAgICAgICAgICBjb250ZW50OiBzdHJpbmdcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFNwb3RBcGlBbGJ1bU1pbiB7XHJcbiAgICB0eXBlOiBcImFsYnVtXCJcclxuICAgIHVyaTogU3BvdGlmeVVSSVxyXG4gICAgbmFtZTogc3RyaW5nXHJcbiAgICBhcnRpc3Q6IFNwb3RBcGlBcnRpc3RNaW5cclxuICAgIGltYWdlczogU3BvdEFwaUltYWdlMltdXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3BvdEFwaUltYWdlMiB7XHJcbiAgICB1cmw6IHN0cmluZ1xyXG4gICAgbGFiZWw6IFwic21hbGxcIiB8IFwic3RhbmRhcmRcIiB8IFwibGFyZ2VcIiB8IFwieGxhcmdlXCJcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTcG90QXBpVHJhY2sge1xyXG4gICAgYWxidW06IFNwb3RBcGlBbGJ1bVxyXG4gICAgYXJ0aXN0czogU3BvdEFwaUFydGlzdFtdXHJcbiAgICBhdmFpbGFibGVfbWFya2V0czogc3RyaW5nW11cclxuICAgIGRpc2NfbnVtYmVyOiBudW1iZXJcclxuICAgIGR1cmF0aW9uX21zOiBudW1iZXJcclxuICAgIGV4cGxpY2l0OiBib29sZWFuXHJcbiAgICBleHRlcm5hbF9pZHM6IFNwb3RBcGlFSURzXHJcbiAgICBleHRlcm5hbF91cmxzOiBTcG90QXBpRVVybHNcclxuICAgIGhyZWY6IHN0cmluZ1xyXG4gICAgaWQ6IHN0cmluZ1xyXG4gICAgaXNfcGxheWFibGU6IGJvb2xlYW5cclxuICAgIGxpbmtlZF9mcm9tOiB7fVxyXG4gICAgcmVzdHJpY3Rpb25zOiBTcG90QXBpUmVzdHJpY3Rpb25zXHJcbiAgICBuYW1lOiBzdHJpbmdcclxuICAgIHBvcHVsYXJpdHk6IG51bWJlclxyXG4gICAgcHJldmlld191cmw6IHN0cmluZ1xyXG4gICAgdHJhY2tfbnVtYmVyOiBudW1iZXJcclxuICAgIHR5cGU6IHN0cmluZ1xyXG4gICAgdXJpOiBTcG90aWZ5VVJJXHJcbiAgICBpc19sb2NhbDogYm9vbGVhblxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFNwb3RBcGlBcnRpc3Qge1xyXG4gICAgZXh0ZXJuYWxfdXJsczogU3BvdEFwaUVVcmxzXHJcbiAgICBmb2xsb3dlcnM6IFNwb3RBcGlGb2xsb3dlcnNcclxuICAgIGdlbnJlczogc3RyaW5nW11cclxuICAgIGhyZWY6IHN0cmluZ1xyXG4gICAgaWQ6IHN0cmluZ1xyXG4gICAgaW1hZ2VzOiBTcG90QXBpSW1hZ2VbXVxyXG4gICAgbmFtZTogc3RyaW5nXHJcbiAgICBwb3B1bGFyaXR5OiBudW1iZXJcclxuICAgIHR5cGU6IHN0cmluZ1xyXG4gICAgdXJpOiBTcG90aWZ5VVJJXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3BvdEFwaUFydGlzdE1pbiB7XHJcbiAgICB0eXBlOiBcImFydGlzdFwiXHJcbiAgICB1cmk6IFNwb3RpZnlVUklcclxuICAgIG5hbWU6IHN0cmluZ1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFNwb3RBcGlBbGJ1bSB7XHJcbiAgICBhbGJ1bV90eXBlOiBzdHJpbmdcclxuICAgIHRvdGFsX3RyYWNrczogbnVtYmVyXHJcbiAgICBhdmFpbGFibGVfbWFya2V0czogc3RyaW5nW11cclxuICAgIGV4dGVybmFsX3VybHM6IFNwb3RBcGlFVXJsc1xyXG4gICAgaHJlZjogc3RyaW5nXHJcbiAgICBpZDogc3RyaW5nXHJcbiAgICBpbWFnZXM6IFNwb3RBcGlJbWFnZVtdXHJcbiAgICBuYW1lOiBzdHJpbmdcclxuICAgIHJlbGVhc2VfZGF0ZTogc3RyaW5nXHJcbiAgICByZWxlYXNlX2RhdGVfcHJlY2lzaW9uOiBzdHJpbmdcclxuICAgIHJlc3RyaWN0aW9uczogU3BvdEFwaVJlc3RyaWN0aW9uc1xyXG4gICAgdHlwZTogc3RyaW5nXHJcbiAgICB1cmk6IFNwb3RpZnlVUklcclxuICAgIGNvcHlyaWdodHM6IEFycmF5PHtcclxuICAgICAgICB0ZXh0OiBzdHJpbmdcclxuICAgICAgICB0eXBlOiBzdHJpbmdcclxuICAgIH0+XHJcbiAgICBleHRlcm5hbF9pZHM6IFNwb3RBcGlFSURzXHJcbiAgICBnZW5yZXM6IHN0cmluZ1tdXHJcbiAgICBsYWJlbDogc3RyaW5nXHJcbiAgICBwb3B1bGFyaXR5OiBudW1iZXJcclxuICAgIGFsYnVtX2dyb3VwOiBzdHJpbmdcclxuICAgIGFydGlzdHM6IEFycmF5PHtcclxuICAgICAgICBleHRlcm5hbF91cmxzOiBTcG90QXBpRVVybHNcclxuICAgICAgICBocmVmOiBzdHJpbmdcclxuICAgICAgICBpZDogc3RyaW5nXHJcbiAgICAgICAgbmFtZTogc3RyaW5nXHJcbiAgICAgICAgdHlwZTogc3RyaW5nXHJcbiAgICAgICAgdXJpOiBTcG90aWZ5VVJJXHJcbiAgICB9PlxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFNwb3RBcGlFVXJscyB7XHJcbiAgICBzcG90aWZ5OiBzdHJpbmdcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTcG90QXBpRUlEcyB7XHJcbiAgICBpc3JjOiBzdHJpbmdcclxuICAgIGVhbjogc3RyaW5nXHJcbiAgICB1cGM6IHN0cmluZ1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFNwb3RBcGlJbWFnZSB7XHJcbiAgICB1cmw6IHN0cmluZ1xyXG4gICAgd2lkdGg6IG51bWJlclxyXG4gICAgaGVpZ2h0OiBudW1iZXJcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTcG90QXBpUmVzdHJpY3Rpb25zIHtcclxuICAgIHJlYXNvbjogc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3BvdEFwaUZvbGxvd2VycyB7XHJcbiAgICBocmVmOiBzdHJpbmdcclxuICAgIHRvdGFsOiBudW1iZXJcclxufVxyXG5leHBvcnQgaW50ZXJmYWNlIFNwb3RBcGlEdXJhdGlvbiB7XHJcbiAgICBtaWxsaXNlY29uZHM6IG51bWJlclxyXG59XHJcbmV4cG9ydCBpbnRlcmZhY2UgU3BvdEFwaVBsYXlsaXN0IHtcclxuICAgIGNvbGxhYm9yYXRpdmU6IGJvb2xlYW5cclxuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmdcclxuICAgIGV4dGVybmFsX3VybHM6IFNwb3RBcGlFVXJsc1xyXG4gICAgZm9sbG93ZXJzOiB7XHJcbiAgICAgICAgaHJlZjogc3RyaW5nXHJcbiAgICAgICAgdG90YWw6IG51bWJlclxyXG4gICAgfVxyXG4gICAgaHJlZjogc3RyaW5nXHJcbiAgICBpZDogU3BvdGlmeUlEXHJcbiAgICBpbWFnZXM6IFNwb3RBcGlJbWFnZVtdXHJcbiAgICBuYW1lOiBzdHJpbmdcclxuICAgIG93bmVyOiBTcG90QXBpT3duZXJcclxuICAgIHB1YmxpYzogYm9vbGVhblxyXG4gICAgc25hcHNob3RfaWQ6IHN0cmluZ1xyXG4gICAgdHJhY2tzOiB7XHJcbiAgICAgICAgaHJlZjogc3RyaW5nXHJcbiAgICAgICAgbGltaXQ6IG51bWJlclxyXG4gICAgICAgIG5leHQ6IHN0cmluZ1xyXG4gICAgICAgIG9mZnNldDogbnVtYmVyXHJcbiAgICAgICAgcHJldmlvdXM6IHN0cmluZ1xyXG4gICAgICAgIHRvdGFsOiBudW1iZXJcclxuICAgICAgICBpdGVtczogQXJyYXk8e1xyXG4gICAgICAgICAgICBhZGRlZF9hdDogc3RyaW5nXHJcbiAgICAgICAgICAgIGFkZGVkX2J5OiBTcG90QXBpT3duZXJcclxuICAgICAgICAgICAgaXNfbG9jYWw6IGJvb2xlYW5cclxuICAgICAgICAgICAgdHJhY2s6IFNwb3RBcGlUcmFja1xyXG4gICAgICAgIH0+XHJcbiAgICB9XHJcbiAgICB0eXBlOiBzdHJpbmdcclxuICAgIHVyaTogU3BvdGlmeVVSSVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFNwb3RBcGlPd25lciB7XHJcbiAgICBleHRlcm5hbF91cmxzOiBTcG90QXBpRVVybHNcclxuICAgIGZvbGxvd2Vycz86IHtcclxuICAgICAgICBocmVmOiBzdHJpbmdcclxuICAgICAgICB0b3RhbDogbnVtYmVyXHJcbiAgICB9XHJcbiAgICBocmVmOiBzdHJpbmdcclxuICAgIGlkOiBTcG90aWZ5SURcclxuICAgIHR5cGU6IHN0cmluZ1xyXG4gICAgdXJpOiBTcG90aWZ5VVJJXHJcbiAgICBkaXNwbGF5X25hbWU/OiBzdHJpbmdcclxuICAgIG5hbWU/OiBzdHJpbmdcclxufVxyXG5cclxuLy9UT0RPOiBCZXR0ZXIgVFMgaW50ZXJmYWNlIGZvciByZWN1cnNpdmUgZmV0Y2hQbGF0Rm9sZGVyUmVzXHJcbmV4cG9ydCBpbnRlcmZhY2UgZmV0Y2hQbGF0Rm9sZGVyUmVzIHtcclxuICAgIHR5cGU6IFwiZm9sZGVyXCIgfCBcInBsYWNlaG9sZGVyXCIgfCBcInBsYXlsaXN0XCJcclxuICAgIGFkZGVkQXQ6IHN0cmluZ1xyXG4gICAgaXRlbXM/OiBBcnJheTxmZXRjaFBsYXRGb2xkZXJSZXM+XHJcbiAgICBuYW1lPzogc3RyaW5nXHJcbiAgICB1cmk6IHN0cmluZ1xyXG4gICAgZGVzY3JpcHRpb24/OiBzdHJpbmdcclxuICAgIGltYWdlcz86IFNwb3RBcGlJbWFnZTJbXVxyXG4gICAgbWFkZUZvcj86IG51bGxcclxuICAgIG93bmVyPzoge1xyXG4gICAgICAgIHR5cGU6IFwidXNlclwiXHJcbiAgICAgICAgdXJpOiBzdHJpbmdcclxuICAgICAgICB1c2VybmFtZTogc3RyaW5nXHJcbiAgICAgICAgZGlzcGxheU5hbWU6IHN0cmluZ1xyXG4gICAgICAgIGltYWdlczogYW55W11cclxuICAgIH1cclxuICAgIHRvdGFsTGVuZ3RoPzogbnVtYmVyXHJcbiAgICB1bmZpbHRlcmVkVG90YWxMZW5ndGg/OiBudW1iZXJcclxuICAgIHRvdGFsTGlrZXM/OiBudWxsXHJcbiAgICBkdXJhdGlvbj86IG51bGxcclxuICAgIGlzQ29sbGFib3JhdGl2ZT86IGJvb2xlYW5cclxuICAgIGlzTG9hZGVkPzogYm9vbGVhblxyXG4gICAgaXNPd25lZEJ5U2VsZj86IGJvb2xlYW5cclxuICAgIGlzUHVibGlzaGVkPzogYm9vbGVhblxyXG4gICAgaGFzRXBpc29kZXM/OiBudWxsXHJcbiAgICBoYXNTcG90aWZ5VHJhY2tzPzogbnVsbFxyXG4gICAgaGFzU3BvdGlmeUF1ZGlvYm9va3M/OiBudWxsXHJcbiAgICBjYW5BZGQ/OiBib29sZWFuXHJcbiAgICBjYW5SZW1vdmU/OiBib29sZWFuXHJcbiAgICBjYW5QbGF5PzogbnVsbFxyXG4gICAgZm9ybWF0TGlzdERhdGE/OiB7XHJcbiAgICAgICAgdHlwZTogc3RyaW5nXHJcbiAgICAgICAgYXR0cmlidXRlczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfVxyXG4gICAgfSB8IG51bGxcclxuICAgIGNhblJlcG9ydEFubm90YXRpb25BYnVzZT86IGJvb2xlYW5cclxuICAgIGhhc0RhdGVBZGRlZD86IGJvb2xlYW5cclxuICAgIHBlcm1pc3Npb25zPzogbnVsbFxyXG4gICAgY29sbGFib3JhdG9ycz86IHtcclxuICAgICAgICBjb3VudDogbnVtYmVyXHJcbiAgICAgICAgaXRlbXM6IGFueVtdXHJcbiAgICB9XHJcbiAgICBpc05vdEZvdW5kPzogYm9vbGVhblxyXG4gICAgaXNGb3JiaWRkZW4/OiBib29sZWFuXHJcbn1cclxuIiwgImltcG9ydCB7IGFsbFBhc3MgfSBmcm9tIFwiaHR0cHM6Ly9lc20uc2gvZnAtdHMtc3RkQDAuMTguMC9QcmVkaWNhdGVcIlxyXG5cclxuLy8gQHRzLWV4cGVjdC1lcnJvciB3ZWJwYWNrQ2h1bmtPcGVuIGlzIG9ubHkgZGVmaW5lZCBpbiB0aGUgYnJvd3NlclxyXG5jb25zdCByZXF1aXJlID0gd2VicGFja0NodW5rb3Blbi5wdXNoKFtbU3ltYm9sKFwiRHVtbXkgbW9kdWxlIHRvIGV4dHJhY3QgcmVxdWlyZSBtZXRob2RcIildLCB7fSwgcmUgPT4gcmVdKVxyXG5jb25zdCBjYWNoZSA9IE9iamVjdC5rZXlzKHJlcXVpcmUubSkubWFwKGlkID0+IHJlcXVpcmUoaWQpKVxyXG5leHBvcnQgY29uc3QgbW9kdWxlcyA9IGNhY2hlXHJcbiAgICAuZmlsdGVyKChtb2R1bGUpOiBtb2R1bGUgaXMgT2JqZWN0ID0+IHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIpXHJcbiAgICAuZmxhdE1hcChtb2R1bGUgPT4gT2JqZWN0LnZhbHVlcyhtb2R1bGUpKVxyXG5leHBvcnQgY29uc3QgZnVuY3Rpb25Nb2R1bGVzID0gbW9kdWxlcy5maWx0ZXIoKG1vZHVsZSk6IG1vZHVsZSBpcyBGdW5jdGlvbiA9PiB0eXBlb2YgbW9kdWxlID09PSBcImZ1bmN0aW9uXCIpXHJcblxyXG5leHBvcnQgY29uc3QgcmVhY3RPYmplY3RzID0gbW9kdWxlcy5maWx0ZXIobSA9PiBtPy4kJHR5cGVvZilcclxuY29uc3QgcmVhY3RNZW1vU3ltYm9sID0gU3BpY2V0aWZ5LlJlYWN0Lm1lbW8oKS4kJHR5cGVvZlxyXG5leHBvcnQgY29uc3QgcmVhY3RNZW1vcyA9IHJlYWN0T2JqZWN0cy5maWx0ZXIobSA9PiBtLiQkdHlwZW9mID09PSByZWFjdE1lbW9TeW1ib2wpXHJcblxyXG5jb25zdCBmaW5kTW9kdWxlQnlJdHNTdHJpbmcgPSAobW9kdWxlczogQXJyYXk8YW55PiwgLi4uZmlsdGVyczogQXJyYXk8c3RyaW5nIHwgUmVnRXhwPikgPT5cclxuICAgIG1vZHVsZXMuZmluZChmID0+XHJcbiAgICAgICAgYWxsUGFzcyhcclxuICAgICAgICAgICAgZmlsdGVycy5tYXAoZmlsdGVyID0+XHJcbiAgICAgICAgICAgICAgICB0eXBlb2YgZmlsdGVyID09PSBcInN0cmluZ1wiID8gKHM6IHN0cmluZykgPT4gcy5pbmNsdWRlcyhmaWx0ZXIpIDogKHM6IHN0cmluZykgPT4gZmlsdGVyLnRlc3QocyksXHJcbiAgICAgICAgICAgICksXHJcbiAgICAgICAgKShmLnRvU3RyaW5nKCkpLFxyXG4gICAgKSBhcyBhbnlcclxuXHJcbmV4cG9ydCBjb25zdCBDaGVja2VkUGxheWxpc3RCdXR0b25JY29uID0gZmluZE1vZHVsZUJ5SXRzU3RyaW5nKFxyXG4gICAgZnVuY3Rpb25Nb2R1bGVzLFxyXG4gICAgXCJNMCA4YTggOCAwIDEgMSAxNiAwQTggOCAwIDAgMSAwIDh6bTExLjc0OC0xLjk3YS43NS43NSAwIDAgMC0xLjA2LTEuMDZsLTQuNDcgNC40Ny0xLjQwNS0xLjQwNmEuNzUuNzUgMCAxIDAtMS4wNjEgMS4wNmwyLjQ2NiAyLjQ2NyA1LjUzLTUuNTN6XCIsXHJcbilcclxuXHJcbmV4cG9ydCBjb25zdCBTZWN0aW9uV3JhcHBlciA9IGZpbmRNb2R1bGVCeUl0c1N0cmluZyhmdW5jdGlvbk1vZHVsZXMsIC9eZnVuY3Rpb24gLlxcKC5cXClcXHtyZXR1cm5cXCgwLC5cXC5qc3hcXClcXCgvKVxyXG5leHBvcnQgY29uc3QgU2VjdGlvblRpdGxlID0gZmluZE1vZHVsZUJ5SXRzU3RyaW5nKGZ1bmN0aW9uTW9kdWxlcywgXCJ0ZXh0VG9IaWdobGlnaHRcIilcclxuZXhwb3J0IGNvbnN0IFNldHRpbmdDb2x1bW4gPSBmaW5kTW9kdWxlQnlJdHNTdHJpbmcoXHJcbiAgICBmdW5jdGlvbk1vZHVsZXMsXHJcbiAgICBcInNldFNlY3Rpb25GaWx0ZXJNYXRjaFF1ZXJ5VmFsdWVcIixcclxuICAgIFwiZmlsdGVyTWF0Y2hRdWVyeVwiLFxyXG4pXHJcbmV4cG9ydCBjb25zdCBTZXR0aW5nVGV4dCA9IGZpbmRNb2R1bGVCeUl0c1N0cmluZyhmdW5jdGlvbk1vZHVsZXMsIFwidGV4dFN1YmR1ZWRcIiwgXCJ2aW9sYVwiKVxyXG5leHBvcnQgY29uc3QgU2V0dGluZ1RvZ2dsZSA9IGZpbmRNb2R1bGVCeUl0c1N0cmluZyhmdW5jdGlvbk1vZHVsZXMsIFwiY29uZGVuc2VkXCIsIFwib25TZWxlY3RlZFwiKVxyXG5cclxuZXhwb3J0IGNvbnN0IGN1cmF0aW9uQnV0dG9uQ2xhc3MgPSBtb2R1bGVzLmZpbmQobSA9PiBtPy5jdXJhdGlvbkJ1dHRvbikhLmN1cmF0aW9uQnV0dG9uXHJcbiIsICJpbXBvcnQgeyB0YXNrIH0gZnJvbSBcImh0dHBzOi8vZXNtLnNoL2ZwLXRzXCJcclxuaW1wb3J0IHsgZ3VhcmQzLCBpcyB9IGZyb20gXCIuL2ZwLnRzXCJcclxuaW1wb3J0IHsgc2xlZXAgfSBmcm9tIFwiLi91dGlsLnRzXCJcclxuaW1wb3J0IHsgU2VjdGlvblRpdGxlLCBTZWN0aW9uV3JhcHBlciwgU2V0dGluZ0NvbHVtbiwgU2V0dGluZ1RleHQsIFNldHRpbmdUb2dnbGUgfSBmcm9tIFwiLi9tb2R1bGVzLnRzXCJcclxuXHJcbmNvbnN0IHsgUmVhY3QsIFJlYWN0RE9NIH0gPSBTcGljZXRpZnlcclxuY29uc3QgeyBCdXR0b25TZWNvbmRhcnkgfSA9IFNwaWNldGlmeS5SZWFjdENvbXBvbmVudCBhcyBhbnlcclxuXHJcbnR5cGUgRmllbGRUb1Byb3BzPEE+ID0gT21pdDxBLCBcInR5cGVcIj5cclxuXHJcbmV4cG9ydCBjb25zdCBlbnVtIEZpZWxkVHlwZSB7XHJcbiAgICBCVVRUT04gPSBcImJ1dHRvblwiLFxyXG4gICAgVE9HR0xFID0gXCJ0b2dnbGVcIixcclxuICAgIElOUFVUID0gXCJpbnB1dFwiLFxyXG4gICAgSElEREVOID0gXCJoaWRkZW5cIixcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBCYXNlRmllbGQge1xyXG4gICAgaWQ6IHN0cmluZ1xyXG4gICAgdHlwZTogRmllbGRUeXBlXHJcbiAgICBkZXNjOiBzdHJpbmdcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgU2V0dGluZ3NGaWVsZCA9IEhpZGRlbkZpZWxkIHwgSW5wdXRGaWVsZCB8IEJ1dHRvbkZpZWxkIHwgVG9nZ2xlRmllbGRcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQnV0dG9uRmllbGQgZXh0ZW5kcyBCYXNlRmllbGQge1xyXG4gICAgdHlwZTogRmllbGRUeXBlLkJVVFRPTlxyXG4gICAgdGV4dDogc3RyaW5nXHJcbiAgICBvbkNsaWNrPzogKCkgPT4gdm9pZFxyXG59XHJcbmV4cG9ydCBpbnRlcmZhY2UgVG9nZ2xlRmllbGQgZXh0ZW5kcyBCYXNlRmllbGQge1xyXG4gICAgdHlwZTogRmllbGRUeXBlLlRPR0dMRVxyXG4gICAgb25TZWxlY3RlZD86IChjaGVja2VkOiBib29sZWFuKSA9PiB2b2lkXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSW5wdXRGaWVsZCBleHRlbmRzIEJhc2VGaWVsZCB7XHJcbiAgICB0eXBlOiBGaWVsZFR5cGUuSU5QVVRcclxuICAgIGlucHV0VHlwZTogc3RyaW5nXHJcbiAgICBvbkNoYW5nZT86ICh2YWx1ZTogc3RyaW5nKSA9PiB2b2lkXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSGlkZGVuRmllbGQgZXh0ZW5kcyBCYXNlRmllbGQge1xyXG4gICAgdHlwZTogRmllbGRUeXBlLkhJRERFTlxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgU2V0dGluZ3NTZWN0aW9uIHtcclxuICAgIHByaXZhdGUgc3RvcEhpc3RvcnlMaXN0ZW5lcjogYW55XHJcblxyXG4gICAgY29uc3RydWN0b3IocHVibGljIG5hbWU6IHN0cmluZywgcHVibGljIGlkOiBzdHJpbmcsIHB1YmxpYyBzZWN0aW9uRmllbGRzOiB7IFtrZXk6IHN0cmluZ106IFNldHRpbmdzRmllbGQgfSA9IHt9KSB7fVxyXG5cclxuICAgIHB1c2hTZXR0aW5ncyA9ICgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5zdG9wSGlzdG9yeUxpc3RlbmVyKSB0aGlzLnN0b3BIaXN0b3J5TGlzdGVuZXIoKVxyXG5cclxuICAgICAgICB0aGlzLnN0b3BIaXN0b3J5TGlzdGVuZXIgPSBTcGljZXRpZnkuUGxhdGZvcm0uSGlzdG9yeS5saXN0ZW4oKCkgPT4gdGhpcy5yZW5kZXIoKSlcclxuICAgICAgICB0aGlzLnJlbmRlcigpXHJcbiAgICB9XHJcblxyXG4gICAgdG9PYmplY3QgPSAoKSA9PlxyXG4gICAgICAgIG5ldyBQcm94eShcclxuICAgICAgICAgICAge30sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGdldDogKHRhcmdldCwgcHJvcCkgPT4gU2V0dGluZ3NTZWN0aW9uLmdldEZpZWxkVmFsdWUodGhpcy5nZXRJZChwcm9wLnRvU3RyaW5nKCkpKSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICApXHJcblxyXG4gICAgcHJpdmF0ZSByZW5kZXIgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgd2hpbGUgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlc2t0b3Auc2V0dGluZ3Muc2VsZWN0TGFuZ3VhZ2VcIikpIHtcclxuICAgICAgICAgICAgaWYgKFNwaWNldGlmeS5QbGF0Zm9ybS5IaXN0b3J5LmxvY2F0aW9uLnBhdGhuYW1lICE9PSBcIi9wcmVmZXJlbmNlc1wiKSByZXR1cm5cclxuICAgICAgICAgICAgYXdhaXQgc2xlZXAoMTAwKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgYWxsU2V0dGluZ3NDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLngtc2V0dGluZ3MtY29udGFpbmVyXCIpIVxyXG5cclxuICAgICAgICBsZXQgcGx1Z2luU2V0dGluZ3NDb250YWluZXIgPSBBcnJheS5mcm9tKGFsbFNldHRpbmdzQ29udGFpbmVyLmNoaWxkcmVuKS5maW5kKCh7IGlkIH0pID0+IGlkID09PSB0aGlzLmlkKVxyXG5cclxuICAgICAgICBpZiAoIXBsdWdpblNldHRpbmdzQ29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgIHBsdWdpblNldHRpbmdzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxyXG4gICAgICAgICAgICBwbHVnaW5TZXR0aW5nc0NvbnRhaW5lci5pZCA9IHRoaXMuaWRcclxuICAgICAgICAgICAgcGx1Z2luU2V0dGluZ3NDb250YWluZXIuY2xhc3NOYW1lID0gXCJzZXR0aW5nc0NvbnRhaW5lclwiXHJcbiAgICAgICAgICAgIGFsbFNldHRpbmdzQ29udGFpbmVyLmFwcGVuZENoaWxkKHBsdWdpblNldHRpbmdzQ29udGFpbmVyKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgUmVhY3RET00ucmVuZGVyKDx0aGlzLkZpZWxkc0NvbnRhaW5lciAvPiwgcGx1Z2luU2V0dGluZ3NDb250YWluZXIpXHJcbiAgICB9XHJcblxyXG4gICAgYWRkQnV0dG9uID0gKHByb3BzOiBGaWVsZFRvUHJvcHM8QnV0dG9uRmllbGQ+KSA9PiB7XHJcbiAgICAgICAgdGhpcy5hZGRGaWVsZChGaWVsZFR5cGUuQlVUVE9OLCBwcm9wcylcclxuICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG5cclxuICAgIGFkZFRvZ2dsZSA9IChwcm9wczogRmllbGRUb1Byb3BzPFRvZ2dsZUZpZWxkPiwgZGVmYXVsdFZhbHVlID0gdGFzay5vZihmYWxzZSkpID0+IHtcclxuICAgICAgICB0aGlzLmFkZEZpZWxkKEZpZWxkVHlwZS5UT0dHTEUsIHByb3BzLCBkZWZhdWx0VmFsdWUpXHJcbiAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuXHJcbiAgICBhZGRJbnB1dCA9IChwcm9wczogRmllbGRUb1Byb3BzPElucHV0RmllbGQ+LCBkZWZhdWx0VmFsdWUgPSB0YXNrLm9mKFwiXCIpKSA9PiB7XHJcbiAgICAgICAgdGhpcy5hZGRGaWVsZChGaWVsZFR5cGUuSU5QVVQsIHByb3BzLCBkZWZhdWx0VmFsdWUpXHJcbiAgICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFkZEZpZWxkKHR5cGU6IEZpZWxkVHlwZSwgb3B0czogRmllbGRUb1Byb3BzPFNldHRpbmdzRmllbGQ+LCBkZWZhdWx0VmFsdWU/OiBhbnkpIHtcclxuICAgICAgICBpZiAoZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY29uc3Qgc2V0dGluZ0lkID0gdGhpcy5nZXRJZChvcHRzLmlkKVxyXG4gICAgICAgICAgICBTZXR0aW5nc1NlY3Rpb24uc2V0RGVmYXVsdEZpZWxkVmFsdWUoc2V0dGluZ0lkLCBkZWZhdWx0VmFsdWUpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGZpZWxkID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0cywgeyB0eXBlIH0pIGFzIFNldHRpbmdzRmllbGRcclxuICAgICAgICB0aGlzLnNlY3Rpb25GaWVsZHNbb3B0cy5pZF0gPSBmaWVsZFxyXG4gICAgfVxyXG5cclxuICAgIGdldElkID0gKG5hbWVJZDogc3RyaW5nKSA9PiBbXCJleHRlbnNpb25zXCIsIHRoaXMuaWQsIG5hbWVJZF0uam9pbihcIjpcIilcclxuXHJcbiAgICBwcml2YXRlIHVzZVN0YXRlRm9yID0gPEEsPihpZDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgY29uc3QgW3ZhbHVlLCBzZXRWYWx1ZVN0YXRlXSA9IFJlYWN0LnVzZVN0YXRlKFNldHRpbmdzU2VjdGlvbi5nZXRGaWVsZFZhbHVlPEE+KGlkKSlcclxuXHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgdmFsdWUsXHJcbiAgICAgICAgICAgIChuZXdWYWx1ZTogQSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5ld1ZhbHVlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXRWYWx1ZVN0YXRlKG5ld1ZhbHVlKVxyXG4gICAgICAgICAgICAgICAgICAgIFNldHRpbmdzU2VjdGlvbi5zZXRGaWVsZFZhbHVlKGlkISwgbmV3VmFsdWUpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgXSBhcyBjb25zdFxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBnZXRGaWVsZFZhbHVlID0gPFIsPihpZDogc3RyaW5nKTogUiA9PiBKU09OLnBhcnNlKFNwaWNldGlmeS5Mb2NhbFN0b3JhZ2UuZ2V0KGlkKSA/PyBcIm51bGxcIilcclxuXHJcbiAgICBzdGF0aWMgc2V0RmllbGRWYWx1ZSA9IChpZDogc3RyaW5nLCBuZXdWYWx1ZTogYW55KSA9PiBTcGljZXRpZnkuTG9jYWxTdG9yYWdlLnNldChpZCwgSlNPTi5zdHJpbmdpZnkobmV3VmFsdWUpKVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIHNldERlZmF1bHRGaWVsZFZhbHVlID0gYXN5bmMgKGlkOiBzdHJpbmcsIGRlZmF1bHRWYWx1ZTogdGFzay5UYXNrPGFueT4pID0+IHtcclxuICAgICAgICBpZiAoU2V0dGluZ3NTZWN0aW9uLmdldEZpZWxkVmFsdWUoaWQpID09PSBudWxsKSBTZXR0aW5nc1NlY3Rpb24uc2V0RmllbGRWYWx1ZShpZCwgYXdhaXQgZGVmYXVsdFZhbHVlKCkpXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBGaWVsZHNDb250YWluZXIgPSAoKSA9PiAoXHJcbiAgICAgICAgPFNlY3Rpb25XcmFwcGVyIGZpbHRlck1hdGNoUXVlcnk9e3RoaXMubmFtZX0+XHJcbiAgICAgICAgICAgIDxTZWN0aW9uVGl0bGU+e3RoaXMubmFtZX08L1NlY3Rpb25UaXRsZT5cclxuICAgICAgICAgICAge09iamVjdC52YWx1ZXModGhpcy5zZWN0aW9uRmllbGRzKS5tYXAoZmllbGQgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaXNUeXBlID0gaXM8U2V0dGluZ3NGaWVsZD4oXCJ0eXBlXCIpXHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGd1YXJkMyhbXHJcbiAgICAgICAgICAgICAgICAgICAgW2lzVHlwZTxJbnB1dEZpZWxkPihGaWVsZFR5cGUuSU5QVVQpLCB0aGlzLklucHV0RmllbGRdLFxyXG4gICAgICAgICAgICAgICAgICAgIFtpc1R5cGUoRmllbGRUeXBlLkJVVFRPTiksIHRoaXMuQnV0dG9uRmllbGRdLFxyXG4gICAgICAgICAgICAgICAgICAgIFtpc1R5cGUoRmllbGRUeXBlLlRPR0dMRSksIHRoaXMuVG9nZ2xlRmllbGRdLFxyXG4gICAgICAgICAgICAgICAgXSkoKCkgPT4gPD48Lz4pKGZpZWxkKVxyXG4gICAgICAgICAgICB9KX1cclxuICAgICAgICA8L1NlY3Rpb25XcmFwcGVyPlxyXG4gICAgKVxyXG5cclxuICAgIFNldHRpbmdGaWVsZCA9ICh7IGZpZWxkLCBjaGlsZHJlbiB9OiB7IGZpZWxkOiBTZXR0aW5nc0ZpZWxkOyBjaGlsZHJlbjogYW55IH0pID0+IChcclxuICAgICAgICA8U2V0dGluZ0NvbHVtbiBmaWx0ZXJNYXRjaFF1ZXJ5PXtmaWVsZC5pZH0+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwieC1zZXR0aW5ncy1maXJzdENvbHVtblwiPlxyXG4gICAgICAgICAgICAgICAgPFNldHRpbmdUZXh0IGh0bWxGb3I9e2ZpZWxkLmlkfT57ZmllbGQuZGVzY308L1NldHRpbmdUZXh0PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ4LXNldHRpbmdzLXNlY29uZENvbHVtblwiPntjaGlsZHJlbn08L2Rpdj5cclxuICAgICAgICA8L1NldHRpbmdDb2x1bW4+XHJcbiAgICApXHJcblxyXG4gICAgQnV0dG9uRmllbGQgPSAoZmllbGQ6IEJ1dHRvbkZpZWxkKSA9PiAoXHJcbiAgICAgICAgPHRoaXMuU2V0dGluZ0ZpZWxkIGZpZWxkPXtmaWVsZH0+XHJcbiAgICAgICAgICAgIDxCdXR0b25TZWNvbmRhcnkgaWQ9e2ZpZWxkLmlkfSBidXR0b25TaXplPVwic21cIiBvbkNsaWNrPXtmaWVsZC5vbkNsaWNrfSBjbGFzc05hbWU9XCJ4LXNldHRpbmdzLWJ1dHRvblwiPlxyXG4gICAgICAgICAgICAgICAge2ZpZWxkLnRleHR9XHJcbiAgICAgICAgICAgIDwvQnV0dG9uU2Vjb25kYXJ5PlxyXG4gICAgICAgIDwvdGhpcy5TZXR0aW5nRmllbGQ+XHJcbiAgICApXHJcblxyXG4gICAgVG9nZ2xlRmllbGQgPSAoZmllbGQ6IFRvZ2dsZUZpZWxkKSA9PiB7XHJcbiAgICAgICAgY29uc3QgW3ZhbHVlLCBzZXRWYWx1ZV0gPSB0aGlzLnVzZVN0YXRlRm9yPGJvb2xlYW4+KGZpZWxkLmlkKVxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDx0aGlzLlNldHRpbmdGaWVsZCBmaWVsZD17ZmllbGR9PlxyXG4gICAgICAgICAgICAgICAgPFNldHRpbmdUb2dnbGVcclxuICAgICAgICAgICAgICAgICAgICBpZD17ZmllbGQuaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e1NldHRpbmdzU2VjdGlvbi5nZXRGaWVsZFZhbHVlKHRoaXMuZ2V0SWQoZmllbGQuaWQpKX1cclxuICAgICAgICAgICAgICAgICAgICBvblNlbGVjdGVkPXsoY2hlY2tlZDogYm9vbGVhbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRWYWx1ZShjaGVja2VkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZC5vblNlbGVjdGVkPy4oY2hlY2tlZClcclxuICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIngtc2V0dGluZ3MtYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDwvdGhpcy5TZXR0aW5nRmllbGQ+XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG5cclxuICAgIElucHV0RmllbGQgPSAoZmllbGQ6IElucHV0RmllbGQpID0+IHtcclxuICAgICAgICBjb25zdCBbdmFsdWUsIHNldFZhbHVlXSA9IHRoaXMudXNlU3RhdGVGb3I8c3RyaW5nPihmaWVsZC5pZClcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8dGhpcy5TZXR0aW5nRmllbGQgZmllbGQ9e2ZpZWxkfT5cclxuICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIngtc2V0dGluZ3MtaW5wdXRcIlxyXG4gICAgICAgICAgICAgICAgICAgIGlkPXtmaWVsZC5pZH1cclxuICAgICAgICAgICAgICAgICAgICBkaXI9XCJsdHJcIlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtTZXR0aW5nc1NlY3Rpb24uZ2V0RmllbGRWYWx1ZSh0aGlzLmdldElkKGZpZWxkLmlkKSl9XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT17ZmllbGQuaW5wdXRUeXBlfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBlLmN1cnJlbnRUYXJnZXQudmFsdWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VmFsdWUodmFsdWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkLm9uQ2hhbmdlPy4odmFsdWUpXHJcbiAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDwvdGhpcy5TZXR0aW5nRmllbGQ+XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG59XHJcbiIsICJpbXBvcnQgeyBTZXR0aW5nc1NlY3Rpb24gfSBmcm9tIFwiLi4vLi4vc2hhcmVkL3NldHRpbmdzLnRzeFwiXHJcbmltcG9ydCB7IGJhY2t1cCwgcmVzdG9yZSB9IGZyb20gXCIuL2FwcC50c1wiXHJcblxyXG5jb25zdCBzZXR0aW5ncyA9IG5ldyBTZXR0aW5nc1NlY3Rpb24oXCJWYXVsdGlmeVwiLCBcInZhdWx0aWZ5XCIpXHJcbiAgICAuYWRkQnV0dG9uKHtcclxuICAgICAgICBpZDogXCJiYWNrdXBcIixcclxuICAgICAgICBkZXNjOiBcIkJhY2t1cCBMaWJyYXJ5LCBFeHRlbnNpb25zIGFuZCBTZXR0aW5nc1wiLFxyXG4gICAgICAgIHRleHQ6IFwiQmFja3VwIHRvIGNsaXBib2FyZFwiLFxyXG4gICAgICAgIG9uQ2xpY2s6IGJhY2t1cCxcclxuICAgIH0pXHJcbiAgICAuYWRkQnV0dG9uKHtcclxuICAgICAgICBpZDogXCJyZXN0b3JlTGlicmFyeVwiLFxyXG4gICAgICAgIGRlc2M6IFwiUmVzdG9yZSBMaWJyYXJ5XCIsXHJcbiAgICAgICAgdGV4dDogXCJSZXN0b3JlIGZyb20gY2xpcGJvYXJkXCIsXHJcbiAgICAgICAgb25DbGljazogcmVzdG9yZShcImxpYnJhcnlcIiksXHJcbiAgICB9KVxyXG4gICAgLmFkZEJ1dHRvbih7XHJcbiAgICAgICAgaWQ6IFwicmVzdG9yZUV4dGVuc2lvbnNcIixcclxuICAgICAgICBkZXNjOiBcIlJlc3RvcmUgRXh0ZW5zaW9uc1wiLFxyXG4gICAgICAgIHRleHQ6IFwiUmVzdG9yZSBmcm9tIGNsaXBib2FyZFwiLFxyXG4gICAgICAgIG9uQ2xpY2s6IHJlc3RvcmUoXCJleHRlbnNpb25zXCIpLFxyXG4gICAgfSlcclxuICAgIC5hZGRCdXR0b24oe1xyXG4gICAgICAgIGlkOiBcInJlc3RvcmVTZXR0aW5nc1wiLFxyXG4gICAgICAgIGRlc2M6IFwiUmVzdG9yZSBTZXR0aW5nc1wiLFxyXG4gICAgICAgIHRleHQ6IFwiUmVzdG9yZSBmcm9tIGNsaXBib2FyZFwiLFxyXG4gICAgICAgIG9uQ2xpY2s6IHJlc3RvcmUoXCJzZXR0aW5nc1wiKSxcclxuICAgIH0pXHJcblxyXG5zZXR0aW5ncy5wdXNoU2V0dGluZ3MoKVxyXG4iLCAiaW1wb3J0IHsgYXJyYXkgYXMgYXIsIGZ1bmN0aW9uIGFzIGYsIHJlY29yZCBhcyByZWMsIHRhc2sgfSBmcm9tIFwiaHR0cHM6Ly9lc20uc2gvZnAtdHNcIlxyXG5pbXBvcnQge1xyXG4gICAgY3JlYXRlUGxhdEZvbGRlcixcclxuICAgIGNyZWF0ZVNQUGxheWxpc3RGcm9tVHJhY2tzLFxyXG4gICAgZmV0Y2hQbGF0UGxheWxpc3RDb250ZW50cyxcclxuICAgIGZldGNoUGxhdFJvb3RGb2xkZXIsXHJcbiAgICBsaWtlUGxhdFBsYXlsaXN0LFxyXG59IGZyb20gXCIuLi8uLi9zaGFyZWQvYXBpLnRzXCJcclxuaW1wb3J0IHsgZ3VhcmQyLCBpcywgcE1jaGFpbiB9IGZyb20gXCIuLi8uLi9zaGFyZWQvZnAudHNcIlxyXG5pbXBvcnQgeyBTcG90aWZ5VVJJLCBnZXRSZWFjdFByb3BzLCBzZXRMaWtlZCB9IGZyb20gXCIuLi8uLi9zaGFyZWQvdXRpbC50c1wiXHJcbmltcG9ydCB7IEZvbGRlciwgUGxheWxpc3QsIFBvRiB9IGZyb20gXCIuL3V0aWwudHNcIlxyXG5cclxuY29uc3QgaXNUeXBlID0gaXM8UG9GPihcInR5cGVcIilcclxuY29uc3QgZXh0cmFjdExpa2VkUGxheWxpc3RUcmVlUmVjdXIgPSAobGVhZjogUG9GKSA9PlxyXG4gICAgZ3VhcmQyPFBvRiwgUGxheWxpc3QsIEZvbGRlciwgUHJvbWlzZTx7fT4+KFtcclxuICAgICAgICBbXHJcbiAgICAgICAgICAgIGlzVHlwZShcInBsYXlsaXN0XCIpLFxyXG4gICAgICAgICAgICBhc3luYyBwbGF5bGlzdCA9PiAoe1xyXG4gICAgICAgICAgICAgICAgW3BsYXlsaXN0Lm5hbWVdOiBwbGF5bGlzdC5pc093bmVkQnlTZWxmXHJcbiAgICAgICAgICAgICAgICAgICAgPyBhd2FpdCBmLnBpcGUocGxheWxpc3QudXJpLCBmZXRjaFBsYXRQbGF5bGlzdENvbnRlbnRzLCBwTWNoYWluKGFyLm1hcCh4ID0+IHgudXJpKSkpXHJcbiAgICAgICAgICAgICAgICAgICAgOiBwbGF5bGlzdC51cmksXHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgW1xyXG4gICAgICAgICAgICBpc1R5cGUoXCJmb2xkZXJcIiksXHJcbiAgICAgICAgICAgIGFzeW5jIChmb2xkZXIpOiBQcm9taXNlPHt9PiA9PiAoe1xyXG4gICAgICAgICAgICAgICAgW2ZvbGRlci5uYW1lXTogYXdhaXQgZi5waXBlKGZvbGRlci5pdGVtcywgYXIubWFwKGV4dHJhY3RMaWtlZFBsYXlsaXN0VHJlZVJlY3VyKSwgcHMgPT4gUHJvbWlzZS5hbGwocHMpKSxcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgXSxcclxuICAgIF0pKHRhc2sub2Yoe30pKShsZWFmKVxyXG5cclxudHlwZSBTcG90aWZ5VHJhY2tVcmkgPSBTcG90aWZ5VVJJICYgeyBfOiBcInRyYWNrXCIgfVxyXG50eXBlIFNwb3RpZnlQbGF5bGlzdFVyaSA9IFNwb3RpZnlVUkkgJiB7IF86IFwicGxheWxpc3RcIiB9XHJcblxyXG50eXBlIG5hbWUgPSBzdHJpbmdcclxudHlwZSBuYW1lZFByb3A8QT4gPSBSZWNvcmQ8bmFtZSwgQT5cclxudHlwZSBMaWtlZFBsYXlsaXN0ID0gbmFtZWRQcm9wPFNwb3RpZnlQbGF5bGlzdFVyaT5cclxudHlwZSBQZXJzb25hbFBsYXlsaXN0ID0gbmFtZWRQcm9wPFNwb3RpZnlUcmFja1VyaVtdPlxyXG50eXBlIFBlcnNvbmFsRm9sZGVyID0gbmFtZWRQcm9wPEFycmF5PExpa2VkUGxheWxpc3QgfCBQZXJzb25hbFBsYXlsaXN0IHwgUGVyc29uYWxGb2xkZXI+PlxyXG5cclxuY29uc3QgaXNDb250ZW50T2ZQZXJzb25hbFBsYXlsaXN0ID0gKFxyXG4gICAgc3VibGVhZjogUGVyc29uYWxGb2xkZXJbXCJcIl0gfCBQZXJzb25hbFBsYXlsaXN0W1wiXCJdLFxyXG4pOiBzdWJsZWFmIGlzIFBlcnNvbmFsUGxheWxpc3RbXCJcIl0gPT4gdHlwZW9mIHN1YmxlYWZbMF0gPT09IFwic3RyaW5nXCIgJiYgU3BpY2V0aWZ5LlVSSS5pc1RyYWNrKHN1YmxlYWZbMF0pXHJcblxyXG5jb25zdCByZXN0b3JlUGxheWxpc3RzZVJlY3VyID0gYXN5bmMgKGxlYWY6IFBlcnNvbmFsRm9sZGVyIHwgUGVyc29uYWxQbGF5bGlzdCB8IExpa2VkUGxheWxpc3QpID0+IHtcclxuICAgIE9iamVjdC5rZXlzKGxlYWYpLmZvckVhY2gobmFtZSA9PiB7XHJcbiAgICAgICAgY29uc3Qgc3VibGVhZiA9IGxlYWZbbmFtZV1cclxuXHJcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHN1YmxlYWYpKSByZXR1cm4gdm9pZCBsaWtlUGxhdFBsYXlsaXN0KHN1YmxlYWYpXHJcbiAgICAgICAgaWYgKHN1YmxlYWYubGVuZ3RoID09PSAwKSByZXR1cm5cclxuXHJcbiAgICAgICAgaWYgKGlzQ29udGVudE9mUGVyc29uYWxQbGF5bGlzdChzdWJsZWFmKSkgcmV0dXJuIHZvaWQgY3JlYXRlU1BQbGF5bGlzdEZyb21UcmFja3MobmFtZSwgc3VibGVhZilcclxuXHJcbiAgICAgICAgY3JlYXRlUGxhdEZvbGRlcihuYW1lKVxyXG4gICAgICAgIHN1YmxlYWYuZm9yRWFjaChyZXN0b3JlUGxheWxpc3RzZVJlY3VyKVxyXG4gICAgfSlcclxufVxyXG5cclxuY29uc3QgYWxsb3dlZEV4dERhdGFSZWdleCA9IC9eKD86bWFya2V0cGxhY2U6KXwoPzpleHRlbnNpb25zOil8KD86c3BpY2V0aWZ5KS9cclxuZXhwb3J0IGNvbnN0IGJhY2t1cCA9IGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IGV4dHJhY3RJdGVtc1VyaXMgPSAoYTogYW55KSA9PiBhLml0ZW1zLm1hcCgoaXRlbTogYW55KSA9PiBpdGVtLnVyaSlcclxuXHJcbiAgICBjb25zdCByYXdMaWJyYXJ5VHJhY2tzID0gYXdhaXQgU3BpY2V0aWZ5LlBsYXRmb3JtLkxpYnJhcnlBUEkuZ2V0VHJhY2tzKHtcclxuICAgICAgICBsaW1pdDogLTEsXHJcbiAgICAgICAgc29ydDogeyBmaWVsZDogXCJBRERFRF9BVFwiLCBvcmRlcjogXCJBU0NcIiB9LFxyXG4gICAgfSlcclxuICAgIGNvbnN0IGxpYnJhcnlUcmFja3MgPSBleHRyYWN0SXRlbXNVcmlzKHJhd0xpYnJhcnlUcmFja3MpXHJcblxyXG4gICAgY29uc3QgcmF3TGlicmFyeUFsYnVtcyA9IGF3YWl0IFNwaWNldGlmeS5QbGF0Zm9ybS5MaWJyYXJ5QVBJLmdldEFsYnVtcyh7XHJcbiAgICAgICAgbGltaXQ6IDIgKiogMzAsXHJcbiAgICAgICAgc29ydDogeyBmaWVsZDogXCJBRERFRF9BVFwiIH0sXHJcbiAgICB9KVxyXG4gICAgY29uc3QgbGlicmFyeUFsYnVtcyA9IGV4dHJhY3RJdGVtc1VyaXMocmF3TGlicmFyeUFsYnVtcylcclxuXHJcbiAgICBjb25zdCByYXdMaWJyYXJ5QXJ0aXN0cyA9IGF3YWl0IFNwaWNldGlmeS5QbGF0Zm9ybS5MaWJyYXJ5QVBJLmdldEFydGlzdHMoe1xyXG4gICAgICAgIGxpbWl0OiAyICoqIDMwLFxyXG4gICAgICAgIHNvcnQ6IHtcclxuICAgICAgICAgICAgZmllbGQ6IFwiQURERURfQVRcIixcclxuICAgICAgICB9LFxyXG4gICAgfSlcclxuICAgIGNvbnN0IGxpYnJhcnlBcnRpc3RzID0gZXh0cmFjdEl0ZW1zVXJpcyhyYXdMaWJyYXJ5QXJ0aXN0cylcclxuXHJcbiAgICBjb25zdCBwbGF5bGlzdHMgPSBhd2FpdCBmLnBpcGUoKGF3YWl0IGZldGNoUGxhdFJvb3RGb2xkZXIoKSkgYXMgYW55LCBleHRyYWN0TGlrZWRQbGF5bGlzdFRyZWVSZWN1cilcclxuXHJcbiAgICBjb25zdCBsb2NhbFN0b3JlID0gZi5waXBlKFxyXG4gICAgICAgIGxvY2FsU3RvcmFnZSxcclxuICAgICAgICByZWMudG9VbmZvbGRhYmxlKGFyKSxcclxuICAgICAgICBhci5maWx0ZXI8W3N0cmluZywgc3RyaW5nXT4oKFtrZXldKSA9PiBhbGxvd2VkRXh0RGF0YVJlZ2V4LnRlc3Qoa2V5KSksXHJcbiAgICApXHJcblxyXG4gICAgY29uc3QgeyBpdGVtcywgbmFtZXNwYWNlIH0gPSBTcGljZXRpZnkuUGxhdGZvcm0uTG9jYWxTdG9yYWdlQVBJXHJcblxyXG4gICAgY29uc3QgbG9jYWxTdG9yZUFQSSA9IGYucGlwZShcclxuICAgICAgICBpdGVtcyxcclxuICAgICAgICByZWMudG9VbmZvbGRhYmxlKGFyKSxcclxuICAgICAgICBhci5maWx0ZXI8W3N0cmluZywgc3RyaW5nXT4oKFtrZXldKSA9PiBrZXkuc3RhcnRzV2l0aChuYW1lc3BhY2UpKSxcclxuICAgICAgICBhci5tYXAoKFtrZXksIHZhbHVlXSkgPT4gW2tleS5zcGxpdChcIjpcIilbMV0sIHZhbHVlXSksXHJcbiAgICApXHJcblxyXG4gICAgY29uc3Qgc2V0dGluZ3MgPSBmLnBpcGUoXHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgW2lkXj1cInNldHRpbmdzLlwiXSxbaWRePVwiZGVza3RvcC5cIl0sW2NsYXNzXj1cIm5ldHdvcmsuXCJdYCkgYXMgTm9kZUxpc3RPZjxIVE1MRWxlbWVudD4sXHJcbiAgICAgICAgQXJyYXkuZnJvbTxIVE1MRWxlbWVudD4sXHJcbiAgICAgICAgYXIuZmxhdE1hcChzZXR0aW5nID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaWQgPSBzZXR0aW5nLmdldEF0dHJpYnV0ZShcImlkXCIpXHJcblxyXG4gICAgICAgICAgICBpZiAoc2V0dGluZyBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBzZXR0aW5nLmdldEF0dHJpYnV0ZShcInR5cGVcIilcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gXCJjaGVja2JveFwiKSByZXR1cm4gW1tpZCwgXCJjaGVja2JveFwiLCBzZXR0aW5nLmNoZWNrZWRdXVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gXCJ0ZXh0XCIpIHJldHVybiBbW2lkLCBcInRleHRcIiwgc2V0dGluZy52YWx1ZV1dXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2V0dGluZyBpbnN0YW5jZW9mIEhUTUxTZWxlY3RFbGVtZW50KSByZXR1cm4gW1tpZCwgXCJzZWxlY3RcIiwgc2V0dGluZy52YWx1ZV1dXHJcblxyXG4gICAgICAgICAgICByZXR1cm4gW11cclxuICAgICAgICB9KSxcclxuICAgIClcclxuXHJcbiAgICBhd2FpdCBTcGljZXRpZnkuUGxhdGZvcm0uQ2xpcGJvYXJkQVBJLmNvcHkoXHJcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICBsaWJyYXJ5VHJhY2tzLFxyXG4gICAgICAgICAgICBsaWJyYXJ5QWxidW1zLFxyXG4gICAgICAgICAgICBsaWJyYXJ5QXJ0aXN0cyxcclxuICAgICAgICAgICAgcGxheWxpc3RzLFxyXG4gICAgICAgICAgICBsb2NhbFN0b3JlLFxyXG4gICAgICAgICAgICBsb2NhbFN0b3JlQVBJLFxyXG4gICAgICAgICAgICBzZXR0aW5ncyxcclxuICAgICAgICB9IGFzIFZhdWx0KSxcclxuICAgIClcclxuICAgIFNwaWNldGlmeS5zaG93Tm90aWZpY2F0aW9uKFwiQmFja2VkIHVwIFBsYXlsaXN0cywgRXh0ZW5zaW9ucyBhbmQgU2V0dGluZ3NcIilcclxufVxyXG5cclxudHlwZSBWYXVsdCA9IHtcclxuICAgIGxpYnJhcnlUcmFja3M6IEFycmF5PFNwb3RpZnlVUkk+XHJcbiAgICBsaWJyYXJ5QWxidW1zOiBBcnJheTxTcG90aWZ5VVJJPlxyXG4gICAgbGlicmFyeUFydGlzdHM6IEFycmF5PFNwb3RpZnlVUkk+XHJcbiAgICBwbGF5bGlzdHM6IFBlcnNvbmFsRm9sZGVyXHJcbiAgICBsb2NhbFN0b3JlOiBBcnJheTxbc3RyaW5nLCBzdHJpbmddPlxyXG4gICAgbG9jYWxTdG9yZUFQSTogQXJyYXk8W3N0cmluZywgc3RyaW5nXT5cclxuICAgIHNldHRpbmdzOiBBcnJheTxbc3RyaW5nLCBzdHJpbmcsIGFueV0+XHJcbn1cclxuZXhwb3J0IGNvbnN0IHJlc3RvcmUgPSAobW9kZTogXCJsaWJyYXJ5XCIgfCBcImV4dGVuc2lvbnNcIiB8IFwic2V0dGluZ3NcIikgPT4gYXN5bmMgKCkgPT4ge1xyXG4gICAgbGV0IHZhdWx0ID0gSlNPTi5wYXJzZShhd2FpdCBTcGljZXRpZnkuUGxhdGZvcm0uQ2xpcGJvYXJkQVBJLnBhc3RlKCkpIGFzIFZhdWx0XHJcblxyXG4gICAgaWYgKG1vZGUgPT09IFwibGlicmFyeVwiKSB7XHJcbiAgICAgICAgc2V0TGlrZWQodmF1bHQubGlicmFyeVRyYWNrcywgdHJ1ZSlcclxuICAgICAgICBzZXRMaWtlZCh2YXVsdC5saWJyYXJ5QWxidW1zLCB0cnVlKVxyXG4gICAgICAgIHNldExpa2VkKHZhdWx0LmxpYnJhcnlBcnRpc3RzLCB0cnVlKVxyXG4gICAgICAgIGF3YWl0IHJlc3RvcmVQbGF5bGlzdHNlUmVjdXIodmF1bHQucGxheWxpc3RzKVxyXG4gICAgICAgIFNwaWNldGlmeS5zaG93Tm90aWZpY2F0aW9uKFwiUmVzdG9yZWQgTGlicmFyeVwiKVxyXG4gICAgfVxyXG4gICAgaWYgKG1vZGUgPT09IFwiZXh0ZW5zaW9uc1wiKSB7XHJcbiAgICAgICAgYXIubWFwKGYudHVwbGVkKFNwaWNldGlmeS5Mb2NhbFN0b3JhZ2Uuc2V0KSkodmF1bHQubG9jYWxTdG9yZSlcclxuICAgICAgICBhci5tYXAoZi50dXBsZWQoU3BpY2V0aWZ5LlBsYXRmb3JtLkxvY2FsU3RvcmFnZUFQSS5zZXRJdGVtKSkodmF1bHQubG9jYWxTdG9yZUFQSSlcclxuICAgICAgICBTcGljZXRpZnkuc2hvd05vdGlmaWNhdGlvbihcIlJlc3RvcmVkIEV4dGVuc2lvbnNcIilcclxuICAgIH1cclxuICAgIGlmIChtb2RlID09PSBcInNldHRpbmdzXCIpIHtcclxuICAgICAgICB2YXVsdC5zZXR0aW5ncy5tYXAoKFtpZCwgdHlwZSwgdmFsdWVdKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNldHRpbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPGFueT4oYFtpZD1cIiR7aWR9XCJdYClcclxuICAgICAgICAgICAgaWYgKCFzZXR0aW5nKSByZXR1cm4gY29uc29sZS53YXJuKGBTZXR0aW5nIGZvciAke2lkfSB3YXNuJ3QgZm91bmRgKVxyXG5cclxuICAgICAgICAgICAgaWYgKHR5cGUgPT09IFwidGV4dFwiKSBzZXR0aW5nLnZhbHVlID0gdmFsdWVcclxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gXCJjaGVja2JveFwiKSBzZXR0aW5nLmNoZWNrZWQgPSB2YWx1ZVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlID09PSBcInNlbGVjdFwiKSBzZXR0aW5nLnZhbHVlID0gdmFsdWVcclxuICAgICAgICAgICAgZWxzZSByZXR1cm5cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHNldHRpbmdSZWFjdFByb3BzID0gZ2V0UmVhY3RQcm9wcyhzZXR0aW5nKSBhcyBhbnlcclxuICAgICAgICAgICAgc2V0dGluZ1JlYWN0UHJvcHMub25DaGFuZ2UoeyB0YXJnZXQ6IHNldHRpbmcgfSlcclxuICAgICAgICB9KVxyXG4gICAgICAgIFNwaWNldGlmeS5zaG93Tm90aWZpY2F0aW9uKFwiUmVzdG9yZWQgU2V0dGluZ3NcIilcclxuICAgIH1cclxufVxyXG5cclxuaW1wb3J0KFwiLi9zZXR0aW5ncy50c1wiKVxyXG4iXSwKICAibWFwcGluZ3MiOiAibUNBQUEsT0FDSSxTQUFTQSxFQUNULE1BQUFDLEdBQ0EsVUFBVUMsR0FDVixVQUFVQyxHQUVWLGFBQWFDLEdBQ2IsWUFBWUMsTUFDVCx1QkFDUCxPQUFTLFNBQUFDLEVBQU8sV0FBQUMsT0FBZSxvQ0FUL0IsSUFZYUMsRUFFQUMsRUF3Q0FDLEVBS0FDLEVBYUFDLEVBbUJBQyxFQTNGYkMsRUFBQUMsRUFBQSxLQVlhUCxFQUE0Q1EsR0FDckRWLEVBQU1VLENBQXFFLEVBQ2xFUCxFQUNUTyxHQUNDVixFQUFNVSxDQUE0RixFQXNDMUZOLEVBQ0ZMLEdBQ1AsTUFBT1ksR0FDSFosRUFBRSxNQUFNWSxDQUFFLEVBRUxOLEVBQ0xPLEdBQ1VDLEdBQ2JDLEdBQ0dBLEVBQU1GLENBQUMsSUFBTUMsRUFTUlAsRUFDUlMsR0FDTUMsR0FDSGpCLEVBQUUsS0FBS0wsRUFBRyxTQUFTcUIsQ0FBQyxFQUFNckIsRUFBRyxJQUFJc0IsQ0FBQyxFQUFHQyxHQUFNLFFBQVEsSUFBSUEsQ0FBRSxFQUFHYixFQUFRVixFQUFHLE9BQU8sQ0FBQyxFQWdCMUVhLEVBQWdDVyxHQUN6Q25CLEVBQUUsS0FBS21CLEVBQUluQixFQUFFLE9BQVFFLEdBQVdOLEdBQUcsVUFBVSxLQUFLLFNBQVMsRUFBRUMsR0FBSSxFQUFFLENBQUMsRUFBR0csRUFBRSxRQUFRLElDdkZyRixPQUFTLFNBQVNvQixHQUFHLFlBQVlDLE1BQVMsdUJBTDFDLElBZWFDLEdBeUVBQyxFQUVBQyxF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LEVBQVd5QyxHQUFnRCxTQUFZLENBQ2hGLElBQUlDLEVBQVEsS0FBSyxNQUFNLE1BQU0sVUFBVSxTQUFTLGFBQWEsTUFBTSxDQUFDLEVBRWhFRCxJQUFTLFlBQ1RFLEVBQVNELEVBQU0sY0FBZSxFQUFJLEVBQ2xDQyxFQUFTRCxFQUFNLGNBQWUsRUFBSSxFQUNsQ0MsRUFBU0QsRUFBTSxlQUFnQixFQUFJLEVBQ25DLE1BQU03QyxHQUF1QjZDLEVBQU0sU0FBUyxFQUM1QyxVQUFVLGlCQUFpQixrQkFBa0IsR0FFN0NELElBQVMsZUFDVG5ELEVBQUcsSUFBSUMsRUFBRSxPQUFPLFVBQVUsYUFBYSxHQUFHLENBQUMsRUFBRW1ELEVBQU0sVUFBVSxFQUM3RHBELEVBQUcsSUFBSUMsRUFBRSxPQUFPLFVBQVUsU0FBUyxnQkFBZ0IsT0FBTyxDQUFDLEVBQUVtRCxFQUFNLGFBQWEsRUFDaEYsVUFBVSxpQkFBaUIscUJBQXFCLEdBRWhERCxJQUFTLGFBQ1RDLEVBQU0sU0FBUyxJQUFJLENBQUMsQ0FBQ0gsRUFBSUMsRUFBTUosQ0FBSyxJQUFNLENBQ3RDLElBQU1FLEVBQVUsU0FBUyxjQUFtQixRQUFRQyxDQUFFLElBQUksRUFDMUQsR0FBSSxDQUFDRCxFQUFTLE9BQU8sUUFBUSxLQUFLLGVBQWVDLENBQUUsZUFBZSxFQUVsRSxHQUFJQyxJQUFTLE9BQVFGLEVBQVEsTUFBUUYsVUFDNUJJLElBQVMsV0FBWUYsRUFBUSxRQUFVRixVQUN2Q0ksSUFBUyxTQUFVRixFQUFRLE1BQVFGLE1BQ3ZDLFFBRXFCUSxFQUFjTixDQUFPLEVBQzdCLFNBQVMsQ0FBRSxPQUFRQSxDQUFRLENBQUMsQ0FDbEQsQ0FBQyxFQUNELFVBQVUsaUJBQWlCLG1CQUFtQixFQUV0RCxFQUVBIiwKICAibmFtZXMiOiBbImFyIiwgImVxIiwgInN0ciIsICJyZWMiLCAic2ciLCAiZiIsICJndWFyZCIsICJtZW1vaXplIiwgImd1YXJkMiIsICJndWFyZDMiLCAicE1jaGFpbiIsICJpcyIsICJjaHVuY2tpZnkiLCAibWVtb2l6ZTIiLCAiaW5pdF9mcCIsICJfX2VzbU1pbiIsICJicmFuY2hlcyIsICJmYSIsICJjIiwgImEiLCAiZmllbGQiLCAibiIsICJnIiwgInBzIiwgImZuIiwgImEiLCAiZiIsICJTcG90aWZ5TG9jIiwgInNsZWVwIiwgImdldFJlYWN0UHJvcHMiLCAic2V0TGlrZWQiLCAiaW5pdF91dGlsIiwgIl9fZXNtTWluIiwgInVyaSIsICJ1aWQiLCAibXMiLCAicmVzb2x2ZSIsICJlbGVtZW50IiwgImsiLCAidXJpcyIsICJsaWtlZCIsICJmZXRjaFdlYkFydGlzdHNTcG90IiwgImZldGNoV2ViUGxheWxpc3RzU3BvdCIsICJmZXRjaFdlYkFsYnVtc1Nwb3QiLCAiZmV0Y2hXZWJUcmFja3NTcG90IiwgImZldGNoUGxhdFBsYXlsaXN0Q29udGVudHMiLCAiY3JlYXRlUGxhdEZvbGRlciIsICJsaWtlUGxhdFBsYXlsaXN0IiwgImNyZWF0ZVNQUGxheWxpc3RGcm9tVHJhY2tzIiwgImZldGNoUGxhdEZvbGRlciIsICJmZXRjaFBsYXRSb290Rm9sZGVyIiwgImZldGNoVHJhY2tMRk1BUEkiLCAiZmV0Y2hUcmFja0xGTUFQSU1lbW9pemVkIiwgImluaXRfYXBpIiwgIl9fZXNtTWluIiwgImluaXRfZnAiLCAiaW5pdF91dGlsIiwgImNodW5ja2lmeSIsICJpZHMiLCAiaWQiLCAidXJpIiwgIm5hbWUiLCAibG9jYXRpb24iLCAidHJhY2tzIiwgImZvbGRlciIsICJMRk1BcGlLZXkiLCAiYXJ0aXN0IiwgInRyYWNrTmFtZSIsICJsYXN0Rm1Vc2VybmFtZSIsICJ1cmwiLCAicmVzIiwgIm1lbW9pemUyIiwgImFsbFBhc3MiLCAicmVxdWlyZSIsICJjYWNoZSIsICJtb2R1bGVzIiwgImZ1bmN0aW9uTW9kdWxlcyIsICJyZWFjdE9iamVjdHMiLCAicmVhY3RNZW1vU3ltYm9sIiwgInJlYWN0TWVtb3MiLCAiZmluZE1vZHVsZUJ5SXRzU3RyaW5nIiwgIkNoZWNrZWRQbGF5bGlzdEJ1dHRvbkljb24iLCAiU2VjdGlvbldyYXBwZXIiLCAiU2VjdGlvblRpdGxlIiwgIlNldHRpbmdDb2x1bW4iLCAiU2V0dGluZ1RleHQiLCAiU2V0dGluZ1RvZ2dsZSIsICJjdXJhdGlvbkJ1dHRvbkNsYXNzIiwgImluaXRfbW9kdWxlcyIsICJfX2VzbU1pbiIsICJyZSIsICJpZCIsICJtb2R1bGUiLCAibSIsICJmaWx0ZXJzIiwgImYiLCAiZmlsdGVyIiwgInMiLCAidGFzayIsICJSZWFjdCIsICJSZWFjdERPTSIsICJCdXR0b25TZWNvbmRhcnkiLCAiU2V0dGluZ3NTZWN0aW9uIiwgImluaXRfc2V0dGluZ3MiLCAiX19lc21NaW4iLCAiaW5pdF9mcCIsICJpbml0X3V0aWwiLCAiaW5pdF9tb2R1bGVzIiwgIl9TZXR0aW5nc1NlY3Rpb24iLCAibmFtZSIsICJpZCIsICJzZWN0aW9uRmllbGRzIiwgInRhcmdldCIsICJwcm9wIiwgInNsZWVwIiwgImFsbFNldHRpbmdzQ29udGFpbmVyIiwgInBsdWdpblNldHRpbmdzQ29udGFpbmVyIiwgInByb3BzIiwgImRlZmF1bHRWYWx1ZSIsICJuYW1lSWQiLCAidmFsdWUiLCAic2V0VmFsdWVTdGF0ZSIsICJuZXdWYWx1ZSIsICJTZWN0aW9uV3JhcHBlciIsICJTZWN0aW9uVGl0bGUiLCAiZmllbGQiLCAiaXNUeXBlIiwgImlzIiwgImd1YXJkMyIsICJjaGlsZHJlbiIsICJTZXR0aW5nQ29sdW1uIiwgIlNldHRpbmdUZXh0IiwgInNldFZhbHVlIiwgIlNldHRpbmdUb2dnbGUiLCAiY2hlY2tlZCIsICJlIiwgInR5cGUiLCAib3B0cyIsICJzZXR0aW5nSWQiLCAic2V0dGluZ3NfZXhwb3J0cyIsICJzZXR0aW5ncyIsICJpbml0X3NldHRpbmdzIiwgIl9fZXNtTWluIiwgImluaXRfYXBwIiwgIlNldHRpbmdzU2VjdGlvbiIsICJiYWNrdXAiLCAicmVzdG9yZSIsICJhciIsICJmIiwgInJlYyIsICJ0YXNrIiwgImlzVHlwZSIsICJleHRyYWN0TGlrZWRQbGF5bGlzdFRyZWVSZWN1ciIsICJpc0NvbnRlbnRPZlBlcnNvbmFsUGxheWxpc3QiLCAicmVzdG9yZVBsYXlsaXN0c2VSZWN1ciIsICJhbGxvd2VkRXh0RGF0YVJlZ2V4IiwgImJhY2t1cCIsICJyZXN0b3JlIiwgImluaXRfYXBwIiwgIl9fZXNtTWluIiwgImluaXRfYXBpIiwgImluaXRfZnAiLCAiaW5pdF91dGlsIiwgImlzIiwgImxlYWYiLCAiZ3VhcmQyIiwgInBsYXlsaXN0IiwgImZldGNoUGxhdFBsYXlsaXN0Q29udGVudHMiLCAicE1jaGFpbiIsICJ4IiwgImZvbGRlciIsICJwcyIsICJzdWJsZWFmIiwgIm5hbWUiLCAibGlrZVBsYXRQbGF5bGlzdCIsICJjcmVhdGVTUFBsYXlsaXN0RnJvbVRyYWNrcyIsICJjcmVhdGVQbGF0Rm9sZGVyIiwgImV4dHJhY3RJdGVtc1VyaXMiLCAiYSIsICJpdGVtIiwgInJhd0xpYnJhcnlUcmFja3MiLCAibGlicmFyeVRyYWNrcyIsICJyYXdMaWJyYXJ5QWxidW1zIiwgImxpYnJhcnlBbGJ1bXMiLCAicmF3TGlicmFyeUFydGlzdHMiLCAibGlicmFyeUFydGlzdHMiLCAicGxheWxpc3RzIiwgImZldGNoUGxhdFJvb3RGb2xkZXIiLCAibG9jYWxTdG9yZSIsICJrZXkiLCAiaXRlbXMiLCAibmFtZXNwYWNlIiwgImxvY2FsU3RvcmVBUEkiLCAidmFsdWUiLCAic2V0dGluZ3MiLCAic2V0dGluZyIsICJpZCIsICJ0eXBlIiwgIm1vZGUiLCAidmF1bHQiLCAic2V0TGlrZWQiLCAiZ2V0UmVhY3RQcm9wcyJdCn0K
