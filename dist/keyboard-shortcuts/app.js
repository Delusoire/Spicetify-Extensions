import{array as S,function as m,number as C,ord as H}from"https://esm.sh/fp-ts";import{mean as P}from"https://esm.sh/fp-ts-std/Array";var g=Spicetify.Mousetrap(),f="abcdefghijklmnopqrstuvwxyz".split(""),w=()=>Array.from(s.getElementsByClassName("sneak-key")),q=e=>e.length===0?!1:(s.remove(),m.pipe(e,S.map(t=>t.remove())),document.body.append(s),!0),L=m.flow(w,q),I=()=>{if(s.style.display="block",L())return;let e=n=>n.checkVisibility({checkOpacity:!0,checkVisibilityCSS:!0}),t=n=>{let l=document.body,p=n.getBoundingClientRect(),u=(c,K)=>E=>E===H.clamp(C.Ord)(c,K)(E);return m.pipe(P([p.top,p.bottom]),u(0,l.clientHeight))&&m.pipe(P([p.left,p.right]),u(0,l.clientWidth))},r=(n,l,p,u)=>{let c=document.createElement("span");return c.classList.add("sneak-key"),c.innerText=l,c.style.top=p+"px",c.style.left=u+"px",c.target=n,c},i=document.createDocumentFragment(),a='.Root__top-container [href]:not(link),.Root__top-container button,.Root__top-container [role="button"]';b=m.pipe(document.querySelectorAll(a),n=>Array.from(n),S.filter(e),S.filter(t),S.reduce([0,0],([n,l],p)=>{let{x:u,y:c}=p.getBoundingClientRect();return i.append(r(p,f[n]+f[l++],c,u)),l>=f.length?[++n,0]:[n,l]}),([n,l])=>n+l>0),b&&s.append(i)},d=()=>{s.style.display="none",L(),y=!1},T=({key:e})=>{if(!y){b&&(b=!1,y=!0);return}let t=w();if(t.length===0)return void d();s.remove(),t.map(r=>{let[i,...a]=r.innerText.toLowerCase();if(i!==e)return void r.remove();a.length===0?(r.target.click(),d()):r.innerText=a.join("")}),document.body.append(s),s.childNodes.length===1&&d()},b=!1,y=!1,s=document.createElement("div");s.id="sneak-overlay";document.body.append(s);import{mod as M}from"https://esm.sh/fp-ts-std/Number";import{function as O}from"https://esm.sh/fp-ts";var j=25,R=()=>document.querySelector(".Root__main-view .os-viewport"),h=e=>{let t=R(),r=setInterval(()=>t.scrollTop+=e*j,10);document.addEventListener("keyup",()=>clearInterval(r))},k=e=>R().scroll(0,e),_=e=>Spicetify.Platform.History.push({pathname:e}),x=e=>{let t=Array.from(Array.from(document.querySelectorAll(".main-yourLibraryX-navLink")).values());O.pipe(document.querySelector(".main-yourLibraryX-navLinkActive"),r=>t.findIndex(i=>i===r),r=>M(t.length)(r===-1&&e<=0?e:r+e),r=>t[r].click())};var o=class{constructor(t,r){this.key=t;this.callback=r}ctrl=!1;shift=!1;alt=!1;setCtrl=t=>(this.ctrl=t,this);setShift=t=>(this.shift=t,this);setAlt=t=>(this.alt=t,this);register=()=>Spicetify.Keyboard.registerShortcut({key:this.key,ctrl:this.ctrl,shift:this.shift,alt:this.alt},t=>void(!y&&this.callback(t)))};import{array as z,function as v}from"https://esm.sh/fp-ts";var Z={before:{start:v.constant({before:"start"}),fromUri:e=>({before:{uri:e}}),fromUid:e=>({before:{uid:e}})},after:{end:v.constant({after:"end"}),fromUri:e=>({after:{uri:e}}),fromUid:e=>({after:{uid:e}})}};var B=e=>Spicetify.Platform.LibraryAPI.contains(...e),A=(e,t)=>Spicetify.Platform.LibraryAPI[t?"add":"remove"](...e),U=async e=>{let t=await B(e);return await v.pipe(e,z.reduceWithIndex([[],[]],(r,i,a)=>(i[Number(t[r])].push(a),i)),([r,i])=>{let a=[];return r.length&&a.push(A(r,!0)),i.length&&a.push(A(i,!1)),Promise.all(a)})};var{KEYS:F}=Spicetify.Keyboard,N=[new o("s",I),new o("s",async()=>{await(Spicetify.Platform.UserAPI._product_state||Spicetify.Platform.UserAPI._product_state_service).putValues({pairs:{"app-developer":"2"}}),Spicetify.Platform.UpdateAPI.applyUpdate()}).setShift(!0),new o("tab",()=>x(1)),new o("tab",()=>x(-1)).setShift(!0),new o("h",Spicetify.Platform.History.goBack).setShift(!0),new o("l",Spicetify.Platform.History.goForward).setShift(!0),new o("j",()=>h(1)),new o("k",()=>h(-1)),new o("g",()=>k(0)),new o("g",()=>k(Number.MAX_SAFE_INTEGER)).setShift(!0),new o("m",()=>U([Spicetify.Player.data.item.uri])),new o("/",e=>{e.preventDefault(),_("/search")})];N.map(e=>e.register());g.bind(f,T,"keypress");g.bind(F.ESCAPE,d);
//! Does location actually point to document.body?
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vZXh0ZW5zaW9ucy9rZXlib2FyZC1zaG9ydGN1dHMvc25lYWsudHMiLCAiLi4vLi4vZXh0ZW5zaW9ucy9rZXlib2FyZC1zaG9ydGN1dHMvdXRpbC50cyIsICIuLi8uLi9zaGFyZWQvdXRpbC50cyIsICIuLi8uLi9leHRlbnNpb25zL2tleWJvYXJkLXNob3J0Y3V0cy9hcHAudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB7IGFycmF5IGFzIGEsIGZ1bmN0aW9uIGFzIGYsIG51bWJlciBhcyBuLCBvcmQgfSBmcm9tIFwiaHR0cHM6Ly9lc20uc2gvZnAtdHNcIlxyXG5pbXBvcnQgeyBtZWFuIH0gZnJvbSBcImh0dHBzOi8vZXNtLnNoL2ZwLXRzLXN0ZC9BcnJheVwiXHJcblxyXG50eXBlIFNuZWFrS2V5ID0gSFRNTFNwYW5FbGVtZW50ICYgeyB0YXJnZXQ6IEhUTUxFbGVtZW50IH1cclxuXHJcbmV4cG9ydCBjb25zdCBtb3VzZXRyYXBJbnN0ID0gU3BpY2V0aWZ5Lk1vdXNldHJhcCgpXHJcblxyXG5leHBvcnQgY29uc3Qga2V5TGlzdCA9IFwiYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcIi5zcGxpdChcIlwiKVxyXG5cclxuY29uc3QgZ2V0U25lYWtLZXlzID0gKCkgPT4gQXJyYXkuZnJvbShzbmVha092ZXJsYXkuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInNuZWFrLWtleVwiKSkgYXMgU25lYWtLZXlbXVxyXG5cclxuY29uc3QgY2xlYXJTb21lU25lYWtLZXlzID0gKHNuZWFrS2V5czogU25lYWtLZXlbXSkgPT4ge1xyXG4gICAgaWYgKHNuZWFrS2V5cy5sZW5ndGggPT09IDApIHJldHVybiBmYWxzZVxyXG5cclxuICAgIHNuZWFrT3ZlcmxheS5yZW1vdmUoKVxyXG4gICAgZi5waXBlKFxyXG4gICAgICAgIHNuZWFrS2V5cyxcclxuICAgICAgICBhLm1hcChlID0+IGUucmVtb3ZlKCkpLFxyXG4gICAgKVxyXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmQoc25lYWtPdmVybGF5KVxyXG4gICAgcmV0dXJuIHRydWVcclxufVxyXG5jb25zdCBjbGVhclNuZWFrS2V5cyA9IGYuZmxvdyhnZXRTbmVha0tleXMsIGNsZWFyU29tZVNuZWFrS2V5cylcclxuXHJcbmV4cG9ydCBjb25zdCBlbnRlclNuZWFrID0gKCkgPT4ge1xyXG4gICAgc25lYWtPdmVybGF5LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCJcclxuXHJcbiAgICBpZiAoY2xlYXJTbmVha0tleXMoKSkgcmV0dXJuXHJcblxyXG4gICAgY29uc3QgaXNFbGVtZW50VmlzaWJsZSA9IChlOiBIVE1MRWxlbWVudCkgPT4gZS5jaGVja1Zpc2liaWxpdHkoeyBjaGVja09wYWNpdHk6IHRydWUsIGNoZWNrVmlzaWJpbGl0eUNTUzogdHJ1ZSB9KVxyXG4gICAgY29uc3QgaXNFbGVtZW50SW5WaWV3UG9ydCA9IChlOiBIVE1MRWxlbWVudCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGMgPSBkb2N1bWVudC5ib2R5XHJcbiAgICAgICAgY29uc3QgYm91bmQgPSBlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXHJcbiAgICAgICAgY29uc3Qgd2l0aGluID0gKG06IG51bWJlciwgTTogbnVtYmVyKSA9PiAoeDogbnVtYmVyKSA9PiB4ID09PSBvcmQuY2xhbXAobi5PcmQpKG0sIE0pKHgpXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgZi5waXBlKG1lYW4oW2JvdW5kLnRvcCwgYm91bmQuYm90dG9tXSksIHdpdGhpbigwLCBjLmNsaWVudEhlaWdodCkpICYmXHJcbiAgICAgICAgICAgIGYucGlwZShtZWFuKFtib3VuZC5sZWZ0LCBib3VuZC5yaWdodF0pLCB3aXRoaW4oMCwgYy5jbGllbnRXaWR0aCkpXHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGNyZWF0ZVNuZWFrS2V5ID0gKHRhcmdldDogSFRNTEVsZW1lbnQsIGtleTogc3RyaW5nLCB0b3A6IHN0cmluZyB8IG51bWJlciwgbGVmdDogc3RyaW5nIHwgbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgY29uc3Qgc25lYWtLZXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKSBhcyBTbmVha0tleVxyXG4gICAgICAgIHNuZWFrS2V5LmNsYXNzTGlzdC5hZGQoXCJzbmVhay1rZXlcIilcclxuICAgICAgICBzbmVha0tleS5pbm5lclRleHQgPSBrZXlcclxuICAgICAgICBzbmVha0tleS5zdHlsZS50b3AgPSB0b3AgKyBcInB4XCJcclxuICAgICAgICBzbmVha0tleS5zdHlsZS5sZWZ0ID0gbGVmdCArIFwicHhcIlxyXG4gICAgICAgIHNuZWFrS2V5LnRhcmdldCA9IHRhcmdldFxyXG4gICAgICAgIHJldHVybiBzbmVha0tleVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHNuZWFrS2V5c0ZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpXHJcbiAgICBjb25zdCBsaW5rU2VsZWN0b3IgPSBgLlJvb3RfX3RvcC1jb250YWluZXIgW2hyZWZdOm5vdChsaW5rKSwuUm9vdF9fdG9wLWNvbnRhaW5lciBidXR0b24sLlJvb3RfX3RvcC1jb250YWluZXIgW3JvbGU9XCJidXR0b25cIl1gXHJcblxyXG4gICAgc2hvdWxkTGlzdGVuVG9TbmVha0JpbmRzID0gZi5waXBlKFxyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwobGlua1NlbGVjdG9yKSxcclxuICAgICAgICB4ID0+IEFycmF5LmZyb20oeCkgYXMgSFRNTEVsZW1lbnRbXSxcclxuICAgICAgICBhLmZpbHRlcihpc0VsZW1lbnRWaXNpYmxlKSxcclxuICAgICAgICBhLmZpbHRlcihpc0VsZW1lbnRJblZpZXdQb3J0KSxcclxuICAgICAgICBhLnJlZHVjZTxIVE1MRWxlbWVudCwgW251bWJlciwgbnVtYmVyXT4oWzAsIDBdLCAoW2sxLCBrMl0sIGUpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgeyB4LCB5IH0gPSBlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXHJcbiAgICAgICAgICAgIHNuZWFrS2V5c0ZyYWdtZW50LmFwcGVuZChjcmVhdGVTbmVha0tleShlLCBrZXlMaXN0W2sxXSArIGtleUxpc3RbazIrK10sIHksIHgpKVxyXG4gICAgICAgICAgICByZXR1cm4gazIgPj0ga2V5TGlzdC5sZW5ndGggPyBbKytrMSwgMF0gOiBbazEsIGsyXVxyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIChbazEsIGsyXSkgPT4gazEgKyBrMiA+IDAsXHJcbiAgICApXHJcblxyXG4gICAgaWYgKHNob3VsZExpc3RlblRvU25lYWtCaW5kcykgc25lYWtPdmVybGF5LmFwcGVuZChzbmVha0tleXNGcmFnbWVudClcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHF1aXRTbmVhayA9ICgpID0+IHtcclxuICAgIHNuZWFrT3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCJcclxuICAgIGNsZWFyU25lYWtLZXlzKClcclxuICAgIGxpc3RlbmluZ1RvU25lYWtCaW5kcyA9IGZhbHNlXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBsaXN0ZW5TbmVha0tleXMgPSAoeyBrZXkgfTogS2V5Ym9hcmRFdmVudCkgPT4ge1xyXG4gICAgaWYgKCFsaXN0ZW5pbmdUb1NuZWFrQmluZHMpIHtcclxuICAgICAgICBpZiAoc2hvdWxkTGlzdGVuVG9TbmVha0JpbmRzKSB7XHJcbiAgICAgICAgICAgIHNob3VsZExpc3RlblRvU25lYWtCaW5kcyA9IGZhbHNlXHJcbiAgICAgICAgICAgIGxpc3RlbmluZ1RvU25lYWtCaW5kcyA9IHRydWVcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBjb25zdCBzbmVha0tleXMgPSBnZXRTbmVha0tleXMoKVxyXG5cclxuICAgIGlmIChzbmVha0tleXMubGVuZ3RoID09PSAwKSByZXR1cm4gdm9pZCBxdWl0U25lYWsoKVxyXG5cclxuICAgIHtcclxuICAgICAgICBzbmVha092ZXJsYXkucmVtb3ZlKClcclxuXHJcbiAgICAgICAgc25lYWtLZXlzLm1hcChzbmVha0tleSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IFtrMSwgLi4ua3NdID0gc25lYWtLZXkuaW5uZXJUZXh0LnRvTG93ZXJDYXNlKClcclxuICAgICAgICAgICAgaWYgKGsxICE9PSBrZXkpIHJldHVybiB2b2lkIHNuZWFrS2V5LnJlbW92ZSgpXHJcblxyXG4gICAgICAgICAgICBpZiAoa3MubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBzbmVha0tleS50YXJnZXQuY2xpY2soKVxyXG4gICAgICAgICAgICAgICAgcXVpdFNuZWFrKClcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNuZWFrS2V5LmlubmVyVGV4dCA9IGtzLmpvaW4oXCJcIilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKHNuZWFrT3ZlcmxheSlcclxuICAgIH1cclxuXHJcbiAgICBpZiAoc25lYWtPdmVybGF5LmNoaWxkTm9kZXMubGVuZ3RoID09PSAxKSBxdWl0U25lYWsoKVxyXG59XHJcblxyXG5sZXQgc2hvdWxkTGlzdGVuVG9TbmVha0JpbmRzID0gZmFsc2VcclxuZXhwb3J0IGxldCBsaXN0ZW5pbmdUb1NuZWFrQmluZHMgPSBmYWxzZVxyXG5cclxuY29uc3Qgc25lYWtPdmVybGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxyXG5zbmVha092ZXJsYXkuaWQgPSBcInNuZWFrLW92ZXJsYXlcIlxyXG5kb2N1bWVudC5ib2R5LmFwcGVuZChzbmVha092ZXJsYXkpXHJcblxyXG4vLyBpbXBvcnQgeyBMaXRFbGVtZW50LCBodG1sIH0gZnJvbSBcImh0dHBzOi8vZXNtLnNoL2xpdFwiXHJcbi8vIGltcG9ydCB7IGN1c3RvbUVsZW1lbnQgfSBmcm9tIFwiaHR0cHM6Ly9lc20uc2gvbGl0L2RlY29yYXRvcnMuanNcIlxyXG5cclxuLy8gLy8gQGN1c3RvbUVsZW1lbnQoXCJzbmVhay1rZXlcIilcclxuLy8gLy8gZXhwb3J0IGNsYXNzIFNuZWFrS2V5RWwgZXh0ZW5kcyBMaXRFbGVtZW50IHtcclxuLy8gLy8gICAgIHByb3RlY3RlZCByZW5kZXIoKSB7XHJcbi8vIC8vICAgICAgICAgcmV0dXJuIGh0bWxgYFxyXG4vLyAvLyAgICAgfVxyXG4vLyAvLyB9XHJcbiIsICJpbXBvcnQgeyBsaXN0ZW5pbmdUb1NuZWFrQmluZHMgfSBmcm9tIFwiLi9zbmVhay50c1wiXHJcbmltcG9ydCB7IG1vZCB9IGZyb20gXCJodHRwczovL2VzbS5zaC9mcC10cy1zdGQvTnVtYmVyXCJcclxuaW1wb3J0IHsgZnVuY3Rpb24gYXMgZiB9IGZyb20gXCJodHRwczovL2VzbS5zaC9mcC10c1wiXHJcblxyXG5jb25zdCBTQ1JPTExfU1RFUCA9IDI1XHJcblxyXG5jb25zdCBmb2N1c09uQXBwID0gKCkgPT4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxFbGVtZW50PihcIi5Sb290X19tYWluLXZpZXcgLm9zLXZpZXdwb3J0XCIpIVxyXG5cclxuZXhwb3J0IGNvbnN0IGFwcFNjcm9sbCA9IChzOiBudW1iZXIpID0+IHtcclxuICAgIGNvbnN0IGFwcCA9IGZvY3VzT25BcHAoKVxyXG4gICAgY29uc3Qgc2Nyb2xsSW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IChhcHAuc2Nyb2xsVG9wICs9IHMgKiBTQ1JPTExfU1RFUCksIDEwKVxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsICgpID0+IGNsZWFySW50ZXJ2YWwoc2Nyb2xsSW50ZXJ2YWxJZCkpXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBhcHBTY3JvbGxZID0gKHk6IG51bWJlcikgPT4gZm9jdXNPbkFwcCgpLnNjcm9sbCgwLCB5KVxyXG5cclxuZXhwb3J0IGNvbnN0IG9wZW5QYWdlID0gKHBhZ2U6IHN0cmluZykgPT4gU3BpY2V0aWZ5LlBsYXRmb3JtLkhpc3RvcnkucHVzaCh7IHBhdGhuYW1lOiBwYWdlIH0pXHJcblxyXG5leHBvcnQgY29uc3Qgcm90YXRlU2lkZWJhciA9IChvZmZzZXQ6IG51bWJlcikgPT4ge1xyXG4gICAgY29uc3QgbmF2TGlua3MgPSBBcnJheS5mcm9tKFxyXG4gICAgICAgIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbDxIVE1MRWxlbWVudD4oXCIubWFpbi15b3VyTGlicmFyeVgtbmF2TGlua1wiKSkudmFsdWVzKCksXHJcbiAgICApXHJcblxyXG4gICAgZi5waXBlKFxyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi15b3VyTGlicmFyeVgtbmF2TGlua0FjdGl2ZVwiKSxcclxuICAgICAgICBhY3RpdmUgPT4gbmF2TGlua3MuZmluZEluZGV4KGUgPT4gZSA9PT0gYWN0aXZlKSxcclxuICAgICAgICBjdXJyID0+IG1vZChuYXZMaW5rcy5sZW5ndGgpKGN1cnIgPT09IC0xICYmIG9mZnNldCA8PSAwID8gb2Zmc2V0IDogY3VyciArIG9mZnNldCksXHJcbiAgICAgICAgdGFyZ2V0ID0+IG5hdkxpbmtzW3RhcmdldF0uY2xpY2soKSxcclxuICAgIClcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHJlc2l6ZUxlZnRTaWRlYmFyID0gKHB4czogbnVtYmVyKSA9PiB7XHJcbiAgICBjb25zdCBodG1sID0gZG9jdW1lbnQuZmlyc3RFbGVtZW50Q2hpbGQhIGFzIEhUTUxIdG1sRWxlbWVudCxcclxuICAgICAgICBodG1sU3R5bGUgPSBodG1sLnN0eWxlXHJcbiAgICBodG1sU3R5bGUuY3NzVGV4dCA9IGh0bWxTdHlsZS5jc3NUZXh0LnJlcGxhY2UoLygtLWxlZnQtc2lkZWJhci13aWR0aDogKVteO10rLywgYCQxJHtweHN9cHhgKVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQmluZCB7XHJcbiAgICBwcml2YXRlIGN0cmwgPSBmYWxzZVxyXG4gICAgcHJpdmF0ZSBzaGlmdCA9IGZhbHNlXHJcbiAgICBwcml2YXRlIGFsdCA9IGZhbHNlXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGtleTogc3RyaW5nLCBwcml2YXRlIGNhbGxiYWNrOiAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IHZvaWQpIHt9XHJcblxyXG4gICAgc2V0Q3RybCA9IChyZXF1aXJlZDogYm9vbGVhbikgPT4gKCh0aGlzLmN0cmwgPSByZXF1aXJlZCksIHRoaXMpXHJcbiAgICBzZXRTaGlmdCA9IChyZXF1aXJlZDogYm9vbGVhbikgPT4gKCh0aGlzLnNoaWZ0ID0gcmVxdWlyZWQpLCB0aGlzKVxyXG4gICAgc2V0QWx0ID0gKHJlcXVpcmVkOiBib29sZWFuKSA9PiAoKHRoaXMuYWx0ID0gcmVxdWlyZWQpLCB0aGlzKVxyXG5cclxuICAgIHJlZ2lzdGVyID0gKCkgPT5cclxuICAgICAgICBTcGljZXRpZnkuS2V5Ym9hcmQucmVnaXN0ZXJTaG9ydGN1dChcclxuICAgICAgICAgICAgeyBrZXk6IHRoaXMua2V5LCBjdHJsOiB0aGlzLmN0cmwsIHNoaWZ0OiB0aGlzLnNoaWZ0LCBhbHQ6IHRoaXMuYWx0IH0sXHJcbiAgICAgICAgICAgIGV2ZW50ID0+IHZvaWQgKCFsaXN0ZW5pbmdUb1NuZWFrQmluZHMgJiYgdGhpcy5jYWxsYmFjayhldmVudCkpLFxyXG4gICAgICAgIClcclxufVxyXG4iLCAiLy8gZXhwb3J0IGludGVyZmFjZSBTcG90aWZ5SURcclxuLy8gICAgIGV4dGVuZHMgTmV3dHlwZTx7IHJlYWRvbmx5IFNwb3RpZnlJRDogdW5pcXVlIHN5bWJvbCB9LCBzdHJpbmc+IHt9XHJcbi8vIGV4cG9ydCBpbnRlcmZhY2UgU3BvdGlmeVVSSVxyXG4vLyAgICAgZXh0ZW5kcyBOZXd0eXBlPHsgcmVhZG9ubHkgU3BvdGlmeVVSSTogdW5pcXVlIHN5bWJvbCB9LCBzdHJpbmc+IHt9XHJcblxyXG5pbXBvcnQgeyBhcnJheSBhcyBhLCBmdW5jdGlvbiBhcyBmIH0gZnJvbSBcImh0dHBzOi8vZXNtLnNoL2ZwLXRzXCJcclxuXHJcbmV4cG9ydCB0eXBlIFNwb3RpZnlJRCA9IHN0cmluZ1xyXG5leHBvcnQgdHlwZSBTcG90aWZ5VVJJID0gc3RyaW5nXHJcblxyXG5leHBvcnQgdHlwZSBTcG90aWZ5TG9jT2JqID0ge1xyXG4gICAgYmVmb3JlPzogXCJzdGFydFwiIHwgeyB1cmk6IFNwb3RpZnlVUkkgfSB8IHsgdWlkOiBzdHJpbmcgfVxyXG4gICAgYWZ0ZXI/OiBcImVuZFwiIHwgeyB1cmk6IFNwb3RpZnlVUkkgfSB8IHsgdWlkOiBzdHJpbmcgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgU3BvdGlmeUxvYyA9IHtcclxuICAgIGJlZm9yZToge1xyXG4gICAgICAgIHN0YXJ0OiBmLmNvbnN0YW50KHsgYmVmb3JlOiBcInN0YXJ0XCIgfSBhcyBTcG90aWZ5TG9jT2JqKSxcclxuICAgICAgICBmcm9tVXJpOiAodXJpOiBTcG90aWZ5VVJJKSA9PiAoeyBiZWZvcmU6IHsgdXJpIH0gfSksXHJcbiAgICAgICAgZnJvbVVpZDogKHVpZDogc3RyaW5nKSA9PiAoeyBiZWZvcmU6IHsgdWlkIH0gfSksXHJcbiAgICB9LFxyXG4gICAgYWZ0ZXI6IHtcclxuICAgICAgICBlbmQ6IGYuY29uc3RhbnQoeyBhZnRlcjogXCJlbmRcIiB9IGFzIFNwb3RpZnlMb2NPYmopLFxyXG4gICAgICAgIGZyb21Vcmk6ICh1cmk6IFNwb3RpZnlVUkkpID0+ICh7IGFmdGVyOiB7IHVyaSB9IH0pLFxyXG4gICAgICAgIGZyb21VaWQ6ICh1aWQ6IHN0cmluZykgPT4gKHsgYWZ0ZXI6IHsgdWlkIH0gfSksXHJcbiAgICB9LFxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZXNjYXBlUmVnZXggPSAoc3RyOiBzdHJpbmcpID0+IHN0ci5yZXBsYWNlKC9bLiorP14ke30oKXxbXFxdXFxcXF0vZywgYFxcXFwkJmApXHJcblxyXG5leHBvcnQgY29uc3QgdGl0bGVDYXNlID0gKHN0cjogc3RyaW5nKSA9PiBzdHIucmVwbGFjZSgvXFxiXFx3L2csIGwgPT4gbC50b1VwcGVyQ2FzZSgpKVxyXG5cclxuZXhwb3J0IGNvbnN0IG5vcm1hbGl6ZVN0ciA9IChzdHI6IHN0cmluZykgPT5cclxuICAgIHN0clxyXG4gICAgICAgIC5ub3JtYWxpemUoXCJORktEXCIpXHJcbiAgICAgICAgLnJlcGxhY2UoL1xcKC4qXFwpL2csIFwiXCIpXHJcbiAgICAgICAgLnJlcGxhY2UoL1xcWy4qXFxdL2csIFwiXCIpXHJcbiAgICAgICAgLnJlcGxhY2UoLy1fLC9nLCBcIiBcIilcclxuICAgICAgICAucmVwbGFjZSgvW15hLXpBLVowLTkgXS9nLCBcIlwiKVxyXG4gICAgICAgIC5yZXBsYWNlKC9cXHMrL2csIFwiIFwiKVxyXG4gICAgICAgIC50b0xvd2VyQ2FzZSgpXHJcbiAgICAgICAgLnRyaW0oKVxyXG5cclxuLy8hIERvZXMgbG9jYXRpb24gYWN0dWFsbHkgcG9pbnQgdG8gZG9jdW1lbnQuYm9keT9cclxuZXhwb3J0IGNvbnN0IHdhaXRGb3JFbGVtZW50ID0gPEUgZXh0ZW5kcyBFbGVtZW50PihcclxuICAgIHNlbGVjdG9yOiBzdHJpbmcsXHJcbiAgICB0aW1lb3V0ID0gMTAwMCxcclxuICAgIGxvY2F0aW9uID0gZG9jdW1lbnQuYm9keSxcclxuICAgIG5vdEVsPzogRSxcclxuKSA9PlxyXG4gICAgbmV3IFByb21pc2UoKHJlc29sdmU6ICh2YWx1ZTogRWxlbWVudCB8IG51bGwpID0+IHZvaWQpID0+IHtcclxuICAgICAgICBjb25zdCByZXMgPSAodjogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKVxyXG4gICAgICAgICAgICByZXNvbHZlKHYpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKCgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEU+KHNlbGVjdG9yKVxyXG4gICAgICAgICAgICBpZiAoZWwgJiYgKCFub3RFbCB8fCBlbCAhPT0gbm90RWwpKSByZXR1cm4gcmVzKGVsKVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIG9ic2VydmVyLm9ic2VydmUobG9jYXRpb24sIHtcclxuICAgICAgICAgICAgY2hpbGRMaXN0OiB0cnVlLFxyXG4gICAgICAgICAgICBzdWJ0cmVlOiB0cnVlLFxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGlmICh0aW1lb3V0KSBzZXRUaW1lb3V0KCgpID0+IHJlcyhudWxsKSwgdGltZW91dClcclxuICAgIH0pXHJcblxyXG5leHBvcnQgY29uc3QgdHJhcEVsZW1lbnQgPSA8RSBleHRlbmRzIEVsZW1lbnQ+KFxyXG4gICAgc2VsZWN0b3I6IHN0cmluZyxcclxuICAgIGNhbGxiYWNrOiAoZWw6IEUgfCBudWxsLCBsYXN0RWw6IEUgfCBudWxsKSA9PiB2b2lkLFxyXG4gICAgbG9jYXRpb24gPSBkb2N1bWVudC5ib2R5LFxyXG4pID0+IHtcclxuICAgIGxldCBsYXN0RWw6IEUgfCBudWxsID0gbnVsbFxyXG5cclxuICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxFPihzZWxlY3RvcilcclxuICAgICAgICBpZiAoZWwgIT09IGxhc3RFbCkgY2FsbGJhY2soZWwsIGxhc3RFbClcclxuICAgICAgICBsYXN0RWwgPSBlbFxyXG4gICAgfSlcclxuXHJcbiAgICBvYnNlcnZlci5vYnNlcnZlKGxvY2F0aW9uLCB7XHJcbiAgICAgICAgY2hpbGRMaXN0OiB0cnVlLFxyXG4gICAgICAgIHN1YnRyZWU6IHRydWUsXHJcbiAgICB9KVxyXG59XHJcblxyXG5leHBvcnQgY29uc3Qgc2xlZXAgPSAobXM6IG51bWJlcikgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSlcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRSZWFjdFByb3BzID0gKGVsZW1lbnQ6IEVsZW1lbnQpID0+XHJcbiAgICBlbGVtZW50W09iamVjdC5rZXlzKGVsZW1lbnQpLmZpbmQoayA9PiBrLnN0YXJ0c1dpdGgoXCJfX3JlYWN0UHJvcHMkXCIpKSBhcyBrZXlvZiB0eXBlb2YgZWxlbWVudF1cclxuXHJcbmV4cG9ydCBjb25zdCBpc0xpa2VkID0gKHVyaXM6IFNwb3RpZnlVUklbXSkgPT4gU3BpY2V0aWZ5LlBsYXRmb3JtLkxpYnJhcnlBUEkuY29udGFpbnMoLi4udXJpcykgYXMgUHJvbWlzZTxib29sZWFuW10+XHJcblxyXG5leHBvcnQgY29uc3Qgc2V0TGlrZWQgPSAodXJpczogU3BvdGlmeVVSSVtdLCBsaWtlZDogYm9vbGVhbikgPT5cclxuICAgIFNwaWNldGlmeS5QbGF0Zm9ybS5MaWJyYXJ5QVBJW2xpa2VkID8gXCJhZGRcIiA6IFwicmVtb3ZlXCJdKC4uLnVyaXMpXHJcblxyXG5leHBvcnQgY29uc3QgdG9nZ2xlTGlrZWQgPSBhc3luYyAodXJpczogU3BvdGlmeVVSSVtdKSA9PiB7XHJcbiAgICBjb25zdCBsaWtlZCA9IGF3YWl0IGlzTGlrZWQodXJpcylcclxuXHJcbiAgICByZXR1cm4gYXdhaXQgZi5waXBlKFxyXG4gICAgICAgIHVyaXMsXHJcbiAgICAgICAgYS5yZWR1Y2VXaXRoSW5kZXgoXHJcbiAgICAgICAgICAgIFtbXSBhcyBTcG90aWZ5VVJJW10sIFtdIGFzIFNwb3RpZnlVUklbXV0gYXMgY29uc3QsXHJcbiAgICAgICAgICAgIChpLCBhY2MsIHVyaSkgPT4gKGFjY1tOdW1iZXIobGlrZWRbaV0pXS5wdXNoKHVyaSksIGFjYyksXHJcbiAgICAgICAgKSxcclxuICAgICAgICAoW3RvQWRkLCB0b1JlbV0pID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcHMgPSBbXVxyXG4gICAgICAgICAgICBpZiAodG9BZGQubGVuZ3RoKSBwcy5wdXNoKHNldExpa2VkKHRvQWRkLCB0cnVlKSlcclxuICAgICAgICAgICAgaWYgKHRvUmVtLmxlbmd0aCkgcHMucHVzaChzZXRMaWtlZCh0b1JlbSwgZmFsc2UpKVxyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocHMpXHJcbiAgICAgICAgfSxcclxuICAgIClcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZVF1ZXVlSXRlbSA9IChxdWV1ZWQ6IGJvb2xlYW4pID0+ICh1cmk6IFNwb3RpZnlVUkkpID0+ICh7XHJcbiAgICBjb250ZXh0VHJhY2s6IHtcclxuICAgICAgICB1cmksXHJcbiAgICAgICAgdWlkOiBcIlwiLFxyXG4gICAgICAgIG1ldGFkYXRhOiB7XHJcbiAgICAgICAgICAgIGlzX3F1ZXVlZDogcXVldWVkLnRvU3RyaW5nKCksXHJcbiAgICAgICAgfSxcclxuICAgIH0sXHJcbiAgICByZW1vdmVkOiBbXSxcclxuICAgIGJsb2NrZWQ6IFtdLFxyXG4gICAgcHJvdmlkZXI6IHF1ZXVlZCA/IFwicXVldWVcIiA6IFwiY29udGV4dFwiLFxyXG59KVxyXG5cclxuZXhwb3J0IGNvbnN0IHNldFF1ZXVlID0gYXN5bmMgKG5leHRUcmFja3M6IEFycmF5PFJldHVyblR5cGU8UmV0dXJuVHlwZTx0eXBlb2YgY3JlYXRlUXVldWVJdGVtPj4+KSA9PiB7XHJcbiAgICBjb25zdCB7IF9xdWV1ZSwgX2NsaWVudCB9ID0gU3BpY2V0aWZ5LlBsYXRmb3JtLlBsYXllckFQSS5fcXVldWVcclxuICAgIGNvbnN0IHsgcHJldlRyYWNrcywgcXVldWVSZXZpc2lvbiB9ID0gX3F1ZXVlXHJcblxyXG4gICAgcmV0dXJuIF9jbGllbnQuc2V0UXVldWUoe1xyXG4gICAgICAgIG5leHRUcmFja3MsXHJcbiAgICAgICAgcHJldlRyYWNrcyxcclxuICAgICAgICBxdWV1ZVJldmlzaW9uLFxyXG4gICAgfSkgYXMgUHJvbWlzZTx7IGVycm9yOiBudW1iZXI7IHJlYXNvbnM6IHN0cmluZyB9PlxyXG59XHJcblxyXG5leHBvcnQgY29uc3Qgc2V0UGxheWluZ0NvbnRleHQgPSAodXJpOiBTcG90aWZ5VVJJKSA9PiB7XHJcbiAgICBjb25zdCB7IHNlc3Npb25JZCB9ID0gU3BpY2V0aWZ5LlBsYXRmb3JtLlBsYXllckFQSS5nZXRTdGF0ZSgpXHJcbiAgICByZXR1cm4gU3BpY2V0aWZ5LlBsYXRmb3JtLlBsYXllckFQSS51cGRhdGVDb250ZXh0KHNlc3Npb25JZCwgeyB1cmksIHVybDogXCJjb250ZXh0Oi8vXCIgKyB1cmkgfSkgYXMgUHJvbWlzZTx1bmRlZmluZWQ+XHJcbn1cclxuIiwgImltcG9ydCB7IGVudGVyU25lYWssIGtleUxpc3QsIGxpc3RlblNuZWFrS2V5cywgbW91c2V0cmFwSW5zdCwgcXVpdFNuZWFrIH0gZnJvbSBcIi4vc25lYWsudHNcIlxyXG5pbXBvcnQgeyBCaW5kLCBhcHBTY3JvbGwsIGFwcFNjcm9sbFksIG9wZW5QYWdlLCByb3RhdGVTaWRlYmFyIH0gZnJvbSBcIi4vdXRpbC50c1wiXHJcbmltcG9ydCB7IHRvZ2dsZUxpa2VkIH0gZnJvbSBcIi4uLy4uL3NoYXJlZC91dGlsLnRzXCJcclxuXHJcbmltcG9ydCBcIi4vYXNzZXRzL3N0eWxlcy5zY3NzXCJcclxuXHJcbmNvbnN0IHsgS0VZUyB9ID0gU3BpY2V0aWZ5LktleWJvYXJkXHJcblxyXG5jb25zdCBiaW5kcyA9IFtcclxuICAgIG5ldyBCaW5kKFwic1wiLCBlbnRlclNuZWFrKSxcclxuICAgIG5ldyBCaW5kKFwic1wiLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgLy8gcHJvZHVjdF9zdGF0ZSB3YXMgcmVuYW1lZCB0byBwcm9kdWN0X3N0YXRlX3NlcnZpY2UgaW4gU3BvdGlmeSAxLjIuMjFcclxuICAgICAgICBjb25zdCBwcm9kdWN0U3RhdGUgPVxyXG4gICAgICAgICAgICBTcGljZXRpZnkuUGxhdGZvcm0uVXNlckFQSS5fcHJvZHVjdF9zdGF0ZSB8fCBTcGljZXRpZnkuUGxhdGZvcm0uVXNlckFQSS5fcHJvZHVjdF9zdGF0ZV9zZXJ2aWNlXHJcbiAgICAgICAgYXdhaXQgcHJvZHVjdFN0YXRlLnB1dFZhbHVlcyh7IHBhaXJzOiB7IFwiYXBwLWRldmVsb3BlclwiOiBcIjJcIiB9IH0pXHJcbiAgICAgICAgU3BpY2V0aWZ5LlBsYXRmb3JtLlVwZGF0ZUFQSS5hcHBseVVwZGF0ZSgpXHJcbiAgICB9KS5zZXRTaGlmdCh0cnVlKSxcclxuICAgIG5ldyBCaW5kKFwidGFiXCIsICgpID0+IHJvdGF0ZVNpZGViYXIoMSkpLFxyXG4gICAgbmV3IEJpbmQoXCJ0YWJcIiwgKCkgPT4gcm90YXRlU2lkZWJhcigtMSkpLnNldFNoaWZ0KHRydWUpLFxyXG4gICAgbmV3IEJpbmQoXCJoXCIsIFNwaWNldGlmeS5QbGF0Zm9ybS5IaXN0b3J5LmdvQmFjaykuc2V0U2hpZnQodHJ1ZSksXHJcbiAgICBuZXcgQmluZChcImxcIiwgU3BpY2V0aWZ5LlBsYXRmb3JtLkhpc3RvcnkuZ29Gb3J3YXJkKS5zZXRTaGlmdCh0cnVlKSxcclxuICAgIG5ldyBCaW5kKFwialwiLCAoKSA9PiBhcHBTY3JvbGwoMSkpLFxyXG4gICAgbmV3IEJpbmQoXCJrXCIsICgpID0+IGFwcFNjcm9sbCgtMSkpLFxyXG4gICAgbmV3IEJpbmQoXCJnXCIsICgpID0+IGFwcFNjcm9sbFkoMCkpLFxyXG4gICAgbmV3IEJpbmQoXCJnXCIsICgpID0+IGFwcFNjcm9sbFkoTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpKS5zZXRTaGlmdCh0cnVlKSxcclxuICAgIG5ldyBCaW5kKFwibVwiLCAoKSA9PiB0b2dnbGVMaWtlZChbU3BpY2V0aWZ5LlBsYXllci5kYXRhLml0ZW0udXJpXSkpLFxyXG4gICAgbmV3IEJpbmQoXCIvXCIsIGUgPT4ge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxyXG4gICAgICAgIG9wZW5QYWdlKFwiL3NlYXJjaFwiKVxyXG4gICAgfSksXHJcbl1cclxuXHJcbmJpbmRzLm1hcChiaW5kID0+IGJpbmQucmVnaXN0ZXIoKSlcclxuXHJcbm1vdXNldHJhcEluc3QuYmluZChrZXlMaXN0LCBsaXN0ZW5TbmVha0tleXMsIFwia2V5cHJlc3NcIilcclxubW91c2V0cmFwSW5zdC5iaW5kKEtFWVMu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QUFJRixFQUFLLE1BQU8sSUFBTUUsRUFBYyxFQUFFLENBQUMsRUFBRSxTQUFTLEVBQUksRUFDdEQsSUFBSUYsRUFBSyxJQUFLLFVBQVUsU0FBUyxRQUFRLE1BQU0sRUFBRSxTQUFTLEVBQUksRUFDOUQsSUFBSUEsRUFBSyxJQUFLLFVBQVUsU0FBUyxRQUFRLFNBQVMsRUFBRSxTQUFTLEVBQUksRUFDakUsSUFBSUEsRUFBSyxJQUFLLElBQU1HLEVBQVUsQ0FBQyxDQUFDLEVBQ2hDLElBQUlILEVBQUssSUFBSyxJQUFNRyxFQUFVLEVBQUUsQ0FBQyxFQUNqQyxJQUFJSCxFQUFLLElBQUssSUFBTUksRUFBVyxDQUFDLENBQUMsRUFDakMsSUFBSUosRUFBSyxJQUFLLElBQU1JLEVBQVcsT0FBTyxnQkFBZ0IsQ0FBQyxFQUFFLFNBQVMsRUFBSSxFQUN0RSxJQUFJSixFQUFLLElBQUssSUFBTUssRUFBWSxDQUFDLFVBQVUsT0FBTyxLQUFLLEtBQUssR0FBRyxDQUFDLENBQUMsRUFDakUsSUFBSUwsRUFBSyxJQUFLLEdBQUssQ0FDZixFQUFFLGVBQWUsRUFDakJNLEVBQVMsU0FBUyxDQUN0QixDQUFDLENBQ0wsRUFFQVAsRUFBTSxJQUFJUSxHQUFRQSxFQUFLLFNBQVMsQ0FBQyxFQUVqQ0MsRUFBYyxLQUFLQyxFQUFTQyxFQUFpQixVQUFVLEVBQ3ZERixFQUFjLEtBQUtWLEVBQUssT0FBUWEsQ0FBUyIsCiAgIm5hbWVzIjogWyJhIiwgImYiLCAibiIsICJvcmQiLCAibWVhbiIsICJtb3VzZXRyYXBJbnN0IiwgImtleUxpc3QiLCAiZ2V0U25lYWtLZXlzIiwgInNuZWFrT3ZlcmxheSIsICJjbGVhclNvbWVTbmVha0tleXMiLCAic25lYWtLZXlzIiwgImUiLCAiY2xlYXJTbmVha0tleXMiLCAiZW50ZXJTbmVhayIsICJpc0VsZW1lbnRWaXNpYmxlIiwgImlzRWxlbWVudEluVmlld1BvcnQiLCAiYyIsICJib3VuZCIsICJ3aXRoaW4iLCAibSIsICJNIiwgIngiLCAiY3JlYXRlU25lYWtLZXkiLCAidGFyZ2V0IiwgImtleSIsICJ0b3AiLCAibGVmdCIsICJzbmVha0tleSIsICJzbmVha0tleXNGcmFnbWVudCIsICJsaW5rU2VsZWN0b3IiLCAic2hvdWxkTGlzdGVuVG9TbmVha0JpbmRzIiwgImsxIiwgImsyIiwgInkiLCAicXVpdFNuZWFrIiwgImxpc3RlbmluZ1RvU25lYWtCaW5kcyIsICJsaXN0ZW5TbmVha0tleXMiLCAia3MiLCAibW9kIiwgImYiLCAiU0NST0xMX1NURVAiLCAiZm9jdXNPbkFwcCIsICJhcHBTY3JvbGwiLCAicyIsICJhcHAiLCAic2Nyb2xsSW50ZXJ2YWxJZCIsICJhcHBTY3JvbGxZIiwgInkiLCAib3BlblBhZ2UiLCAicGFnZSIsICJyb3RhdGVTaWRlYmFyIiwgIm9mZnNldCIsICJuYXZMaW5rcyIsICJhY3RpdmUiLCAiZSIsICJjdXJyIiwgInRhcmdldCIsICJCaW5kIiwgImtleSIsICJjYWxsYmFjayIsICJyZXF1aXJlZCIsICJldmVudCIsICJsaXN0ZW5pbmdUb1NuZWFrQmluZHMiLCAiYSIsICJmIiwgIlNwb3RpZnlMb2MiLCAidXJpIiwgInVpZCIsICJpc0xpa2VkIiwgInVyaXMiLCAic2V0TGlrZWQiLCAibGlrZWQiLCAidG9nZ2xlTGlrZWQiLCAiZiIsICJhIiwgImkiLCAiYWNjIiwgInVyaSIsICJ0b0FkZCIsICJ0b1JlbSIsICJwcyIsICJLRVlTIiwgImJpbmRzIiwgIkJpbmQiLCAiZW50ZXJTbmVhayIsICJyb3RhdGVTaWRlYmFyIiwgImFwcFNjcm9sbCIsICJhcHBTY3JvbGxZIiwgInRvZ2dsZUxpa2VkIiwgIm9wZW5QYWdlIiwgImJpbmQiLCAibW91c2V0cmFwSW5zdCIsICJrZXlMaXN0IiwgImxpc3RlblNuZWFrS2V5cyIsICJxdWl0U25lYWsiXQp9Cg==
(async () => {
    if (!document.getElementById("keyboard-shortcuts-css")) {
        const el = document.createElement("style")
        el.id = "keyboard-shortcuts-css"
        
        el.textContent = "#sneak-overlay{z-index:100000;position:absolute;width:100%;height:100%;display:none}#sneak-overlay>.sneak-key{position:fixed;padding:3px 6px;background-color:#000;border-radius:3px;border:solid 2px white;color:#fff;text-transform:lowercase;line-height:normal;font-size:14px;font-weight:500}\n/*# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vZXh0ZW5zaW9ucy9rZXlib2FyZC1zaG9ydGN1dHMvYXNzZXRzL3N0eWxlcy5jc3MiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIiNzbmVhay1vdmVybGF5e3otaW5kZXg6MTAwMDAwO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7ZGlzcGxheTpub25lfSNzbmVhay1vdmVybGF5Pi5zbmVhay1rZXl7cG9zaXRpb246Zml4ZWQ7cGFkZGluZzozcHggNnB4O2JhY2tncm91bmQtY29sb3I6YmxhY2s7Ym9yZGVyLXJhZGl1czozcHg7Ym9yZGVyOnNvbGlkIDJweCB3aGl0ZTtjb2xvcjp3aGl0ZTt0ZXh0LXRyYW5zZm9ybTpsb3dlcmNhc2U7bGluZS1oZWlnaHQ6bm9ybWFsO2ZvbnQtc2l6ZToxNHB4O2ZvbnQtd2VpZ2h0OjUwMH0iXSwKICAibWFwcGluZ3MiOiAiQUFBQSxDQUFDLGNBQWMsUUFBUSxPQUFPLFNBQVMsU0FBUyxNQUFNLEtBQUssT0FBTyxLQUFLLFFBQVEsSUFBSSxDQUFDLENBQW5GLGFBQWlHLENBQUMsQ0FBQyxVQUFVLFNBQVMsTUFBdkgsUUFBcUksSUFBSSxJQUFJLGlCQUFpQixLQUE5SixjQUFrTCxJQUFJLE9BQU8sTUFBTSxJQUFJLE1BQU0sTUFBTSxLQUFNLGVBQWUsVUFBVSxZQUFZLE9BQU8sVUFBVSxLQUFLLFlBQVksR0FBRyIsCiAgIm5hbWVzIjogW10KfQo= */\n"
        document.head.appendChild(el)
    }
})