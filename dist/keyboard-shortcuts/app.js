var U=Object.defineProperty;var M=Object.getOwnPropertyDescriptor;var p=(e,r,t,o)=>{for(var i=o>1?void 0:o?M(r,t):r,s=e.length-1,a;s>=0;s--)(a=e[s])&&(i=(o?a(r,t,i):a(i))||i);return o&&i&&U(r,t,i),i};import{array as g,function as z}from"https://esm.sh/fp-ts";import{LitElement as T,css as N,html as S}from"https://esm.sh/lit";import{customElement as R,property as x}from"https://esm.sh/lit/decorators.js";import{styleMap as j}from"https://esm.sh/lit/directives/style-map.js";import{map as B}from"https://esm.sh/lit/directives/map.js";import{function as d,number as H,ord as q}from"https://esm.sh/fp-ts";import{mean as v}from"https://esm.sh/fp-ts-std/Array";import{mod as O}from"https://esm.sh/fp-ts-std/Number";var $=25,L=()=>document.querySelector(".Root__main-view .os-viewport"),y=e=>{let r=L(),t=setInterval(()=>r.scrollTop+=e*$,10);document.addEventListener("keyup",()=>clearInterval(t))},b=e=>L().scroll(0,e),w=e=>Spicetify.Platform.History.push({pathname:e}),h=e=>{let r=Array.from(Array.from(document.querySelectorAll(".main-yourLibraryX-navLink")).values());d.pipe(document.querySelector(".main-yourLibraryX-navLinkActive"),t=>r.findIndex(o=>o===t),t=>O(r.length)(t===-1&&e<=0?e:t+e),t=>r[t].click())};var n=class{constructor(r,t){this.key=r;this.callback=t;this.ctrl=!1;this.shift=!1;this.alt=!1;this.setCtrl=r=>(this.ctrl=r,this);this.setShift=r=>(this.shift=r,this);this.setAlt=r=>(this.alt=r,this);this.register=()=>Spicetify.Keyboard.registerShortcut({key:this.key,ctrl:this.ctrl,shift:this.shift,alt:this.alt},r=>void(!m&&this.callback(r)))}},I=e=>e.checkVisibility({checkOpacity:!0,checkVisibilityCSS:!0}),P=e=>{let r=document.body,t=e.getBoundingClientRect(),o=(i,s)=>a=>a===q.clamp(H.Ord)(i,s)(a);return d.pipe(v([t.top,t.bottom]),o(0,r.clientHeight))&&d.pipe(v([t.left,t.right]),o(0,r.clientWidth))},_='.Root__top-container [href]:not(link),.Root__top-container button,.Root__top-container [role="button"]';var k=Spicetify.Mousetrap(),u="abcdefghijklmnopqrstuvwxyz".split(""),m=!1,l=class extends T{constructor(){super(...arguments);this.key="None";this.target=document.body}render(){let{x:t,y:o}=this.target.getBoundingClientRect(),i={position:"fixed",padding:"3px 6px",backgroundColor:"black",borderRadius:"3px",border:"solid 2px white",color:"white",textTransform:"lowercase",lineHeight:"normal",fontSize:"14px",fontWeight:"500",top:o+"px",left:t+"px"};return S`<span style=${j(i)}>${this.key}</span>`}};p([x()],l.prototype,"key",2),p([x()],l.prototype,"target",2),l=p([R("sneak-key")],l);var c=class extends T{constructor(){super();this.props=[];requestAnimationFrame(()=>{let t=0,o=0;this.props=z.pipe(Array.from(document.querySelectorAll(_)),g.filter(I),g.filter(P),g.map(i=>{let s=u[t]+u[o++];return o>=u.length&&(t++,o=0),{target:i,key:s}})),t+o===0?this.remove():m=!0})}disconnectedCallback(){super.disconnectedCallback(),m=!1}update_props(t){m&&(this.props=this.props.filter(o=>{let[i,...s]=o.key.toLowerCase();return i!==t?!1:(o.key=s.join(""),!0)}),this.props.length===1&&this.props[0].target.click(),this.props.length<2&&this.remove())}render(){return S`${B(this.props,t=>S`<sneak-key key=${t.key} .target=${t.target} />`)}`}};c.styles=N`:host {
        z-index: 1e5
        position: absolute
        width: 100%
        height: 100%
        display: block
    }`,p([x()],c.prototype,"props",2),c=p([R("sneak-overlay")],c);import{array as V,function as E}from"https://esm.sh/fp-ts";var pe={before:{start:E.constant({before:"start"}),fromUri:e=>({before:{uri:e}}),fromUid:e=>({before:{uid:e}})},after:{end:E.constant({after:"end"}),fromUri:e=>({after:{uri:e}}),fromUid:e=>({after:{uid:e}})}};var K=e=>Spicetify.Platform.LibraryAPI.contains(...e),A=(e,r)=>Spicetify.Platform.LibraryAPI[r?"add":"remove"](...e),C=async e=>{let r=await K(e);return await E.pipe(e,V.reduceWithIndex([[],[]],(t,o,i)=>(o[Number(r[t])].push(i),o)),([t,o])=>{let i=[];return t.length&&i.push(A(t,!0)),o.length&&i.push(A(o,!1)),Promise.all(i)})};debugger;var{KEYS:F}=Spicetify.Keyboard,f,Y=[new n("s",()=>{f=document.createElement("sneak-overlay"),document.body.append(f)}),new n("s",async()=>{await(Spicetify.Platform.UserAPI._product_state||Spicetify.Platform.UserAPI._product_state_service).putValues({pairs:{"app-developer":"2"}}),Spicetify.Platform.UpdateAPI.applyUpdate()}).setShift(!0),new n("tab",()=>h(1)),new n("tab",()=>h(-1)).setShift(!0),new n("h",Spicetify.Platform.History.goBack).setShift(!0),new n("l",Spicetify.Platform.History.goForward).setShift(!0),new n("j",()=>y(1)),new n("k",()=>y(-1)),new n("g",()=>b(0)),new n("g",()=>b(Number.MAX_SAFE_INTEGER)).setShift(!0),new n("m",()=>C([Spicetify.Player.data.item.uri])),new n("/",e=>{e.preventDefault(),w("/search")})];Y.map(e=>e.register());k.bind(u,e=>f.update_props(e.key),"keypress");k.bind(F.ESCAPE,()=>f?.remove());
//! Does location actually point to document.body?
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vZXh0ZW5zaW9ucy9rZXlib2FyZC1zaG9ydGN1dHMvc25lYWsudHMiLCAiLi4vLi4vZXh0ZW5zaW9ucy9rZXlib2FyZC1zaG9ydGN1dHMvdXRpbC50cyIsICIuLi8uLi9zaGFyZWQvdXRpbC50cyIsICIuLi8uLi9leHRlbnNpb25zL2tleWJvYXJkLXNob3J0Y3V0cy9hcHAudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB7IGFycmF5IGFzIGEsIGZ1bmN0aW9uIGFzIGYgfSBmcm9tIFwiaHR0cHM6Ly9lc20uc2gvZnAtdHNcIlxyXG5cclxuaW1wb3J0IHsgTGl0RWxlbWVudCwgY3NzLCBodG1sIH0gZnJvbSBcImh0dHBzOi8vZXNtLnNoL2xpdFwiXHJcbmltcG9ydCB7IGN1c3RvbUVsZW1lbnQsIHByb3BlcnR5IH0gZnJvbSBcImh0dHBzOi8vZXNtLnNoL2xpdC9kZWNvcmF0b3JzLmpzXCJcclxuaW1wb3J0IHsgc3R5bGVNYXAgfSBmcm9tIFwiaHR0cHM6Ly9lc20uc2gvbGl0L2RpcmVjdGl2ZXMvc3R5bGUtbWFwLmpzXCJcclxuaW1wb3J0IHsgbWFwIH0gZnJvbSBcImh0dHBzOi8vZXNtLnNoL2xpdC9kaXJlY3RpdmVzL21hcC5qc1wiXHJcblxyXG5pbXBvcnQgeyBDTElDS0FCTEVfRUxNRU5UX1NFTEVDVE9SLCBpc0VsZW1lbnRJblZpZXdQb3J0LCBpc0VsZW1lbnRWaXNpYmxlIH0gZnJvbSBcIi4vdXRpbC50c1wiXHJcblxyXG5leHBvcnQgY29uc3QgbW91c2V0cmFwSW5zdCA9IFNwaWNldGlmeS5Nb3VzZXRyYXAoKVxyXG5leHBvcnQgY29uc3QgS0VZX0xJU1QgPSBcImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCIuc3BsaXQoXCJcIilcclxuXHJcbmV4cG9ydCBsZXQgbGlzdGVuaW5nVG9TbmVha0JpbmRzID0gZmFsc2VcclxuXHJcbkBjdXN0b21FbGVtZW50KFwic25lYWsta2V5XCIpXHJcbmNsYXNzIFNuZWFrS2V5IGV4dGVuZHMgTGl0RWxlbWVudCB7XHJcbiAgICBAcHJvcGVydHkoKVxyXG4gICAga2V5ID0gXCJOb25lXCJcclxuXHJcbiAgICBAcHJvcGVydHkoKVxyXG4gICAgdGFyZ2V0ID0gZG9jdW1lbnQuYm9keVxyXG5cclxuICAgIHByb3RlY3RlZCByZW5kZXIoKSB7XHJcbiAgICAgICAgY29uc3QgeyB4LCB5IH0gPSB0aGlzLnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxyXG4gICAgICAgIGNvbnN0IHN0eWxlcyA9IHtcclxuICAgICAgICAgICAgcG9zaXRpb246IFwiZml4ZWRcIixcclxuICAgICAgICAgICAgcGFkZGluZzogXCIzcHggNnB4XCIsXHJcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJibGFja1wiLFxyXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiM3B4XCIsXHJcbiAgICAgICAgICAgIGJvcmRlcjogXCJzb2xpZCAycHggd2hpdGVcIixcclxuICAgICAgICAgICAgY29sb3I6IFwid2hpdGVcIixcclxuICAgICAgICAgICAgdGV4dFRyYW5zZm9ybTogXCJsb3dlcmNhc2VcIixcclxuICAgICAgICAgICAgbGluZUhlaWdodDogXCJub3JtYWxcIixcclxuICAgICAgICAgICAgZm9udFNpemU6IFwiMTRweFwiLFxyXG4gICAgICAgICAgICBmb250V2VpZ2h0OiBcIjUwMFwiLFxyXG4gICAgICAgICAgICB0b3A6IHkgKyBcInB4XCIsXHJcbiAgICAgICAgICAgIGxlZnQ6IHggKyBcInB4XCIsXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBodG1sYDxzcGFuIHN0eWxlPSR7c3R5bGVNYXAoc3R5bGVzKX0+JHt0aGlzLmtleX08L3NwYW4+YFxyXG4gICAgfVxyXG59XHJcblxyXG5AY3VzdG9tRWxlbWVudChcInNuZWFrLW92ZXJsYXlcIilcclxuZXhwb3J0IGNsYXNzIFNuZWFrT3ZlcmxheSBleHRlbmRzIExpdEVsZW1lbnQge1xyXG4gICAgc3RhdGljIHN0eWxlcyA9IGNzc2A6aG9zdCB7XHJcbiAgICAgICAgei1pbmRleDogMWU1XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlXHJcbiAgICAgICAgd2lkdGg6IDEwMCVcclxuICAgICAgICBoZWlnaHQ6IDEwMCVcclxuICAgICAgICBkaXNwbGF5OiBibG9ja1xyXG4gICAgfWBcclxuXHJcbiAgICBAcHJvcGVydHkoKVxyXG4gICAgcHJvcHMgPSBbXSBhcyBBcnJheTx7IGtleTogc3RyaW5nOyB0YXJnZXQ6IEhUTUxFbGVtZW50IH0+XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKVxyXG5cclxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgazEgPSAwLFxyXG4gICAgICAgICAgICAgICAgazIgPSAwXHJcblxyXG4gICAgICAgICAgICB0aGlzLnByb3BzID0gZi5waXBlKFxyXG4gICAgICAgICAgICAgICAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsPEhUTUxFbGVtZW50PihDTElDS0FCTEVfRUxNRU5UX1NFTEVDVE9SKSksXHJcbiAgICAgICAgICAgICAgICBhLmZpbHRlcihpc0VsZW1lbnRWaXNpYmxlKSxcclxuICAgICAgICAgICAgICAgIGEuZmlsdGVyKGlzRWxlbWVudEluVmlld1BvcnQpLFxyXG4gICAgICAgICAgICAgICAgYS5tYXAodGFyZ2V0ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBLRVlfTElTVFtrMV0gKyBLRVlfTElTVFtrMisrXVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChrMiA+PSBLRVlfTElTVC5sZW5ndGgpIGsxKyssIChrMiA9IDApXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdGFyZ2V0LCBrZXkgfVxyXG4gICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIClcclxuXHJcbiAgICAgICAgICAgIGlmIChrMSArIGsyID09PSAwKSB0aGlzLnJlbW92ZSgpXHJcbiAgICAgICAgICAgIGVsc2UgbGlzdGVuaW5nVG9TbmVha0JpbmRzID0gdHJ1ZVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XHJcbiAgICAgICAgc3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2soKVxyXG4gICAgICAgIGxpc3RlbmluZ1RvU25lYWtCaW5kcyA9IGZhbHNlXHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlX3Byb3BzKGtleTogS2V5Ym9hcmRFdmVudFtcImtleVwiXSkge1xyXG4gICAgICAgIGlmICghbGlzdGVuaW5nVG9TbmVha0JpbmRzKSB7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5wcm9wcyA9IHRoaXMucHJvcHMuZmlsdGVyKHByb3AgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBbazEsIC4uLmtzXSA9IHByb3Aua2V5LnRvTG93ZXJDYXNlKClcclxuICAgICAgICAgICAgaWYgKGsxICE9PSBrZXkpIHJldHVybiBmYWxzZVxyXG4gICAgICAgICAgICBwcm9wLmtleSA9IGtzLmpvaW4oXCJcIilcclxuICAgICAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgICB9KVxyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmxlbmd0aCA9PT0gMSkgdGhpcy5wcm9wc1swXS50YXJnZXQuY2xpY2soKVxyXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmxlbmd0aCA8IDIpIHRoaXMucmVtb3ZlKClcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgcmVuZGVyKCkge1xyXG4gICAgICAgIHJldHVybiBodG1sYCR7bWFwKHRoaXMucHJvcHMsIGkgPT4gaHRtbGA8c25lYWsta2V5IGtleT0ke2kua2V5fSAudGFyZ2V0PSR7aS50YXJnZXR9IC8+YCl9YFxyXG4gICAgfVxyXG59XHJcblxyXG5kZWNsYXJlIGdsb2JhbCB7XHJcbiAgICBpbnRlcmZhY2UgSFRNTEVsZW1lbnRUYWdOYW1lTWFwIHtcclxuICAgICAgICBcInNuZWFrLWtleVwiOiBTbmVha0tleVxyXG4gICAgICAgIFwic25lYWstb3ZlcmxheVwiOiBTbmVha092ZXJsYXlcclxuICAgIH1cclxufVxyXG4iLCAiaW1wb3J0IHsgZnVuY3Rpb24gYXMgZiwgbnVtYmVyIGFzIG4sIG9yZCB9IGZyb20gXCJodHRwczovL2VzbS5zaC9mcC10c1wiXHJcbmltcG9ydCB7IG1lYW4gfSBmcm9tIFwiaHR0cHM6Ly9lc20uc2gvZnAtdHMtc3RkL0FycmF5XCJcclxuaW1wb3J0IHsgbW9kIH0gZnJvbSBcImh0dHBzOi8vZXNtLnNoL2ZwLXRzLXN0ZC9OdW1iZXJcIlxyXG5pbXBvcnQgeyBsaXN0ZW5pbmdUb1NuZWFrQmluZHMgfSBmcm9tIFwiLi9zbmVhay50c1wiXHJcblxyXG5jb25zdCBTQ1JPTExfU1RFUCA9IDI1XHJcblxyXG5jb25zdCBmb2N1c09uQXBwID0gKCkgPT4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxFbGVtZW50PihcIi5Sb290X19tYWluLXZpZXcgLm9zLXZpZXdwb3J0XCIpIVxyXG5cclxuZXhwb3J0IGNvbnN0IGFwcFNjcm9sbCA9IChzOiBudW1iZXIpID0+IHtcclxuICAgIGNvbnN0IGFwcCA9IGZvY3VzT25BcHAoKVxyXG4gICAgY29uc3Qgc2Nyb2xsSW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IChhcHAuc2Nyb2xsVG9wICs9IHMgKiBTQ1JPTExfU1RFUCksIDEwKVxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsICgpID0+IGNsZWFySW50ZXJ2YWwoc2Nyb2xsSW50ZXJ2YWxJZCkpXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBhcHBTY3JvbGxZID0gKHk6IG51bWJlcikgPT4gZm9jdXNPbkFwcCgpLnNjcm9sbCgwLCB5KVxyXG5cclxuZXhwb3J0IGNvbnN0IG9wZW5QYWdlID0gKHBhZ2U6IHN0cmluZykgPT4gU3BpY2V0aWZ5LlBsYXRmb3JtLkhpc3RvcnkucHVzaCh7IHBhdGhuYW1lOiBwYWdlIH0pXHJcblxyXG5leHBvcnQgY29uc3Qgcm90YXRlU2lkZWJhciA9IChvZmZzZXQ6IG51bWJlcikgPT4ge1xyXG4gICAgY29uc3QgbmF2TGlua3MgPSBBcnJheS5mcm9tKFxyXG4gICAgICAgIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbDxIVE1MRWxlbWVudD4oXCIubWFpbi15b3VyTGlicmFyeVgtbmF2TGlua1wiKSkudmFsdWVzKCksXHJcbiAgICApXHJcblxyXG4gICAgZi5waXBlKFxyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi15b3VyTGlicmFyeVgtbmF2TGlua0FjdGl2ZVwiKSxcclxuICAgICAgICBhY3RpdmUgPT4gbmF2TGlua3MuZmluZEluZGV4KGUgPT4gZSA9PT0gYWN0aXZlKSxcclxuICAgICAgICBjdXJyID0+IG1vZChuYXZMaW5rcy5sZW5ndGgpKGN1cnIgPT09IC0xICYmIG9mZnNldCA8PSAwID8gb2Zmc2V0IDogY3VyciArIG9mZnNldCksXHJcbiAgICAgICAgdGFyZ2V0ID0+IG5hdkxpbmtzW3RhcmdldF0uY2xpY2soKSxcclxuICAgIClcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHJlc2l6ZUxlZnRTaWRlYmFyID0gKHB4czogbnVtYmVyKSA9PiB7XHJcbiAgICBjb25zdCBodG1sID0gZG9jdW1lbnQuZmlyc3RFbGVtZW50Q2hpbGQhIGFzIEhUTUxIdG1sRWxlbWVudCxcclxuICAgICAgICBodG1sU3R5bGUgPSBodG1sLnN0eWxlXHJcbiAgICBodG1sU3R5bGUuY3NzVGV4dCA9IGh0bWxTdHlsZS5jc3NUZXh0LnJlcGxhY2UoLygtLWxlZnQtc2lkZWJhci13aWR0aDogKVteO10rLywgYCQxJHtweHN9cHhgKVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQmluZCB7XHJcbiAgICBwcml2YXRlIGN0cmwgPSBmYWxzZVxyXG4gICAgcHJpdmF0ZSBzaGlmdCA9IGZhbHNlXHJcbiAgICBwcml2YXRlIGFsdCA9IGZhbHNlXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGtleTogc3RyaW5nLCBwcml2YXRlIGNhbGxiYWNrOiAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IHZvaWQpIHt9XHJcblxyXG4gICAgc2V0Q3RybCA9IChyZXF1aXJlZDogYm9vbGVhbikgPT4gKCh0aGlzLmN0cmwgPSByZXF1aXJlZCksIHRoaXMpXHJcbiAgICBzZXRTaGlmdCA9IChyZXF1aXJlZDogYm9vbGVhbikgPT4gKCh0aGlzLnNoaWZ0ID0gcmVxdWlyZWQpLCB0aGlzKVxyXG4gICAgc2V0QWx0ID0gKHJlcXVpcmVkOiBib29sZWFuKSA9PiAoKHRoaXMuYWx0ID0gcmVxdWlyZWQpLCB0aGlzKVxyXG5cclxuICAgIHJlZ2lzdGVyID0gKCkgPT5cclxuICAgICAgICBTcGljZXRpZnkuS2V5Ym9hcmQucmVnaXN0ZXJTaG9ydGN1dChcclxuICAgICAgICAgICAgeyBrZXk6IHRoaXMua2V5LCBjdHJsOiB0aGlzLmN0cmwsIHNoaWZ0OiB0aGlzLnNoaWZ0LCBhbHQ6IHRoaXMuYWx0IH0sXHJcbiAgICAgICAgICAgIGV2ZW50ID0+IHZvaWQgKCFsaXN0ZW5pbmdUb1NuZWFrQmluZHMgJiYgdGhpcy5jYWxsYmFjayhldmVudCkpLFxyXG4gICAgICAgIClcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGlzRWxlbWVudFZpc2libGUgPSAoZTogSFRNTEVsZW1lbnQpID0+IGUuY2hlY2tWaXNpYmlsaXR5KHsgY2hlY2tPcGFjaXR5OiB0cnVlLCBjaGVja1Zpc2liaWxpdHlDU1M6IHRydWUgfSlcclxuZXhwb3J0IGNvbnN0IGlzRWxlbWVudEluVmlld1BvcnQgPSAoZTogSFRNTEVsZW1lbnQpID0+IHtcclxuICAgIGNvbnN0IGMgPSBkb2N1bWVudC5ib2R5XHJcbiAgICBjb25zdCBib3VuZCA9IGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcclxuICAgIGNvbnN0IHdpdGhpbiA9IChtOiBudW1iZXIsIE06IG51bWJlcikgPT4gKHg6IG51bWJlcikgPT4geCA9PT0gb3JkLmNsYW1wKG4uT3JkKShtLCBNKSh4KVxyXG4gICAgcmV0dXJuIChcclxuICAgICAgICBmLnBpcGUobWVhbihbYm91bmQudG9wLCBib3VuZC5ib3R0b21dKSwgd2l0aGluKDAsIGMuY2xpZW50SGVpZ2h0KSkgJiZcclxuICAgICAgICBmLnBpcGUobWVhbihbYm91bmQubGVmdCwgYm91bmQucmlnaHRdKSwgd2l0aGluKDAsIGMuY2xpZW50V2lkdGgpKVxyXG4gICAgKVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQ0xJQ0tBQkxFX0VMTUVOVF9TRUxFQ1RPUiA9IGAuUm9vdF9fdG9wLWNvbnRhaW5lciBbaHJlZl06bm90KGxpbmspLC5Sb290X190b3AtY29udGFpbmVyIGJ1dHRvbiwuUm9vdF9fdG9wLWNvbnRhaW5lciBbcm9sZT1cImJ1dHRvblwiXWBcclxuIiwgIi8vIGV4cG9ydCBpbnRlcmZhY2UgU3BvdGlmeUlEXHJcbi8vICAgICBleHRlbmRzIE5ld3R5cGU8eyByZWFkb25seSBTcG90aWZ5SUQ6IHVuaXF1ZSBzeW1ib2wgfSwgc3RyaW5nPiB7fVxyXG4vLyBleHBvcnQgaW50ZXJmYWNlIFNwb3RpZnlVUklcclxuLy8gICAgIGV4dGVuZHMgTmV3dHlwZTx7IHJlYWRvbmx5IFNwb3RpZnlVUkk6IHVuaXF1ZSBzeW1ib2wgfSwgc3RyaW5nPiB7fVxyXG5cclxuaW1wb3J0IHsgYXJyYXkgYXMgYSwgZnVuY3Rpb24gYXMgZiB9IGZyb20gXCJodHRwczovL2VzbS5zaC9mcC10c1wiXHJcblxyXG5leHBvcnQgdHlwZSBTcG90aWZ5SUQgPSBzdHJpbmdcclxuZXhwb3J0IHR5cGUgU3BvdGlmeVVSSSA9IHN0cmluZ1xyXG5cclxuZXhwb3J0IHR5cGUgU3BvdGlmeUxvY09iaiA9IHtcclxuICAgIGJlZm9yZT86IFwic3RhcnRcIiB8IHsgdXJpOiBTcG90aWZ5VVJJIH0gfCB7IHVpZDogc3RyaW5nIH1cclxuICAgIGFmdGVyPzogXCJlbmRcIiB8IHsgdXJpOiBTcG90aWZ5VVJJIH0gfCB7IHVpZDogc3RyaW5nIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IFNwb3RpZnlMb2MgPSB7XHJcbiAgICBiZWZvcmU6IHtcclxuICAgICAgICBzdGFydDogZi5jb25zdGFudCh7IGJlZm9yZTogXCJzdGFydFwiIH0gYXMgU3BvdGlmeUxvY09iaiksXHJcbiAgICAgICAgZnJvbVVyaTogKHVyaTogU3BvdGlmeVVSSSkgPT4gKHsgYmVmb3JlOiB7IHVyaSB9IH0pLFxyXG4gICAgICAgIGZyb21VaWQ6ICh1aWQ6IHN0cmluZykgPT4gKHsgYmVmb3JlOiB7IHVpZCB9IH0pLFxyXG4gICAgfSxcclxuICAgIGFmdGVyOiB7XHJcbiAgICAgICAgZW5kOiBmLmNvbnN0YW50KHsgYWZ0ZXI6IFwiZW5kXCIgfSBhcyBTcG90aWZ5TG9jT2JqKSxcclxuICAgICAgICBmcm9tVXJpOiAodXJpOiBTcG90aWZ5VVJJKSA9PiAoeyBhZnRlcjogeyB1cmkgfSB9KSxcclxuICAgICAgICBmcm9tVWlkOiAodWlkOiBzdHJpbmcpID0+ICh7IGFmdGVyOiB7IHVpZCB9IH0pLFxyXG4gICAgfSxcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGVzY2FwZVJlZ2V4ID0gKHN0cjogc3RyaW5nKSA9PiBzdHIucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xcXVxcXFxdL2csIGBcXFxcJCZgKVxyXG5cclxuZXhwb3J0IGNvbnN0IHRpdGxlQ2FzZSA9IChzdHI6IHN0cmluZykgPT4gc3RyLnJlcGxhY2UoL1xcYlxcdy9nLCBsID0+IGwudG9VcHBlckNhc2UoKSlcclxuXHJcbmV4cG9ydCBjb25zdCBub3JtYWxpemVTdHIgPSAoc3RyOiBzdHJpbmcpID0+XHJcbiAgICBzdHJcclxuICAgICAgICAubm9ybWFsaXplKFwiTkZLRFwiKVxyXG4gICAgICAgIC5yZXBsYWNlKC9cXCguKlxcKS9nLCBcIlwiKVxyXG4gICAgICAgIC5yZXBsYWNlKC9cXFsuKlxcXS9nLCBcIlwiKVxyXG4gICAgICAgIC5yZXBsYWNlKC8tXywvZywgXCIgXCIpXHJcbiAgICAgICAgLnJlcGxhY2UoL1teYS16QS1aMC05IF0vZywgXCJcIilcclxuICAgICAgICAucmVwbGFjZSgvXFxzKy9nLCBcIiBcIilcclxuICAgICAgICAudG9Mb3dlckNhc2UoKVxyXG4gICAgICAgIC50cmltKClcclxuXHJcbi8vISBEb2VzIGxvY2F0aW9uIGFjdHVhbGx5IHBvaW50IHRvIGRvY3VtZW50LmJvZHk/XHJcbmV4cG9ydCBjb25zdCB3YWl0Rm9yRWxlbWVudCA9IDxFIGV4dGVuZHMgRWxlbWVudD4oXHJcbiAgICBzZWxlY3Rvcjogc3RyaW5nLFxyXG4gICAgdGltZW91dCA9IDEwMDAsXHJcbiAgICBsb2NhdGlvbiA9IGRvY3VtZW50LmJvZHksXHJcbiAgICBub3RFbD86IEUsXHJcbikgPT5cclxuICAgIG5ldyBQcm9taXNlKChyZXNvbHZlOiAodmFsdWU6IEVsZW1lbnQgfCBudWxsKSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgY29uc3QgcmVzID0gKHY6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KClcclxuICAgICAgICAgICAgcmVzb2x2ZSh2KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxFPihzZWxlY3RvcilcclxuICAgICAgICAgICAgaWYgKGVsICYmICghbm90RWwgfHwgZWwgIT09IG5vdEVsKSkgcmV0dXJuIHJlcyhlbClcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGxvY2F0aW9uLCB7XHJcbiAgICAgICAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcclxuICAgICAgICAgICAgc3VidHJlZTogdHJ1ZSxcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBpZiAodGltZW91dCkgc2V0VGltZW91dCgoKSA9PiByZXMobnVsbCksIHRpbWVvdXQpXHJcbiAgICB9KVxyXG5cclxuZXhwb3J0IGNvbnN0IHRyYXBFbGVtZW50ID0gPEUgZXh0ZW5kcyBFbGVtZW50PihcclxuICAgIHNlbGVjdG9yOiBzdHJpbmcsXHJcbiAgICBjYWxsYmFjazogKGVsOiBFIHwgbnVsbCwgbGFzdEVsOiBFIHwgbnVsbCkgPT4gdm9pZCxcclxuICAgIGxvY2F0aW9uID0gZG9jdW1lbnQuYm9keSxcclxuKSA9PiB7XHJcbiAgICBsZXQgbGFzdEVsOiBFIHwgbnVsbCA9IG51bGxcclxuXHJcbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKCgpID0+IHtcclxuICAgICAgICBjb25zdCBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8RT4oc2VsZWN0b3IpXHJcbiAgICAgICAgaWYgKGVsICE9PSBsYXN0RWwpIGNhbGxiYWNrKGVsLCBsYXN0RWwpXHJcbiAgICAgICAgbGFzdEVsID0gZWxcclxuICAgIH0pXHJcblxyXG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZShsb2NhdGlvbiwge1xyXG4gICAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcclxuICAgICAgICBzdWJ0cmVlOiB0cnVlLFxyXG4gICAgfSlcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHNsZWVwID0gKG1zOiBudW1iZXIpID0+IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpXHJcblxyXG5leHBvcnQgY29uc3QgZ2V0UmVhY3RQcm9wcyA9IChlbGVtZW50OiBFbGVtZW50KSA9PlxyXG4gICAgZWxlbWVudFtPYmplY3Qua2V5cyhlbGVtZW50KS5maW5kKGsgPT4gay5zdGFydHNXaXRoKFwiX19yZWFjdFByb3BzJFwiKSkgYXMga2V5b2YgdHlwZW9mIGVsZW1lbnRdXHJcblxyXG5leHBvcnQgY29uc3QgaXNMaWtlZCA9ICh1cmlzOiBTcG90aWZ5VVJJW10pID0+IFNwaWNldGlmeS5QbGF0Zm9ybS5MaWJyYXJ5QVBJLmNvbnRhaW5zKC4uLnVyaXMpIGFzIFByb21pc2U8Ym9vbGVhbltdPlxyXG5cclxuZXhwb3J0IGNvbnN0IHNldExpa2VkID0gKHVyaXM6IFNwb3RpZnlVUklbXSwgbGlrZWQ6IGJvb2xlYW4pID0+XHJcbiAgICBTcGljZXRpZnkuUGxhdGZvcm0uTGlicmFyeUFQSVtsaWtlZCA/IFwiYWRkXCIgOiBcInJlbW92ZVwiXSguLi51cmlzKVxyXG5cclxuZXhwb3J0IGNvbnN0IHRvZ2dsZUxpa2VkID0gYXN5bmMgKHVyaXM6IFNwb3RpZnlVUklbXSkgPT4ge1xyXG4gICAgY29uc3QgbGlrZWQgPSBhd2FpdCBpc0xpa2VkKHVyaXMpXHJcblxyXG4gICAgcmV0dXJuIGF3YWl0IGYucGlwZShcclxuICAgICAgICB1cmlzLFxyXG4gICAgICAgIGEucmVkdWNlV2l0aEluZGV4KFxyXG4gICAgICAgICAgICBbW10gYXMgU3BvdGlmeVVSSVtdLCBbXSBhcyBTcG90aWZ5VVJJW11dIGFzIGNvbnN0LFxyXG4gICAgICAgICAgICAoaSwgYWNjLCB1cmkpID0+IChhY2NbTnVtYmVyKGxpa2VkW2ldKV0ucHVzaCh1cmkpLCBhY2MpLFxyXG4gICAgICAgICksXHJcbiAgICAgICAgKFt0b0FkZCwgdG9SZW1dKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBzID0gW11cclxuICAgICAgICAgICAgaWYgKHRvQWRkLmxlbmd0aCkgcHMucHVzaChzZXRMaWtlZCh0b0FkZCwgdHJ1ZSkpXHJcbiAgICAgICAgICAgIGlmICh0b1JlbS5sZW5ndGgpIHBzLnB1c2goc2V0TGlrZWQodG9SZW0sIGZhbHNlKSlcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHBzKVxyXG4gICAgICAgIH0sXHJcbiAgICApXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVRdWV1ZUl0ZW0gPSAocXVldWVkOiBib29sZWFuKSA9PiAodXJpOiBTcG90aWZ5VVJJKSA9PiAoe1xyXG4gICAgY29udGV4dFRyYWNrOiB7XHJcbiAgICAgICAgdXJpLFxyXG4gICAgICAgIHVpZDogXCJcIixcclxuICAgICAgICBtZXRhZGF0YToge1xyXG4gICAgICAgICAgICBpc19xdWV1ZWQ6IHF1ZXVlZC50b1N0cmluZygpLFxyXG4gICAgICAgIH0sXHJcbiAgICB9LFxyXG4gICAgcmVtb3ZlZDogW10sXHJcbiAgICBibG9ja2VkOiBbXSxcclxuICAgIHByb3ZpZGVyOiBxdWV1ZWQgPyBcInF1ZXVlXCIgOiBcImNvbnRleHRcIixcclxufSlcclxuXHJcbmV4cG9ydCBjb25zdCBzZXRRdWV1ZSA9IGFzeW5jIChuZXh0VHJhY2tzOiBBcnJheTxSZXR1cm5UeXBlPFJldHVyblR5cGU8dHlwZW9mIGNyZWF0ZVF1ZXVlSXRlbT4+PikgPT4ge1xyXG4gICAgY29uc3QgeyBfcXVldWUsIF9jbGllbnQgfSA9IFNwaWNldGlmeS5QbGF0Zm9ybS5QbGF5ZXJBUEkuX3F1ZXVlXHJcbiAgICBjb25zdCB7IHByZXZUcmFja3MsIHF1ZXVlUmV2aXNpb24gfSA9IF9xdWV1ZVxyXG5cclxuICAgIHJldHVybiBfY2xpZW50LnNldFF1ZXVlKHtcclxuICAgICAgICBuZXh0VHJhY2tzLFxyXG4gICAgICAgIHByZXZUcmFja3MsXHJcbiAgICAgICAgcXVldWVSZXZpc2lvbixcclxuICAgIH0pIGFzIFByb21pc2U8eyBlcnJvcjogbnVtYmVyOyByZWFzb25zOiBzdHJpbmcgfT5cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHNldFBsYXlpbmdDb250ZXh0ID0gKHVyaTogU3BvdGlmeVVSSSkgPT4ge1xyXG4gICAgY29uc3QgeyBzZXNzaW9uSWQgfSA9IFNwaWNldGlmeS5QbGF0Zm9ybS5QbGF5ZXJBUEkuZ2V0U3RhdGUoKVxyXG4gICAgcmV0dXJuIFNwaWNldGlmeS5QbGF0Zm9ybS5QbGF5ZXJBUEkudXBkYXRlQ29udGV4dChzZXNzaW9uSWQsIHsgdXJpLCB1cmw6IFwiY29udGV4dDovL1wiICsgdXJpIH0pIGFzIFByb21pc2U8dW5kZWZpbmVkPlxyXG59XHJcbiIsICJkZWJ1Z2dlclxyXG5cclxuaW1wb3J0IHsgS0VZX0xJU1QsIFNuZWFrT3ZlcmxheSwgbW91c2V0cmFwSW5zdCB9IGZyb20gXCIuL3NuZWFrLnRzXCJcclxuaW1wb3J0IHsgQmluZCwgYXBwU2Nyb2xsLCBhcHBTY3JvbGxZLCBvcGVuUGFnZSwgcm90YXRlU2lkZWJhciB9IGZyb20gXCIuL3V0aWwudHNcIlxyXG5pbXBvcnQgeyB0b2dnbGVMaWtlZCB9IGZyb20gXCIuLi8uLi9zaGFyZWQvdXRpbC50c1wiXHJcblxyXG5pbXBvcnQgXCIuL2Fzc2V0cy9zdHlsZXMuc2Nzc1wiXHJcblxyXG5jb25zdCB7IEtFWVMgfSA9IFNwaWNldGlmeS5LZXlib2FyZFxyXG5cclxubGV0IHNuZWFrT3ZlcmxheTogU25lYWtPdmVybGF5XHJcblxyXG5jb25zdCBiaW5kcyA9IFtcclxuICAgIG5ldyBCaW5kKFwic1wiLCAoKSA9PiB7XHJcbiAgICAgICAgc25lYWtPdmVybGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNuZWFrLW92ZXJsYXlcIilcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZChzbmVha092ZXJsYXkpXHJcbiAgICB9KSxcclxuICAgIG5ldyBCaW5kKFwic1wiLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgLy8gcHJvZHVjdF9zdGF0ZSB3YXMgcmVuYW1lZCB0byBwcm9kdWN0X3N0YXRlX3NlcnZpY2UgaW4gU3BvdGlmeSAxLjIuMjFcclxuICAgICAgICBjb25zdCBwcm9kdWN0U3RhdGUgPVxyXG4gICAgICAgICAgICBTcGljZXRpZnkuUGxhdGZvcm0uVXNlckFQSS5fcHJvZHVjdF9zdGF0ZSB8fCBTcGljZXRpZnkuUGxhdGZvcm0uVXNlckFQSS5fcHJvZHVjdF9zdGF0ZV9zZXJ2aWNlXHJcbiAgICAgICAgYXdhaXQgcHJvZHVjdFN0YXRlLnB1dFZhbHVlcyh7IHBhaXJzOiB7IFwiYXBwLWRldmVsb3BlclwiOiBcIjJcIiB9IH0pXHJcbiAgICAgICAgU3BpY2V0aWZ5LlBsYXRmb3JtLlVwZGF0ZUFQSS5hcHBseVVwZGF0ZSgpXHJcbiAgICB9KS5zZXRTaGlmdCh0cnVlKSxcclxuICAgIG5ldyBCaW5kKFwidGFiXCIsICgpID0+IHJvdGF0ZVNpZGViYXIoMSkpLFxyXG4gICAgbmV3IEJpbmQoXCJ0YWJcIiwgKCkgPT4gcm90YXRlU2lkZWJhcigtMSkpLnNldFNoaWZ0KHRydWUpLFxyXG4gICAgbmV3IEJpbmQoXCJoXCIsIFNwaWNldGlmeS5QbGF0Zm9ybS5IaXN0b3J5LmdvQmFjaykuc2V0U2hpZnQodHJ1ZSksXHJcbiAgICBuZXcgQmluZChcImxcIiwgU3BpY2V0aWZ5LlBsYXRmb3JtLkhpc3RvcnkuZ29Gb3J3YXJkKS5zZXRTaGlmdCh0cnVlKSxcclxuICAgIG5ldyBCaW5kKFwialwiLCAoKSA9PiBhcHBTY3JvbGwoMSkpLFxyXG4gICAgbmV3IEJpbmQoXCJrXCIsICgpID0+IGFwcFNjcm9sbCgtMSkpLFxyXG4gICAgbmV3IEJpbmQoXCJnXCIsICgpID0+IGFwcFNjcm9sbFkoMCkpLFxyXG4gICAgbmV3IEJpbmQoXCJnXCIsICgpID0+IGFwcFNjcm9sbFkoTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpKS5zZXRTaGlmdCh0cnVlKSxcclxuICAgIG5ldyBCaW5kKFwibVwiLCAoKSA9PiB0b2dnbGVMaWtlZChbU3BpY2V0aWZ5LlBsYXllci5kYXRhLml0ZW0udXJpXSkpLFxyXG4gICAgbmV3IEJpbmQoXCIvXCIsIGUgPT4ge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxyXG4gICAgICAgIG9wZW5QYWdlKFwiL3NlYXJjaFwiKVxyXG4gICAgfSksXHJcbl1cclxuXHJcbmJpbmRzLm1hcChiaW5kID0+IGJpbmQucmVnaXN0ZXIoKSlcclxuXHJcbm1vdXNldHJhcEluc3QuYmluZChLRVlfTElTVCwgZSA9PiBzbmVha092ZXJsYXkudXBkYXRlX3Byb3BzKGUua2V5KSwgXCJrZXlwcmVzc1wiKVxyXG5tb3VzZXRyYXBJbnN0LmJpbmQoS0VZUy5FU0NBUEUsICgpID0+IHNu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RUFBSyxNQUFPLElBQU1DLEVBQWMsRUFBRSxDQUFDLEVBQUUsU0FBUyxFQUFJLEVBQ3RELElBQUlELEVBQUssSUFBSyxVQUFVLFNBQVMsUUFBUSxNQUFNLEVBQUUsU0FBUyxFQUFJLEVBQzlELElBQUlBLEVBQUssSUFBSyxVQUFVLFNBQVMsUUFBUSxTQUFTLEVBQUUsU0FBUyxFQUFJLEVBQ2pFLElBQUlBLEVBQUssSUFBSyxJQUFNRSxFQUFVLENBQUMsQ0FBQyxFQUNoQyxJQUFJRixFQUFLLElBQUssSUFBTUUsRUFBVSxFQUFFLENBQUMsRUFDakMsSUFBSUYsRUFBSyxJQUFLLElBQU1HLEVBQVcsQ0FBQyxDQUFDLEVBQ2pDLElBQUlILEVBQUssSUFBSyxJQUFNRyxFQUFXLE9BQU8sZ0JBQWdCLENBQUMsRUFBRSxTQUFTLEVBQUksRUFDdEUsSUFBSUgsRUFBSyxJQUFLLElBQU1JLEVBQVksQ0FBQyxVQUFVLE9BQU8sS0FBSyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEVBQ2pFLElBQUlKLEVBQUssSUFBSyxHQUFLLENBQ2YsRUFBRSxlQUFlLEVBQ2pCSyxFQUFTLFNBQVMsQ0FDdEIsQ0FBQyxDQUNMLEVBRUFOLEVBQU0sSUFBSU8sR0FBUUEsRUFBSyxTQUFTLENBQUMsRUFFakNDLEVBQWMsS0FBS0MsRUFBVSxHQUFLVixFQUFhLGFBQWEsRUFBRSxHQUFHLEVBQUcsVUFBVSxFQUM5RVMsRUFBYyxLQUFLVixFQUFLLE9BQVEsSUFBTUMsR0FBYyxPQUFPLENBQUMiLAogICJuYW1lcyI6IFsiYSIsICJmIiwgIkxpdEVsZW1lbnQiLCAiY3NzIiwgImh0bWwiLCAiY3VzdG9tRWxlbWVudCIsICJwcm9wZXJ0eSIsICJzdHlsZU1hcCIsICJtYXAiLCAiZiIsICJuIiwgIm9yZCIsICJtZWFuIiwgIm1vZCIsICJTQ1JPTExfU1RFUCIsICJmb2N1c09uQXBwIiwgImFwcFNjcm9sbCIsICJzIiwgImFwcCIsICJzY3JvbGxJbnRlcnZhbElkIiwgImFwcFNjcm9sbFkiLCAieSIsICJvcGVuUGFnZSIsICJwYWdlIiwgInJvdGF0ZVNpZGViYXIiLCAib2Zmc2V0IiwgIm5hdkxpbmtzIiwgImYiLCAiYWN0aXZlIiwgImUiLCAiY3VyciIsICJtb2QiLCAidGFyZ2V0IiwgIkJpbmQiLCAia2V5IiwgImNhbGxiYWNrIiwgInJlcXVpcmVkIiwgImV2ZW50IiwgImxpc3RlbmluZ1RvU25lYWtCaW5kcyIsICJpc0VsZW1lbnRWaXNpYmxlIiwgImlzRWxlbWVudEluVmlld1BvcnQiLCAiYyIsICJib3VuZCIsICJ3aXRoaW4iLCAibSIsICJNIiwgIngiLCAib3JkIiwgIm4iLCAiZiIsICJtZWFuIiwgIkNMSUNLQUJMRV9FTE1FTlRfU0VMRUNUT1IiLCAibW91c2V0cmFwSW5zdCIsICJLRVlfTElTVCIsICJsaXN0ZW5pbmdUb1NuZWFrQmluZHMiLCAiU25lYWtLZXkiLCAiTGl0RWxlbWVudCIsICJ4IiwgInkiLCAic3R5bGVzIiwgImh0bWwiLCAic3R5bGVNYXAiLCAiX19kZWNvcmF0ZUNsYXNzIiwgInByb3BlcnR5IiwgImN1c3RvbUVsZW1lbnQiLCAiU25lYWtPdmVybGF5IiwgImsxIiwgImsyIiwgImYiLCAiQ0xJQ0tBQkxFX0VMTUVOVF9TRUxFQ1RPUiIsICJhIiwgImlzRWxlbWVudFZpc2libGUiLCAiaXNFbGVtZW50SW5WaWV3UG9ydCIsICJ0YXJnZXQiLCAia2V5IiwgInByb3AiLCAia3MiLCAibWFwIiwgImkiLCAiY3NzIiwgImEiLCAiZiIsICJTcG90aWZ5TG9jIiwgInVyaSIsICJ1aWQiLCAiaXNMaWtlZCIsICJ1cmlzIiwgInNldExpa2VkIiwgImxpa2VkIiwgInRvZ2dsZUxpa2VkIiwgImYiLCAiYSIsICJpIiwgImFjYyIsICJ1cmkiLCAidG9BZGQiLCAidG9SZW0iLCAicHMiLCAiS0VZUyIsICJzbmVha092ZXJsYXkiLCAiYmluZHMiLCAiQmluZCIsICJyb3RhdGVTaWRlYmFyIiwgImFwcFNjcm9sbCIsICJhcHBTY3JvbGxZIiwgInRvZ2dsZUxpa2VkIiwgIm9wZW5QYWdlIiwgImJpbmQiLCAibW91c2V0cmFwSW5zdCIsICJLRVlfTElTVCJdCn0K
(async () => {
    if (!document.getElementById("keyboard-shortcuts-css")) {
        const el = document.createElement("style")
        el.id = "keyboard-shortcuts-css"
        
        el.textContent = "#sneak-overlay{z-index:100000;position:absolute;width:100%;height:100%;display:none}#sneak-overlay>.sneak-key{position:fixed;padding:3px 6px;background-color:#000;border-radius:3px;border:solid 2px white;color:#fff;text-transform:lowercase;line-height:normal;font-size:14px;font-weight:500}\n/*# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vZXh0ZW5zaW9ucy9rZXlib2FyZC1zaG9ydGN1dHMvYXNzZXRzL3N0eWxlcy5jc3MiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIiNzbmVhay1vdmVybGF5e3otaW5kZXg6MTAwMDAwO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7ZGlzcGxheTpub25lfSNzbmVhay1vdmVybGF5Pi5zbmVhay1rZXl7cG9zaXRpb246Zml4ZWQ7cGFkZGluZzozcHggNnB4O2JhY2tncm91bmQtY29sb3I6YmxhY2s7Ym9yZGVyLXJhZGl1czozcHg7Ym9yZGVyOnNvbGlkIDJweCB3aGl0ZTtjb2xvcjp3aGl0ZTt0ZXh0LXRyYW5zZm9ybTpsb3dlcmNhc2U7bGluZS1oZWlnaHQ6bm9ybWFsO2ZvbnQtc2l6ZToxNHB4O2ZvbnQtd2VpZ2h0OjUwMH0iXSwKICAibWFwcGluZ3MiOiAiQUFBQSxDQUFDLGNBQWMsUUFBUSxPQUFPLFNBQVMsU0FBUyxNQUFNLEtBQUssT0FBTyxLQUFLLFFBQVEsSUFBSSxDQUFDLENBQW5GLGFBQWlHLENBQUMsQ0FBQyxVQUFVLFNBQVMsTUFBdkgsUUFBcUksSUFBSSxJQUFJLGlCQUFpQixLQUE5SixjQUFrTCxJQUFJLE9BQU8sTUFBTSxJQUFJLE1BQU0sTUFBTSxLQUFNLGVBQWUsVUFBVSxZQUFZLE9BQU8sVUFBVSxLQUFLLFlBQVksR0FBRyIsCiAgIm5hbWVzIjogW10KfQo= */\n"
        document.head.appendChild(el)
    }
})()